---
description: Fix all linting and formatting issues
allowed-tools: Bash(just lint-fix, just fmt, just colors)
---

# Lint & Format Fixer

**Process:**
1. Run `just lint-fix` (ESLint auto-fix)
2. Run `just fmt` (Prettier)
3. Run `just colors` (semantic color validation)
4. Report remaining issues that need manual attention

---

## Execution Steps

### Step 1: Run ESLint Auto-Fix

Execute ESLint with auto-fix to resolve linting violations:

```bash
just lint-fix
```

**Expected Output:**
- Fixed ESLint violations (if any)
- List of files modified
- Remaining violations that require manual fixes (if any)

**What This Fixes:**
- Import/export issues
- Unused variables
- Incorrect rule violations
- Auto-fixable patterns per project configuration

### Step 2: Run Prettier Formatting

Format all code files according to project style:

```bash
just fmt
```

**Expected Output:**
- List of reformatted files
- Confirmation that formatting is complete

**What This Fixes:**
- Code indentation
- Line breaks
- Spacing
- Quote styles
- Trailing commas
- Arrow function parens

### Step 3: Validate Semantic Colors

Check that all Tailwind color usage follows design system tokens:

```bash
just colors
```

**Expected Output:**
- Validation result for semantic colors
- List of any hardcoded or non-semantic color violations
- Files and line numbers requiring manual fixes

**What This Checks:**
- Hardcoded hex colors (e.g., `#3B82F6` → use semantic token)
- Non-semantic Tailwind colors (e.g., `bg-gray-500` → use `bg-muted`)
- Pure black/white values
- Raw OKLCH values not in design system

---

## Expected Results

After running all three commands, you should have:

**Auto-Fixed:**
- ESLint violations (auto-fixable ones)
- Code formatting issues
- Minor style inconsistencies

**Manual Attention Required:**
- Non-auto-fixable ESLint violations (flagged in output)
- Hardcoded color replacements (requires semantic token mapping)
- Complex lint violations requiring business logic changes

---

## Manual Fix Report

After execution, review any remaining issues:

| Category | Status | Action |
|----------|--------|--------|
| ESLint auto-fixes | Complete | Check `just lint-fix` output |
| Prettier formatting | Complete | Check `just fmt` output |
| Semantic colors | Varies | Check `just colors` output for violations |

---

## Semantic Color Migration (Manual)

If semantic color violations exist, apply these replacements:

### Common Replacements

| ❌ WRONG | ✅ CORRECT |
|---------|-----------|
| `bg-gray-50` | `bg-muted` or `bg-background` |
| `bg-gray-500` | `bg-muted` |
| `bg-blue-600` | `bg-primary` |
| `text-gray-700` | `text-foreground` |
| `text-gray-500` | `text-muted-foreground` |
| `text-red-600` | `text-destructive` |
| `border-gray-200` | `border-input` |
| `#3B82F6` | `bg-primary` or `text-primary` |
| `#EF4444` | `text-destructive` or `bg-destructive` |

---

## Allowed Semantic Tokens

### Background Colors
- `bg-background` - Default background
- `bg-card` - Card/surface background
- `bg-muted` - Muted/secondary background
- `bg-primary` - Primary action background
- `bg-secondary` - Secondary action background
- `bg-destructive` - Error/deletion background
- `bg-accent` - Accent background
- `bg-popover` - Popover/tooltip background

### Text Colors
- `text-foreground` - Primary text
- `text-muted-foreground` - Secondary text
- `text-primary` - Primary text
- `text-secondary` - Secondary text
- `text-destructive` - Error text
- `text-accent-foreground` - Accent text
- `text-card-foreground` - Card text

### Border Colors
- `border-border` - Default border
- `border-input` - Input border
- `border-primary` - Primary border
- `border-destructive` - Error border

---

## Quick Reference

### Run All Fixes
```bash
/fix-lint
```

### Run Individual Steps
```bash
# ESLint only
just lint-fix

# Prettier only
just fmt

# Color validation only
just colors
```

---

## Verification

After fixing lint issues, verify no new errors were introduced:

```bash
# Run all quality checks
just check

# Or individually:
just lint       # ESLint validation
just typecheck  # TypeScript validation
just colors     # Semantic color validation
```

---

## Tips

- **Commit Before Fixing:** Create a git commit before running auto-fixes so you can review changes easily
- **Color Mapping:** For color replacements, reference the design system tokens listed above
- **Large Projects:** If many color violations exist, tackle them in batches by file
- **Test After Fix:** Run tests after fixing to ensure no functionality broke
  ```bash
  just test-ci
  ```

---

*Generated by /fix-lint command*
*Use `just --list` to see all available commands*
