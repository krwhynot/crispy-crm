{
  "version": "1.1",
  "description": "Lightweight skill activation index - full definitions in SKILL.md folders. Built-in skills (supabase-postgres-best-practices, vercel-react-best-practices) are system-level and not indexed here.",
  "agents": {
    "sienna-ux": {
      "description": "UI/UX Auditor agent - audits components for accessibility, design system compliance, and UX violations",
      "requiredSkills": [
        "ui-ux-design-principles",
        "enforcing-principles"
      ],
      "promptTriggers": {
        "keywords": [
          "sienna",
          "sienna-ux",
          "ui audit",
          "ux audit",
          "accessibility audit",
          "design audit",
          "component audit",
          "review component",
          "audit component"
        ],
        "intentPatterns": [
          "(use|invoke|ask|have).*?sienna",
          "(audit|review|check|analyze).*?(component|ui|ux|accessibility|design)",
          "sienna.*?(audit|review|check)"
        ]
      }
    }
  },
  "skills": {
    "verification-before-completion": {
      "priority": "critical",
      "keywords": [
        "done",
        "complete",
        "completed",
        "finished",
        "fixed",
        "passes",
        "passing",
        "works",
        "working",
        "ready",
        "ship it",
        "good to go",
        "all good",
        "verified",
        "commit",
        "PR",
        "pull request",
        "push",
        "merge",
        "deploy"
      ],
      "intentPatterns": [
        "(tests?|build|types?).*?(pass|passes|passing|succeed|succeeds|work|works)",
        "(feature|task|bug|fix).*?(complete|done|finished|ready|works)",
        "(ready|good).*?(to|for).*?(commit|push|PR|merge|deploy|review)",
        "(should|probably|seems to).*?(work|pass|be fixed)",
        "(i'm|we're).*?(done|finished|complete)",
        "(it|this|that).*?(works|passes|is fixed|is ready)",
        "ship.*?it",
        "all.*?(good|done|set|ready)",
        "(create|make|open).*?(commit|PR|pull request)",
        "(push|merge|deploy).*?(changes|code|branch)"
      ]
    },
    "enforcing-principles": {
      "priority": "critical",
      "keywords": [
        "error handling",
        "validation",
        "defaults",
        "zod",
        "retry",
        "circuit breaker",
        "resilience",
        "fallback",
        "strictObject",
        "strict object",
        "string limit",
        "max length",
        "coerce",
        "coercion",
        "allowlist",
        "enum",
        "useWatch",
        "watch",
        "onSubmit",
        "onBlur",
        "onChange",
        "validation mode",
        "form mode"
      ],
      "intentPatterns": [
        "(handle|add|implement).*?(error|resilience|retry|fallback)",
        "(create|add|modify).*?(schema|validation|zod)",
        "(set|define|add).*?(default|form)",
        "how.*?(validate|handle error|create form)",
        "(add|set|use).*?(string|length).*?(limit|max)",
        "(use|create).*?strict.*?object",
        "(form|input).*?(coerce|coercion|number|date)",
        "(watch|useWatch).*?(form|value|field)",
        "(validation|form).*?mode"
      ]
    },
    "ui-ux-design-principles": {
      "priority": "high",
      "keywords": [
        "design",
        "UX",
        "UI",
        "user experience",
        "usability",
        "accessibility",
        "a11y",
        "color",
        "contrast",
        "touch target",
        "44px",
        "cognitive load",
        "Hick's Law",
        "Fitts's Law",
        "Jakob's Law",
        "Miller's Law",
        "decision matrix",
        "component",
        "button",
        "form",
        "layout",
        "responsive",
        "mobile",
        "tablet",
        "desktop",
        "WCAG",
        "ARIA",
        "semantic",
        "spacing",
        "typography",
        "elevation",
        "feedback",
        "loading state",
        "toast",
        "aria-invalid",
        "aria-describedby",
        "role alert",
        "screen reader",
        "form error",
        "validation error",
        "error message",
        "focus management",
        "label",
        "htmlFor"
      ],
      "intentPatterns": [
        "(create|build|design|implement).*?(component|ui|interface|button|form|layout)",
        "(audit|review|evaluate|assess).*?(ui|ux|design|usability|accessibility)",
        "(improve|fix|optimize).*?(accessibility|usability|ux|ui)",
        "(check|verify|ensure).*?(contrast|touch|target|accessible)",
        "(style|styling|css|tailwind).*",
        "how.*?(look|appear|design|accessible)",
        "(tablet|ipad|mobile|responsive).*?(design|layout|view)",
        "what.*?(color|spacing|size|font)",
        "(form|input|field).*?(accessibility|accessible|aria|screen reader)",
        "(error|validation).*?(message|display|announce|accessible)",
        "(focus|keyboard).*?(management|navigation|trap)"
      ]
    },
    "data-integrity-guards": {
      "priority": "high",
      "keywords": [
        "data flow",
        "integrity",
        "guards",
        "layers",
        "defense in depth",
        "multi-layer",
        "form defaults",
        "data corruption",
        "sanitize",
        "boundary",
        "checkpoint",
        "denylist"
      ],
      "intentPatterns": [
        "(data|input).*?(flow|path|journey)",
        "(prevent|stop|catch).*?(invalid|bad|corrupt).*?data",
        "(ensure|guarantee|enforce).*?(integrity|valid|correct)",
        "defense.*?in.*?depth",
        "(multiple|multi).*?layer.*?(validation|check)"
      ]
    },
    "fail-fast-debugging": {
      "priority": "critical",
      "keywords": [
        "bug",
        "error",
        "failing",
        "broken",
        "fix",
        "not working",
        "crash",
        "issue",
        "debug",
        "investigate",
        "diagnose",
        "trace",
        "root cause",
        "why is",
        "undefined",
        "null",
        "infinite loop",
        "exception",
        "stack trace",
        "doesn't work",
        "stopped working",
        "fails",
        "throws",
        "unexpected",
        "wrong value",
        "incorrect",
        "test pollution",
        "flaky test",
        "test isolation",
        "bisect"
      ],
      "intentPatterns": [
        "(fix|debug|investigate|diagnose|trace).*?(bug|error|issue|problem|failure)",
        "(why|how come|what's wrong).*?(is|does|did).*?(fail|error|break|crash|not work)",
        "(not|isn't|doesn't|won't).*?(work|working|loading|rendering|showing)",
        "(getting|seeing|have|got).*?(error|exception|bug|issue)",
        "(something|it).*?(broke|broken|wrong|incorrect)",
        "(null|undefined|NaN).*?(error|exception|value)",
        "(stack|error).*?trace",
        "(root|underlying|real).*?cause",
        "(investigate|look into|dig into|find).*?(why|what|cause)",
        "quick.*?fix",
        "just.*?try",
        "maybe.*?(this|that).*?will",
        "let me.*?(add|try|change)",
        "(test|spec).*?(pollution|polluter|isolation|flaky|intermittent)",
        "(bisect|binary search).*?(test|failure)",
        "(where|what|who).*?(calls?|sets?|creates?|passes?).*?this"
      ]
    },
    "supabase": {
      "priority": "critical",
      "keywords": [
        "supabase",
        "npx supabase",
        "supabase start",
        "supabase stop",
        "supabase status",
        "supabase link",
        "db push",
        "db pull",
        "db reset",
        "db diff",
        "gen types",
        "functions deploy",
        "functions serve",
        "functions new",
        "edge function",
        "edge functions",
        "secrets set",
        "config.toml",
        "local development",
        "local stack",
        "database",
        "query",
        "RLS",
        "migration",
        "migrate",
        "CREATE VIEW",
        "ALTER TABLE",
        "GRANT",
        "RLS policy",
        "database view",
        "sql migration",
        "row level security",
        "permissions",
        "postgres",
        "postgresql"
      ],
      "intentPatterns": [
        "(run|execute|use).*?supabase.*?(cli|command)",
        "supabase.*?(start|stop|status|init|link|login)",
        "(push|pull|reset|diff).*?(database|db|migration)",
        "(create|new|add).*?(migration|edge function|function)",
        "(deploy|serve|test).*?(function|edge function)",
        "(generate|gen).*?types?",
        "(local|dev).*?(stack|environment|database)",
        "config\\.toml",
        "(create|build|write).*?(query|function|api|migration|schema|view|table|policy)",
        "(database|backend|supabase).*",
        "how.*?(query|fetch|insert|update|delete)",
        "(create|write|refactor|update).*?(migration|schema|view|table)",
        "(add|modify|update|fix).*?(table|view|policy|permission)",
        "migration.*?(file|pattern|template|best practice)",
        "(deploy|push|apply).*?(migration|schema)",
        "(grant|revoke).*?(select|insert|update|delete)"
      ]
    },
    "discovery-first": {
      "priority": "high",
      "keywords": [
        "inventory",
        "what exists",
        "list all",
        "how many",
        "which components",
        "what hooks",
        "what schemas",
        "what forms",
        "what types",
        "codebase structure",
        "component hierarchy",
        "call graph",
        "who calls",
        "what calls",
        "dependencies"
      ],
      "intentPatterns": [
        "(what|which|list|show).*?(component|hook|schema|form|type)s?.*?(exist|available|defined|have)",
        "how many.*?(component|hook|schema|form|type)s?",
        "(list|show|display).*?all.*?(component|hook|schema|form|type)s?",
        "(codebase|code|project).*?(structure|hierarchy|overview)",
        "(who|what).*?calls?.*?(function|hook|component)",
        "inventory.*?(component|hook|schema|form|type)"
      ]
    },
    "troubleshooting": {
      "priority": "high",
      "keywords": [
        "build error",
        "build failure",
        "build failed",
        "compile error",
        "compilation error",
        "TypeScript error",
        "TS error",
        "tsc error",
        "webpack",
        "vite",
        "bundle",
        "bundler",
        "dependency",
        "dependencies",
        "npm error",
        "npm install",
        "package",
        "performance",
        "slow",
        "latency",
        "bottleneck",
        "memory leak",
        "memory",
        "N+1",
        "query slow",
        "deployment",
        "deploy",
        "production",
        "staging",
        "Edge Function",
        "edge function",
        "environment",
        "env var",
        "service not starting",
        "not starting",
        "timeout",
        "CORS",
        "401",
        "403",
        "500 error",
        "module not found",
        "cannot find module",
        "peer dependency",
        "version mismatch",
        "bundle size",
        "chunk"
      ],
      "intentPatterns": [
        "(build|compile|bundle).*?(fail|error|broken|issue)",
        "(npm|yarn|pnpm).*?(error|fail|issue|problem)",
        "(TypeScript|tsc|TS).*?(error|fail|issue)",
        "(slow|performance|latency|bottleneck).*?(query|api|render|load)",
        "(deploy|deployment|production|staging).*?(fail|error|issue|problem)",
        "(Edge Function|edge function|supabase function).*?(fail|error|timeout)",
        "(environment|env|config).*?(missing|wrong|issue|mismatch)",
        "(memory|heap).*?(leak|grow|issue)",
        "(bundle|chunk).*?(size|large|too big)",
        "why.*?(build|deploy|performance).*?(fail|slow|broken)",
        "(service|app|function).*?(not starting|crash|timeout)",
        "(module|dependency|package).*?(not found|missing|conflict)"
      ]
    },
    "comprehensive-tracing": {
      "priority": "high",
      "keywords": [
        "analyze",
        "workflow",
        "how does",
        "trace",
        "deep dive",
        "explain",
        "search_code",
        "go_to_definition",
        "find_references",
        "data flow",
        "entry points",
        "who calls",
        "what calls",
        "where is this used",
        "complete analysis",
        "full analysis",
        "thorough analysis"
      ],
      "intentPatterns": [
        "(understand|explain|analyze).*?how.*?works",
        "(find|trace|show).*?all.*?(entry|path|flow)",
        "(trace|follow).*?(data|call|execution).*?flow",
        "(who|what|where).*?(calls|uses|consumes|triggers)",
        "(complete|full|thorough|comprehensive).*?(analysis|trace|review)",
        "search.*?code.*?for",
        "find.*?(definition|references)",
        "go.*?to.*?definition"
      ]
    },
    "crispy-data-provider": {
      "priority": "high",
      "keywords": [
        "data provider",
        "data handler",
        "unifiedDataProvider",
        "unified provider",
        "composedDataProvider",
        "composed provider",
        "create handler",
        "add handler",
        "new resource",
        "add resource",
        "CRUD",
        "getList",
        "getOne",
        "React Admin handler",
        "react-admin handler",
        "Supabase query",
        "supabase handler",
        "strangler fig",
        "migration pattern",
        "view table",
        "view duality",
        "read from view",
        "write to table",
        "computed fields",
        "strip fields",
        "service layer",
        "soft delete",
        "handler composition",
        "withValidation",
        "withErrorLogging",
        "withLifecycleCallbacks",
        "lifecycle callbacks",
        "HttpError",
        "data provider error"
      ],
      "intentPatterns": [
        "(create|add|implement|build).*?(data provider|handler|resource)",
        "(modify|update|change|fix).*?(data provider|unifiedDataProvider|handler)",
        "(add|create|implement).*?(CRUD|getList|getOne|create|update|delete)",
        "(migrate|move|extract).*?(resource|handler|provider)",
        "(read|query|fetch).*?(from|view|table)",
        "(write|insert|update).*?(to|table)",
        "(strip|remove|clean).*?(computed|view).*?field",
        "(compose|wrap|decorate).*?handler",
        "(service|business).*?layer",
        "(soft|hard).*?delete",
        "how.*?(data provider|handler|resource).*?(work|implement|create)",
        "(strangler|migration).*?(fig|pattern)",
        "(view|table).*?(duality|separation|pattern)"
      ]
    },
    "testing-patterns": {
      "priority": "high",
      "keywords": [
        "test",
        "tests",
        "testing",
        "TDD",
        "test-driven",
        "unit test",
        "integration test",
        "e2e",
        "end-to-end",
        "vitest",
        "playwright",
        "jest",
        "coverage",
        "mock",
        "mocking",
        "stub",
        "spy",
        "assertion",
        "expect",
        "describe",
        "it",
        "beforeEach",
        "afterEach",
        "test failure",
        "test failing",
        "test passes",
        "red-green-refactor",
        "pgTAP",
        "database test",
        "component test",
        "render test",
        "snapshot",
        "test file",
        "spec file",
        "__tests__",
        ".test.ts",
        ".test.tsx",
        ".spec.ts"
      ],
      "intentPatterns": [
        "(write|create|add|implement).*?test",
        "(test|testing).*?(component|hook|schema|validation|form|feature)",
        "(run|execute|debug).*?test",
        "(fix|debug|investigate).*?(test|spec).*?(fail|error|broken)",
        "(mock|stub|spy).*?(supabase|api|service|provider)",
        "(setup|configure).*?(test|vitest|playwright|jest)",
        "TDD.*?(workflow|cycle|approach)",
        "(red|green|refactor).*?(cycle|phase)",
        "(coverage|cover).*?(code|test|report)",
        "how.*?(test|mock|assert)",
        "(renderWithAdminContext|render.*?admin)",
        "(e2e|end-to-end|playwright).*?(test|scenario|journey)",
        "(pgTAP|database).*?test",
        "why.*?test.*?(fail|broken|error)",
        "(implement|create|build).*?(without|skip|later).*?test",
        "test.*?later",
        "skip.*?test"
      ]
    },
    "validate-props": {
      "priority": "medium",
      "keywords": [
        "props validation",
        "component props",
        "SlideOver props",
        "form props",
        "validate props",
        "props schema",
        "ui-props"
      ],
      "intentPatterns": [
        "(validate|check|define).*?props",
        "(component|form|slideover).*?props.*?(type|schema|validation)",
        "props.*?(zod|schema|validation)"
      ]
    }
  },
  "keywordOwnership": {
    "postgres": {
      "primary": "supabase",
      "context": {
        "optimization": "supabase-postgres-best-practices",
        "EXPLAIN": "supabase-postgres-best-practices",
        "index strategy": "supabase-postgres-best-practices",
        "CRM": "supabase",
        "RLS": "supabase",
        "migration": "supabase"
      }
    },
    "query optimization": {
      "primary": "supabase-postgres-best-practices",
      "context": {
        "CRM": "supabase",
        "data provider": "crispy-data-provider"
      }
    },
    "schema": {
      "primary": "enforcing-principles",
      "context": {
        "migration": "supabase",
        "zod": "enforcing-principles",
        "data provider": "crispy-data-provider",
        "inventory": "discovery-first"
      }
    },
    "validation": {
      "primary": "enforcing-principles",
      "context": {
        "data": "data-integrity-guards",
        "props": "validate-props",
        "layer": "data-integrity-guards"
      }
    },
    "form": {
      "primary": "ui-ux-design-principles",
      "context": {
        "validation": "enforcing-principles",
        "defaults": "data-integrity-guards",
        "mode": "enforcing-principles"
      }
    },
    "component": {
      "primary": "ui-ux-design-principles",
      "context": {
        "inventory": "discovery-first",
        "test": "testing-patterns",
        "props": "validate-props"
      }
    },
    "edge function": {
      "primary": "supabase",
      "context": {
        "deploy": "troubleshooting"
      }
    },
    "trace": {
      "primary": "fail-fast-debugging",
      "context": {
        "comprehensive": "comprehensive-tracing",
        "data flow": "comprehensive-tracing"
      }
    },
    "soft delete": {
      "primary": "crispy-data-provider",
      "context": {
        "audit": "data-integrity-guards",
        "RLS": "supabase"
      }
    }
  }
}
