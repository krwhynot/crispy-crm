{
  "version": "1.1",
  "description": "Lightweight skill activation index - full definitions in SKILL.md folders. Built-in skills (vercel-react-best-practices) are system-level and not indexed here.",
  "agents": {
    "sienna-ux": {
      "description": "UI/UX Auditor agent - audits components for accessibility, design system compliance, and UX violations",
      "requiredSkills": [
        "ui-ux-design-principles",
        "enforcing-principles"
      ],
      "promptTriggers": {
        "keywords": [
          "sienna",
          "sienna-ux",
          "ui audit",
          "ux audit",
          "accessibility audit",
          "design audit",
          "component audit",
          "review component",
          "audit component"
        ],
        "intentPatterns": [
          "(use|invoke|ask|have).*?sienna",
          "(audit|review|check|analyze).*?(component|ui|ux|accessibility|design)",
          "sienna.*?(audit|review|check)"
        ]
      }
    }
  },
  "skills": {
    "verification-before-completion": {
      "priority": "critical",
      "keywords": [
        "done",
        "complete",
        "completed",
        "finished",
        "fixed",
        "passes",
        "passing",
        "works",
        "working",
        "ready",
        "ship it",
        "good to go",
        "all good",
        "verified",
        "commit",
        "PR",
        "pull request",
        "push",
        "merge",
        "deploy"
      ],
      "intentPatterns": [
        "(tests?|build|types?).*?(pass|passes|passing|succeed|succeeds|work|works)",
        "(feature|task|bug|fix).*?(complete|done|finished|ready|works)",
        "(ready|good).*?(to|for).*?(commit|push|PR|merge|deploy|review)",
        "(should|probably|seems to).*?(work|pass|be fixed)",
        "(i'm|we're).*?(done|finished|complete)",
        "(it|this|that).*?(works|passes|is fixed|is ready)",
        "ship.*?it",
        "all.*?(good|done|set|ready)",
        "(create|make|open).*?(commit|PR|pull request)",
        "(push|merge|deploy).*?(changes|code|branch)"
      ]
    },
    "enforcing-principles": {
      "priority": "critical",
      "keywords": [
        "error handling",
        "validation",
        "defaults",
        "zod",
        "retry",
        "circuit breaker",
        "resilience",
        "fallback",
        "strictObject",
        "strict object",
        "string limit",
        "max length",
        "coerce",
        "coercion",
        "allowlist",
        "enum",
        "useWatch",
        "watch",
        "onSubmit",
        "onBlur",
        "onChange",
        "validation mode",
        "form mode"
      ],
      "intentPatterns": [
        "(handle|add|implement).*?(error|resilience|retry|fallback)",
        "(create|add|modify).*?(schema|validation|zod)",
        "(set|define|add).*?(default|form)",
        "how.*?(validate|handle error|create form)",
        "(add|set|use).*?(string|length).*?(limit|max)",
        "(use|create).*?strict.*?object",
        "(form|input).*?(coerce|coercion|number|date)",
        "(watch|useWatch).*?(form|value|field)",
        "(validation|form).*?mode"
      ]
    },
    "ui-ux-design-principles": {
      "priority": "high",
      "keywords": [
        "design",
        "UX",
        "UI",
        "user experience",
        "usability",
        "accessibility",
        "a11y",
        "color",
        "contrast",
        "touch target",
        "44px",
        "cognitive load",
        "Hick's Law",
        "Fitts's Law",
        "Jakob's Law",
        "Miller's Law",
        "decision matrix",
        "component",
        "button",
        "form",
        "layout",
        "responsive",
        "mobile",
        "tablet",
        "desktop",
        "WCAG",
        "ARIA",
        "semantic",
        "spacing",
        "typography",
        "elevation",
        "feedback",
        "loading state",
        "toast",
        "aria-invalid",
        "aria-describedby",
        "role alert",
        "screen reader",
        "form error",
        "validation error",
        "error message",
        "focus management",
        "label",
        "htmlFor"
      ],
      "intentPatterns": [
        "(create|build|design|implement).*?(component|ui|interface|button|form|layout)",
        "(audit|review|evaluate|assess).*?(ui|ux|design|usability|accessibility)",
        "(improve|fix|optimize).*?(accessibility|usability|ux|ui)",
        "(check|verify|ensure).*?(contrast|touch|target|accessible)",
        "(style|styling|css|tailwind).*",
        "how.*?(look|appear|design|accessible)",
        "(tablet|ipad|mobile|responsive).*?(design|layout|view)",
        "what.*?(color|spacing|size|font)",
        "(form|input|field).*?(accessibility|accessible|aria|screen reader)",
        "(error|validation).*?(message|display|announce|accessible)",
        "(focus|keyboard).*?(management|navigation|trap)"
      ]
    },
    "data-integrity-guards": {
      "priority": "high",
      "keywords": [
        "data flow",
        "integrity",
        "guards",
        "layers",
        "defense in depth",
        "multi-layer",
        "form defaults",
        "data corruption",
        "sanitize",
        "boundary",
        "checkpoint",
        "denylist"
      ],
      "intentPatterns": [
        "(data|input).*?(flow|path|journey)",
        "(prevent|stop|catch).*?(invalid|bad|corrupt).*?data",
        "(ensure|guarantee|enforce).*?(integrity|valid|correct)",
        "defense.*?in.*?depth",
        "(multiple|multi).*?layer.*?(validation|check)"
      ]
    },
    "fail-fast-debugging": {
      "priority": "critical",
      "keywords": [
        "bug",
        "error",
        "failing",
        "broken",
        "fix",
        "not working",
        "crash",
        "issue",
        "debug",
        "investigate",
        "diagnose",
        "trace",
        "root cause",
        "why is",
        "undefined",
        "null",
        "infinite loop",
        "exception",
        "stack trace",
        "doesn't work",
        "stopped working",
        "fails",
        "throws",
        "unexpected",
        "wrong value",
        "incorrect",
        "test pollution",
        "flaky test",
        "test isolation",
        "bisect"
      ],
      "intentPatterns": [
        "(fix|debug|investigate|diagnose|trace).*?(bug|error|issue|problem|failure)",
        "(why|how come|what's wrong).*?(is|does|did).*?(fail|error|break|crash|not work)",
        "(not|isn't|doesn't|won't).*?(work|working|loading|rendering|showing)",
        "(getting|seeing|have|got).*?(error|exception|bug|issue)",
        "(something|it).*?(broke|broken|wrong|incorrect)",
        "(null|undefined|NaN).*?(error|exception|value)",
        "(stack|error).*?trace",
        "(root|underlying|real).*?cause",
        "(investigate|look into|dig into|find).*?(why|what|cause)",
        "quick.*?fix",
        "just.*?try",
        "maybe.*?(this|that).*?will",
        "let me.*?(add|try|change)",
        "(test|spec).*?(pollution|polluter|isolation|flaky|intermittent)",
        "(bisect|binary search).*?(test|failure)",
        "(where|what|who).*?(calls?|sets?|creates?|passes?).*?this"
      ]
    },
    "supabase": {
      "priority": "critical",
      "keywords": [
        "supabase",
        "npx supabase",
        "supabase start",
        "supabase stop",
        "supabase status",
        "supabase link",
        "db push",
        "db pull",
        "db reset",
        "db diff",
        "gen types",
        "functions deploy",
        "functions serve",
        "functions new",
        "edge function",
        "edge functions",
        "secrets set",
        "config.toml",
        "local development",
        "local stack",
        "database",
        "query",
        "RLS",
        "migration",
        "migrate",
        "CREATE VIEW",
        "ALTER TABLE",
        "GRANT",
        "RLS policy",
        "database view",
        "sql migration",
        "row level security",
        "permissions",
        "postgres",
        "postgresql",
        "query optimization",
        "indexes",
        "schema design",
        "connection pooling",
        "locking",
        "monitoring"
      ],
      "intentPatterns": [
        "(run|execute|use).*?supabase.*?(cli|command)",
        "supabase.*?(start|stop|status|init|link|login)",
        "(push|pull|reset|diff).*?(database|db|migration)",
        "(create|new|add).*?(migration|edge function|function)",
        "(deploy|serve|test).*?(function|edge function)",
        "(generate|gen).*?types?",
        "(local|dev).*?(stack|environment|database)",
        "config\\.toml",
        "(create|build|write).*?(query|function|api|migration|schema|view|table|policy)",
        "(database|backend|supabase).*",
        "how.*?(query|fetch|insert|update|delete)",
        "(create|write|refactor|update).*?(migration|schema|view|table)",
        "(add|modify|update|fix).*?(table|view|policy|permission)",
        "migration.*?(file|pattern|template|best practice)",
        "(deploy|push|apply).*?(migration|schema)",
        "(grant|revoke).*?(select|insert|update|delete)",
        "(query|postgres|database).*?(optimization|performance|slow)",
        "(index|schema|RLS).*?(design|optimization|tuning)"
      ]
    },
    "discovery-first": {
      "priority": "high",
      "keywords": [
        "inventory",
        "what exists",
        "list all",
        "how many",
        "which components",
        "what hooks",
        "what schemas",
        "what forms",
        "what types",
        "codebase structure",
        "component hierarchy",
        "call graph",
        "who calls",
        "what calls",
        "dependencies"
      ],
      "intentPatterns": [
        "(what|which|list|show).*?(component|hook|schema|form|type)s?.*?(exist|available|defined|have)",
        "how many.*?(component|hook|schema|form|type)s?",
        "(list|show|display).*?all.*?(component|hook|schema|form|type)s?",
        "(codebase|code|project).*?(structure|hierarchy|overview)",
        "(who|what).*?calls?.*?(function|hook|component)",
        "inventory.*?(component|hook|schema|form|type)"
      ]
    },
    "troubleshooting": {
      "priority": "high",
      "keywords": [
        "build error",
        "build failure",
        "build failed",
        "compile error",
        "compilation error",
        "TypeScript error",
        "TS error",
        "tsc error",
        "webpack",
        "vite",
        "bundle",
        "bundler",
        "dependency",
        "dependencies",
        "npm error",
        "npm install",
        "package",
        "performance",
        "slow",
        "latency",
        "bottleneck",
        "memory leak",
        "memory",
        "N+1",
        "query slow",
        "deployment",
        "deploy",
        "production",
        "staging",
        "Edge Function",
        "edge function",
        "environment",
        "env var",
        "service not starting",
        "not starting",
        "timeout",
        "CORS",
        "401",
        "403",
        "500 error",
        "module not found",
        "cannot find module",
        "peer dependency",
        "version mismatch",
        "bundle size",
        "chunk"
      ],
      "intentPatterns": [
        "(build|compile|bundle).*?(fail|error|broken|issue)",
        "(npm|yarn|pnpm).*?(error|fail|issue|problem)",
        "(TypeScript|tsc|TS).*?(error|fail|issue)",
        "(slow|performance|latency|bottleneck).*?(query|api|render|load)",
        "(deploy|deployment|production|staging).*?(fail|error|issue|problem)",
        "(Edge Function|edge function|supabase function).*?(fail|error|timeout)",
        "(environment|env|config).*?(missing|wrong|issue|mismatch)",
        "(memory|heap).*?(leak|grow|issue)",
        "(bundle|chunk).*?(size|large|too big)",
        "why.*?(build|deploy|performance).*?(fail|slow|broken)",
        "(service|app|function).*?(not starting|crash|timeout)",
        "(module|dependency|package).*?(not found|missing|conflict)"
      ]
    },
    "comprehensive-tracing": {
      "priority": "high",
      "keywords": [
        "analyze",
        "workflow",
        "how does",
        "trace",
        "deep dive",
        "explain",
        "search_code",
        "go_to_definition",
        "find_references",
        "data flow",
        "entry points",
        "who calls",
        "what calls",
        "where is this used",
        "complete analysis",
        "full analysis",
        "thorough analysis"
      ],
      "intentPatterns": [
        "(understand|explain|analyze).*?how.*?works",
        "(find|trace|show).*?all.*?(entry|path|flow)",
        "(trace|follow).*?(data|call|execution).*?flow",
        "(who|what|where).*?(calls|uses|consumes|triggers)",
        "(complete|full|thorough|comprehensive).*?(analysis|trace|review)",
        "search.*?code.*?for",
        "find.*?(definition|references)",
        "go.*?to.*?definition"
      ]
    },
    "crispy-data-provider": {
      "priority": "high",
      "keywords": [
        "data provider",
        "data handler",
        "unifiedDataProvider",
        "unified provider",
        "composedDataProvider",
        "composed provider",
        "create handler",
        "add handler",
        "new resource",
        "add resource",
        "CRUD",
        "getList",
        "getOne",
        "React Admin handler",
        "react-admin handler",
        "Supabase query",
        "supabase handler",
        "strangler fig",
        "migration pattern",
        "view table",
        "view duality",
        "read from view",
        "write to table",
        "computed fields",
        "strip fields",
        "service layer",
        "soft delete",
        "handler composition",
        "withValidation",
        "withErrorLogging",
        "withLifecycleCallbacks",
        "lifecycle callbacks",
        "HttpError",
        "data provider error"
      ],
      "intentPatterns": [
        "(create|add|implement|build).*?(data provider|handler|resource)",
        "(modify|update|change|fix).*?(data provider|unifiedDataProvider|handler)",
        "(add|create|implement).*?(CRUD|getList|getOne|create|update|delete)",
        "(migrate|move|extract).*?(resource|handler|provider)",
        "(read|query|fetch).*?(from|view|table)",
        "(write|insert|update).*?(to|table)",
        "(strip|remove|clean).*?(computed|view).*?field",
        "(compose|wrap|decorate).*?handler",
        "(service|business).*?layer",
        "(soft|hard).*?delete",
        "how.*?(data provider|handler|resource).*?(work|implement|create)",
        "(strangler|migration).*?(fig|pattern)",
        "(view|table).*?(duality|separation|pattern)"
      ]
    },
    "testing-patterns": {
      "priority": "high",
      "keywords": [
        "test",
        "tests",
        "testing",
        "TDD",
        "test-driven",
        "unit test",
        "integration test",
        "e2e",
        "end-to-end",
        "vitest",
        "playwright",
        "jest",
        "coverage",
        "mock",
        "mocking",
        "stub",
        "spy",
        "assertion",
        "expect",
        "describe",
        "it",
        "beforeEach",
        "afterEach",
        "test failure",
        "test failing",
        "test passes",
        "red-green-refactor",
        "pgTAP",
        "database test",
        "component test",
        "render test",
        "snapshot",
        "test file",
        "spec file",
        "__tests__",
        ".test.ts",
        ".test.tsx",
        ".spec.ts"
      ],
      "intentPatterns": [
        "(write|create|add|implement).*?test",
        "(test|testing).*?(component|hook|schema|validation|form|feature)",
        "(run|execute|debug).*?test",
        "(fix|debug|investigate).*?(test|spec).*?(fail|error|broken)",
        "(mock|stub|spy).*?(supabase|api|service|provider)",
        "(setup|configure).*?(test|vitest|playwright|jest)",
        "TDD.*?(workflow|cycle|approach)",
        "(red|green|refactor).*?(cycle|phase)",
        "(coverage|cover).*?(code|test|report)",
        "how.*?(test|mock|assert)",
        "(renderWithAdminContext|render.*?admin)",
        "(e2e|end-to-end|playwright).*?(test|scenario|journey)",
        "(pgTAP|database).*?test",
        "why.*?test.*?(fail|broken|error)",
        "(implement|create|build).*?(without|skip|later).*?test",
        "test.*?later",
        "skip.*?test"
      ]
    },
    "cache-invalidation-audit": {
      "priority": "high",
      "keywords": [
        "audit cache",
        "cache audit",
        "stale state",
        "stale data",
        "query keys",
        "invalidation",
        "refetch patterns",
        "cache strategy",
        "TanStack Query",
        "React Query",
        "useQuery",
        "useMutation",
        "invalidateQueries",
        "refetchOnWindowFocus",
        "staleTime",
        "query key factory",
        "cross-resource",
        "over-invalidation",
        "N+1 query",
        "ReferenceField",
        "API storm",
        "cache compliance"
      ],
      "intentPatterns": [
        "(audit|check|review|validate).*?(cache|stale|query.*?key|invalidation)",
        "(find|detect).*?(stale.*?data|cache.*?issue|invalidation.*?problem)",
        "(query|cache).*?(pattern|strategy|compliance)",
        "(refetch|invalidate).*?(pattern|issue|violation)",
        "STALE_STATE_STRATEGY",
        "(API|query).*?storm",
        "(N\\+1|n\\+1|reference.*?field).*?(query|issue|problem)",
        "(cross-resource|cross resource).*?invalidation",
        "(over-invalidation|over invalidation|nuclear.*?invalidation)",
        "why.*?(stale|cache|refetch|invalidate)"
      ]
    },
    "extract-implicit-contract": {
      "priority": "high",
      "keywords": [
        "extract contract",
        "implicit contract",
        "extract config",
        "config extraction",
        "reduce churn",
        "high churn",
        "Boy Scout",
        "Boy Scout cleanup",
        "code churn",
        "churn threshold",
        "form patterns",
        "repeated patterns",
        "co-churn",
        "coupling",
        "centralize patterns",
        "form config",
        "default values",
        "scattered defaults",
        "field labels",
        "column definitions",
        "duplicated code",
        "form variants"
      ],
      "intentPatterns": [
        "(extract|centralize|consolidate).*?(contract|config|pattern|default)",
        "(reduce|lower|decrease).*?churn",
        "(high|over).*?(churn|threshold|edit)",
        "Boy Scout.*?(cleanup|rule|refactor)",
        "(find|detect|identify).*?(implicit.*?contract|repeated.*?pattern|duplication)",
        "(form|field|column).*?(config|pattern|definition)",
        "(co-churn|co churn|coupling|change.*?together)",
        "(scattered|duplicated|repeated).*?(default|validation|pattern)",
        "(centralize|extract).*?(label|field|column|route)",
        "why.*?(churn|change.*?together|edit.*?multiple)"
      ]
    },
    "soft-delete-rls-audit": {
      "priority": "critical",
      "keywords": [
        "soft delete",
        "soft-delete",
        "RLS audit",
        "RLS policy",
        "row level security",
        "deleted_at",
        "security audit",
        "data leak",
        "cross-tenant",
        "multi-tenant",
        "tenant isolation",
        "policy audit",
        "deleted records",
        "hard delete",
        "cascade delete",
        "company_id isolation",
        "supportsSoftDelete"
      ],
      "intentPatterns": [
        "(audit|check|review|validate).*?(soft.*?delete|RLS|row.*?level.*?security|policy)",
        "(find|detect).*?(data.*?leak|cross.*?tenant|deleted.*?record|hard.*?delete)",
        "(missing|check).*?(deleted_at|soft.*?delete|RLS.*?filter)",
        "(tenant|company).*?(isolation|leak|access)",
        "(security|privacy).*?(audit|violation|issue)",
        "(view|policy).*?(expose|show).*?(deleted|wrong.*?company)",
        "why.*?(see.*?deleted|other.*?company|wrong.*?data)",
        "(cascade|soft).*?delete",
        "supportsSoftDelete"
      ]
    },
    "three-tier-architecture-audit": {
      "priority": "high",
      "keywords": [
        "tier audit",
        "UI audit",
        "architecture audit",
        "component layers",
        "Tier 1",
        "Tier 2",
        "Tier 3",
        "atoms",
        "molecules",
        "organisms",
        "shadcn",
        "ui components",
        "ra-wrappers",
        "react-admin wrappers",
        "Datagrid",
        "PremiumDatagrid",
        "DialogTitle",
        "prop leak",
        "import violation",
        "business logic",
        "presentation layer"
      ],
      "intentPatterns": [
        "(audit|check|review|validate).*?(tier|UI.*?layer|component.*?architecture)",
        "(Tier 1|Tier 2|Tier 3|tier.*?violation)",
        "(find|detect).*?(import.*?violation|prop.*?leak|raw.*?import)",
        "(raw|direct).*?(Datagrid|shadcn|Tier 1)",
        "(missing|check).*?(DialogTitle|wrapper|ARIA)",
        "(should.*?use|replace.*?with).*?(wrapper|PremiumDatagrid)",
        "(business.*?logic|data.*?fetch).*?(Tier 1|presentation)",
        "(import|using).*?(react-admin|supabase).*?(Tier 1|ui/)",
        "PremiumDatagrid.*?(vs|instead|replace).*?Datagrid"
      ]
    }
  },
  "keywordOwnership": {
    "postgres": {
      "primary": "supabase",
      "context": {
        "optimization": "supabase",
        "EXPLAIN": "supabase",
        "index strategy": "supabase",
        "CRM": "supabase",
        "RLS": "supabase",
        "migration": "supabase"
      }
    },
    "query optimization": {
      "primary": "supabase",
      "context": {
        "CRM": "supabase",
        "data provider": "crispy-data-provider"
      }
    },
    "schema": {
      "primary": "enforcing-principles",
      "context": {
        "migration": "supabase",
        "zod": "enforcing-principles",
        "data provider": "crispy-data-provider",
        "inventory": "discovery-first"
      }
    },
    "validation": {
      "primary": "enforcing-principles",
      "context": {
        "data": "data-integrity-guards",
        "props": "enforcing-principles",
        "layer": "data-integrity-guards"
      }
    },
    "form": {
      "primary": "ui-ux-design-principles",
      "context": {
        "validation": "enforcing-principles",
        "defaults": "data-integrity-guards",
        "mode": "enforcing-principles"
      }
    },
    "component": {
      "primary": "ui-ux-design-principles",
      "context": {
        "inventory": "discovery-first",
        "test": "testing-patterns",
        "props": "enforcing-principles"
      }
    },
    "edge function": {
      "primary": "supabase",
      "context": {
        "deploy": "troubleshooting"
      }
    },
    "trace": {
      "primary": "fail-fast-debugging",
      "context": {
        "comprehensive": "comprehensive-tracing",
        "data flow": "comprehensive-tracing",
        "architecture": "comprehensive-tracing",
        "flow": "comprehensive-tracing"
      }
    },
    "soft delete": {
      "primary": "crispy-data-provider",
      "context": {
        "audit": "data-integrity-guards",
        "RLS": "supabase"
      }
    },
    "cache": {
      "primary": "cache-invalidation-audit",
      "context": {
        "audit": "cache-invalidation-audit",
        "strategy": "cache-invalidation-audit",
        "stale": "cache-invalidation-audit"
      }
    },
    "churn": {
      "primary": "extract-implicit-contract",
      "context": {
        "reduce": "extract-implicit-contract",
        "high": "extract-implicit-contract",
        "threshold": "extract-implicit-contract"
      }
    },
    "implicit contract": {
      "primary": "extract-implicit-contract",
      "context": {
        "extract": "extract-implicit-contract",
        "config": "extract-implicit-contract"
      }
    },
    "query keys": {
      "primary": "cache-invalidation-audit",
      "context": {
        "factory": "cache-invalidation-audit",
        "hardcoded": "cache-invalidation-audit"
      }
    },
    "invalidation": {
      "primary": "cache-invalidation-audit",
      "context": {
        "cross-resource": "cache-invalidation-audit",
        "mutation": "cache-invalidation-audit"
      }
    },
    "soft delete": {
      "primary": "soft-delete-rls-audit",
      "context": {
        "audit": "soft-delete-rls-audit",
        "RLS": "soft-delete-rls-audit",
        "cascade": "soft-delete-rls-audit"
      }
    },
    "RLS": {
      "primary": "soft-delete-rls-audit",
      "context": {
        "policy": "soft-delete-rls-audit",
        "audit": "soft-delete-rls-audit",
        "security": "soft-delete-rls-audit"
      }
    },
    "deleted_at": {
      "primary": "soft-delete-rls-audit",
      "context": {
        "missing": "soft-delete-rls-audit",
        "filter": "soft-delete-rls-audit"
      }
    },
    "tier": {
      "primary": "three-tier-architecture-audit",
      "context": {
        "audit": "three-tier-architecture-audit",
        "violation": "three-tier-architecture-audit",
        "Tier 1": "three-tier-architecture-audit",
        "Tier 2": "three-tier-architecture-audit"
      }
    },
    "Datagrid": {
      "primary": "three-tier-architecture-audit",
      "context": {
        "raw": "three-tier-architecture-audit",
        "PremiumDatagrid": "three-tier-architecture-audit"
      }
    },
    "DialogTitle": {
      "primary": "three-tier-architecture-audit",
      "context": {
        "missing": "three-tier-architecture-audit",
        "Radix": "three-tier-architecture-audit"
      }
    }
  }
}
