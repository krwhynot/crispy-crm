<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Atomic CRM - Design System Demo</title>
    <style>
      /* CSS Variables - Semantic Color System */
      :root {
        --primary: oklch(0.45 0.15 165);
        --primary-foreground: oklch(0.98 0.02 165);
        --background: oklch(0.99 0.01 105);
        --foreground: oklch(0.15 0.02 105);
        --card: oklch(0.98 0.01 105);
        --border: oklch(0.88 0.02 105);
        --destructive: oklch(0.55 0.2 25);
        --destructive-foreground: oklch(0.98 0.02 25);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        background: var(--background);
        color: var(--foreground);
        padding: 20px;
        line-height: 1.6;
      }

      /* Screen Reader Only */
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
      }

      /* Focus Ring - WCAG 2.1 AA */
      .focus-ring:focus {
        outline: 2px solid var(--primary);
        outline-offset: 2px;
      }

      /* Touch Targets - WCAG 2.5.5 */
      .touch-target-min {
        min-height: 44px;
        min-width: 44px;
      }

      .touch-target-standard {
        min-height: 48px;
        min-width: 48px;
      }

      /* Buttons */
      .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        padding: 12px 24px;
        border-radius: 8px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s;
        border: none;
        min-height: 44px;
      }

      .btn-primary {
        background: var(--primary);
        color: var(--primary-foreground);
      }

      .btn-primary:hover {
        opacity: 0.9;
      }

      .btn-outline {
        background: transparent;
        border: 1px solid var(--border);
        color: var(--foreground);
      }

      .btn-outline:hover {
        background: var(--card);
      }

      /* Card Component */
      .card {
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 24px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
      }

      .card-title {
        font-size: 1.25rem;
        font-weight: 600;
        margin-bottom: 16px;
      }

      /* Responsive Grid - Dashboard 70/30 */
      .grid-dashboard {
        display: grid;
        grid-template-columns: 1fr;
        gap: 24px;
        margin-bottom: 40px;
      }

      @media (min-width: 1024px) {
        .grid-dashboard {
          grid-template-columns: 7fr 3fr;
        }
      }

      /* Responsive Grid - Cards */
      .grid-cards {
        display: grid;
        grid-template-columns: 1fr;
        gap: 24px;
        margin-bottom: 40px;
      }

      @media (min-width: 768px) {
        .grid-cards {
          grid-template-columns: repeat(2, 1fr);
        }
      }

      @media (min-width: 1024px) {
        .grid-cards {
          grid-template-columns: repeat(3, 1fr);
        }
      }

      @media (min-width: 1280px) {
        .grid-cards {
          grid-template-columns: repeat(4, 1fr);
        }
      }

      /* Page Layout */
      .container {
        max-width: 1400px;
        margin: 0 auto;
      }

      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 32px;
        padding-bottom: 16px;
        border-bottom: 2px solid var(--border);
      }

      h1 {
        font-size: 2rem;
        font-weight: 700;
      }

      h2 {
        font-size: 1.5rem;
        font-weight: 600;
        margin: 32px 0 16px;
      }

      h3 {
        font-size: 1.125rem;
        font-weight: 600;
        margin-bottom: 8px;
      }

      .section {
        margin-bottom: 48px;
      }

      .demo-note {
        background: oklch(0.95 0.05 105);
        border-left: 4px solid var(--primary);
        padding: 16px;
        margin-bottom: 24px;
        border-radius: 4px;
      }

      .demo-note strong {
        color: var(--primary);
      }

      /* Live Region for Screen Reader Demo */
      #live-region {
        position: absolute;
        left: -10000px;
        width: 1px;
        height: 1px;
        overflow: hidden;
      }

      .announcement-log {
        background: var(--card);
        border: 1px solid var(--border);
        padding: 16px;
        border-radius: 8px;
        min-height: 100px;
        max-height: 200px;
        overflow-y: auto;
        font-family: monospace;
        font-size: 0.875rem;
      }

      .announcement-item {
        padding: 8px;
        border-bottom: 1px solid var(--border);
      }

      .announcement-item:last-child {
        border-bottom: none;
      }

      /* Responsive Info Badge */
      .viewport-info {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: var(--primary);
        color: var(--primary-foreground);
        padding: 12px 20px;
        border-radius: 8px;
        font-weight: 600;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        z-index: 1000;
      }

      /* Icon simulation */
      .icon {
        width: 20px;
        height: 20px;
        display: inline-block;
      }

      /* Stats Grid */
      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 16px;
        margin-bottom: 24px;
      }

      .stat-card {
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: 8px;
        padding: 16px;
      }

      .stat-value {
        font-size: 2rem;
        font-weight: 700;
        color: var(--primary);
      }

      .stat-label {
        font-size: 0.875rem;
        color: oklch(0.5 0.02 105);
        margin-top: 4px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- ARIA Landmark: main -->
      <main role="main" aria-label="Design System Demo">
        <header>
          <div>
            <h1>Atomic CRM Design System</h1>
            <p style="color: oklch(0.5 0.02 105); margin-top: 8px">
              UI/UX Modernization Foundation Demo
            </p>
          </div>
          <button
            class="btn btn-primary focus-ring touch-target-standard"
            onclick="announceRefresh()"
          >
            <span class="icon">üîÑ</span>
            Refresh Dashboard
          </button>
        </header>

        <!-- Demo Note -->
        <div class="demo-note">
          <strong>üí° Try this:</strong> Resize your browser window to see responsive breakpoints at
          768px (tablet), 1024px (desktop), and 1280px (wide). Tab through elements to see focus
          indicators. Check the viewport indicator in the bottom-right corner.
        </div>

        <!-- Section 1: Touch Targets -->
        <section class="section">
          <h2>1. Touch Targets (WCAG 2.5.5)</h2>
          <p style="margin-bottom: 16px">
            All interactive elements meet 44px minimum size for accessibility.
          </p>

          <div style="display: flex; gap: 16px; flex-wrap: wrap">
            <button class="btn btn-primary focus-ring touch-target-min">44px Minimum</button>
            <button class="btn btn-outline focus-ring touch-target-standard">48px Standard</button>
            <button class="btn btn-primary focus-ring" style="min-height: 56px">
              56px Spacious
            </button>
          </div>
        </section>

        <!-- Section 2: Dashboard Grid (70/30) -->
        <section class="section">
          <h2>2. Dashboard Layout (70% / 30%)</h2>
          <p style="margin-bottom: 16px">
            7fr / 3fr fractional grid - stacks on mobile, side-by-side on desktop (1024px+)
          </p>

          <div class="grid-dashboard">
            <!-- Left Column (70%) -->
            <div style="space-y: 24px">
              <div class="card">
                <h3 class="card-title">Main Content Area (70%)</h3>
                <p style="margin-bottom: 16px">
                  Primary dashboard widgets and principal table go here.
                </p>

                <div class="stats-grid">
                  <div class="stat-card">
                    <div class="stat-value">42</div>
                    <div class="stat-label">Active Principals</div>
                  </div>
                  <div class="stat-card">
                    <div class="stat-value">$2.4M</div>
                    <div class="stat-label">Pipeline Value</div>
                  </div>
                  <div class="stat-card">
                    <div class="stat-value">18</div>
                    <div class="stat-label">This Week</div>
                  </div>
                </div>

                <p style="color: oklch(0.5 0.02 105); font-size: 0.875rem">
                  Principal relationship table, upcoming events, and priority sorting appear here.
                </p>
              </div>
            </div>

            <!-- Right Sidebar (30%) - ARIA Landmark -->
            <aside role="complementary" aria-label="Supporting information">
              <div class="card" style="margin-bottom: 16px">
                <h3 class="card-title">My Tasks (7)</h3>
                <p style="font-size: 0.875rem; color: oklch(0.5 0.02 105)">
                  ‚úÖ Follow up with Acme Corp<br />
                  ‚úÖ Prepare Q4 proposal<br />
                  ‚è∞ Schedule demo call<br />
                </p>
              </div>

              <div class="card">
                <h3 class="card-title">Recent Activity</h3>
                <p style="font-size: 0.875rem; color: oklch(0.5 0.02 105)">
                  üÜï New opportunity created<br />
                  üìß Email sent to contact<br />
                  üìû Call logged with principal<br />
                </p>
              </div>
            </aside>
          </div>
        </section>

        <!-- Section 3: Card Grid -->
        <section class="section">
          <h2>3. Responsive Card Grid</h2>
          <p style="margin-bottom: 16px">
            1 column (mobile) ‚Üí 2 columns (768px) ‚Üí 3 columns (1024px) ‚Üí 4 columns (1280px)
          </p>

          <div class="grid-cards">
            <div class="card">
              <h3 class="card-title">Card 1</h3>
              <p style="color: oklch(0.5 0.02 105)">Responsive grid adapts to screen size.</p>
            </div>
            <div class="card">
              <h3 class="card-title">Card 2</h3>
              <p style="color: oklch(0.5 0.02 105)">iPad portrait: 2 columns side-by-side.</p>
            </div>
            <div class="card">
              <h3 class="card-title">Card 3</h3>
              <p style="color: oklch(0.5 0.02 105)">iPad landscape: 3 columns for efficiency.</p>
            </div>
            <div class="card">
              <h3 class="card-title">Card 4</h3>
              <p style="color: oklch(0.5 0.02 105)">Desktop wide: 4 columns for power users.</p>
            </div>
          </div>
        </section>

        <!-- Section 4: Accessibility Features -->
        <section class="section">
          <h2>4. Accessibility Features</h2>

          <div class="card" style="margin-bottom: 24px">
            <h3 class="card-title">Focus Indicators</h3>
            <p style="margin-bottom: 16px">
              Press Tab to navigate. All interactive elements show 2px outline on focus.
            </p>
            <div style="display: flex; gap: 16px; flex-wrap: wrap">
              <button class="btn btn-primary focus-ring">Tab Here</button>
              <button class="btn btn-outline focus-ring">Then Here</button>
              <input
                type="text"
                class="focus-ring"
                placeholder="And here"
                style="
                  padding: 12px;
                  border: 1px solid var(--border);
                  border-radius: 8px;
                  min-height: 44px;
                "
              />
            </div>
          </div>

          <div class="card">
            <h3 class="card-title">Screen Reader Announcements</h3>
            <p style="margin-bottom: 16px">
              Click the Refresh button at the top to trigger an announcement. Screen readers will
              hear it.
            </p>

            <div class="announcement-log" id="announcement-log">
              <div style="color: oklch(0.5 0.02 105); font-style: italic">
                Announcement log (visible for demo - normally silent)
              </div>
            </div>
          </div>
        </section>

        <!-- Section 5: Color System -->
        <section class="section">
          <h2>5. Semantic Color System (OKLCH)</h2>
          <p style="margin-bottom: 16px">
            All colors use CSS variables. Perceptually uniform OKLCH color space.
          </p>

          <div
            style="
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
              gap: 16px;
            "
          >
            <div
              style="
                padding: 24px;
                background: var(--primary);
                color: var(--primary-foreground);
                border-radius: 8px;
                text-align: center;
              "
            >
              <strong>Primary</strong><br />
              <span style="font-size: 0.875rem">--primary</span>
            </div>
            <div
              style="
                padding: 24px;
                background: var(--card);
                border: 2px solid var(--border);
                border-radius: 8px;
                text-align: center;
              "
            >
              <strong>Card</strong><br />
              <span style="font-size: 0.875rem">--card</span>
            </div>
            <div
              style="
                padding: 24px;
                background: var(--destructive);
                color: var(--destructive-foreground);
                border-radius: 8px;
                text-align: center;
              "
            >
              <strong>Destructive</strong><br />
              <span style="font-size: 0.875rem">--destructive</span>
            </div>
          </div>
        </section>

        <!-- Summary Stats -->
        <section class="section">
          <h2>üìä Implementation Summary</h2>
          <div class="card">
            <div class="stats-grid">
              <div>
                <div class="stat-value">334</div>
                <div class="stat-label">Lines of Code</div>
              </div>
              <div>
                <div class="stat-value">1,146</div>
                <div class="stat-label">Lines of Docs</div>
              </div>
              <div>
                <div class="stat-value">0</div>
                <div class="stat-label">Breaking Changes</div>
              </div>
              <div>
                <div class="stat-value">A+</div>
                <div class="stat-label">Code Review</div>
              </div>
            </div>

            <h3 style="margin-top: 24px">Key Files:</h3>
            <ul style="margin-left: 20px; color: oklch(0.5 0.02 105)">
              <li><code>src/lib/design-system/spacing.ts</code> - Touch target constants</li>
              <li>
                <code>src/lib/design-system/accessibility.ts</code> - useAriaAnnounce,
                useKeyboardNavigation
              </li>
              <li><code>src/components/design-system/ResponsiveGrid.tsx</code> - Grid patterns</li>
              <li><code>docs/design-system/</code> - Comprehensive documentation</li>
            </ul>
          </div>
        </section>
      </main>

      <!-- Live Region for Screen Readers -->
      <div id="live-region" role="status" aria-live="polite" aria-atomic="true"></div>

      <!-- Viewport Size Indicator -->
      <div class="viewport-info" id="viewport-info">Loading...</div>
    </div>

    <script>
      // Update viewport indicator
      function updateViewportInfo() {
        const width = window.innerWidth;
        const info = document.getElementById("viewport-info");

        let breakpoint = "";
        if (width < 768) {
          breakpoint = "üì± Mobile";
        } else if (width < 1024) {
          breakpoint = "üì± iPad Portrait";
        } else if (width < 1280) {
          breakpoint = "üíª iPad Landscape / Desktop";
        } else {
          breakpoint = "üñ•Ô∏è Wide Desktop";
        }

        info.textContent = `${width}px - ${breakpoint}`;
      }

      // Screen reader announcement simulation
      function announceRefresh() {
        const message = "Dashboard data refreshed";

        // Update live region for screen readers
        const liveRegion = document.getElementById("live-region");
        liveRegion.textContent = message;

        // Add to visible log
        const log = document.getElementById("announcement-log");
        const item = document.createElement("div");
        item.className = "announcement-item";
        item.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
        log.appendChild(item);
        log.scrollTop = log.scrollHeight;

        // Clear live region after announcement
        setTimeout(() => {
          liveRegion.textContent = "";
        }, 1000);
      }

      // Initialize
      updateViewportInfo();
      window.addEventListener("resize", updateViewportInfo);

      // Add initial log message
      document.getElementById("announcement-log").innerHTML +=
        '<div class="announcement-item">[Ready] Waiting for user interaction...</div>';
    </script>
  </body>
</html>
