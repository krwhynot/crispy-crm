var e=Object.defineProperty,s=(s,a)=>e(s,"name",{value:a,configurable:!0});import{j as a,Z as t,aB as n,bh as i,a9 as r,ay as l,aT as o,bd as c}from"./chunk-DWisBx5Y.js";import{C as d,S as m,a as x,O as u,R as p,T as j,B as h,L as f,b as g,c as y,E as N}from"../assets/index-BMLg8LT4.js";import{S as b}from"./chunk-B95zjXFR.js";import{u as w}from"./chunk-DZFSGdBf.js";import{F as v,T as k}from"./chunk-BNc-PUi5.js";import{Z as z,_ as P,$ as _,U as L,a0 as O,D as C}from"./chunk-BePsjq0D.js";import{L as A}from"./chunk-CPNr-gD1.js";import"./chunk-DAbVPE3R.js";import"./chunk-DOHniRee.js";import"./chunk-CLB8yy76.js";import"./chunk-8CWr9u5d.js";import"./chunk-DBZxM7AY.js";import"./chunk-BmR7hIvH.js";const D=s(()=>{const e=w();return a.jsxs("div",{className:"flex flex-col justify-center items-center gap-6",style:{height:`calc(100dvh - ${e}px)`},children:[a.jsx("img",{src:"./img/empty.svg",alt:"No organizations found"}),a.jsxs("div",{className:"flex flex-col gap-0 items-center",children:[a.jsx("h6",{className:"text-lg font-bold",children:"No organizations found"}),a.jsx("p",{className:"text-sm text-center text-muted-foreground mb-4",children:"It seems your organization list is empty."})]}),a.jsx("div",{className:"flex space-x-2",children:a.jsx(d,{label:"Create Organization"})})]})},"OrganizationEmpty"),B=s(()=>{const{identity:e}=t(),{data:s}=n("segments",{pagination:{page:1,perPage:100},sort:{field:"name",order:"ASC"}});return a.jsxs("div",{className:"w-52 min-w-52 flex flex-col gap-8",children:[a.jsx(i,{children:a.jsx(m,{source:"q"})}),a.jsx(v,{icon:a.jsx(z,{className:"h-4 w-4"}),label:"Organization Type",children:[{id:"customer",name:"Customer"},{id:"prospect",name:"Prospect"},{id:"partner",name:"Partner"},{id:"principal",name:"Principal"},{id:"distributor",name:"Distributor"},{id:"unknown",name:"Unknown"}].map(e=>a.jsx(k,{multiselect:!0,className:"w-full justify-between",label:e.name,value:{organization_type:e.id}},e.id))}),a.jsx(v,{icon:a.jsx(P,{className:"h-4 w-4"}),label:"Priority",children:[{id:"A",name:"A - High Priority"},{id:"B",name:"B - Medium-High Priority"},{id:"C",name:"C - Medium Priority"},{id:"D",name:"D - Low Priority"}].map(e=>a.jsx(k,{multiselect:!0,className:"w-full justify-between",label:e.name,value:{priority:e.id}},e.id))}),a.jsx(v,{icon:a.jsx(_,{className:"h-4 w-4"}),label:"Segment",children:s?.map(e=>a.jsx(k,{multiselect:!0,className:"w-full justify-between",label:e.name,value:{segment_id:e.id}},e.id))}),a.jsx(v,{icon:a.jsx(L,{className:"h-4 w-4"}),label:"Account Manager",children:a.jsx(k,{className:"w-full justify-between",label:"Me",value:{sales_id:e?.id}})})]})},"OrganizationListFilter"),S=s(e=>{const s=r(),t=l(e);if(!t)return null;return a.jsx(A,{to:s({resource:"organizations",id:t.id,type:"show"}),className:"no-underline group",children:a.jsxs(x,{className:"h-[200px] flex flex-col justify-between p-4\n                       bg-card border border-border rounded-xl\n                       shadow-sm hover:shadow-md\n                       transition-shadow duration-200\n                       motion-safe:hover:-translate-y-0.5 motion-safe:hover:scale-[1.01]\n                       hover:border-primary/20",children:[a.jsxs("div",{className:"flex flex-col items-center gap-1",children:[a.jsx(u,{}),a.jsxs("div",{className:"text-center mt-1",children:[a.jsx("h6",{className:"text-sm font-medium group-hover:text-foreground transition-colors",children:t.name}),t.segment_id&&a.jsx(p,{source:"segment_id",reference:"segments",link:!1,children:a.jsx(j,{source:"name",className:"text-xs text-muted-foreground"})}),a.jsxs("div",{className:"flex gap-1 mt-1 justify-center flex-wrap",children:[t.organization_type&&"unknown"!==t.organization_type&&a.jsxs(h,{variant:"secondary",className:"text-xs px-1 py-0",children:[a.jsx(O,{className:"w-3 h-3 mr-0.5"}),{customer:"Customer",prospect:"Prospect",partner:"Partner",principal:"Principal",distributor:"Distributor",unknown:"Unknown"}[t.organization_type]||t.organization_type]}),t.priority&&a.jsxs(h,{variant:{A:"destructive",B:"default",C:"secondary",D:"outline"}[t.priority],className:"text-xs px-1 py-0",children:[a.jsx(P,{className:"w-3 h-3 mr-0.5"}),t.priority]})]})]})]}),a.jsxs("div",{className:"flex flex-row w-full justify-between gap-2",children:[t.nb_contacts?a.jsxs("div",{className:"flex items-center gap-0.5",children:[a.jsx(O,{className:"w-4 h-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-medium",children:t.nb_contacts}),a.jsx("span",{className:"text-xs text-muted-foreground",children:t.nb_contacts>1?"contacts":"contact"})]}):null,t.nb_opportunities?a.jsxs("div",{className:"flex items-center gap-0.5",children:[a.jsx(C,{className:"w-4 h-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-medium",children:t.nb_opportunities}),a.jsx("span",{className:"text-xs text-muted-foreground",children:t.nb_opportunities>1?"opportunities":"opportunity"})]}):null]})]})})},"OrganizationCard"),T=s((e,s)=>Array.from({length:e},(e,a)=>s(a)),"times"),M=s(()=>a.jsx("div",{className:"flex flex-wrap w-[1008px] gap-1",children:T(15,e=>a.jsx("div",{className:"h-[200px] w-[194px] flex flex-col bg-loading-skeleton"},e))}),"LoadingGridList"),U=s(()=>{const{data:e,error:s,isPending:t}=o();return t||s?null:a.jsxs("div",{className:"w-full gap-2 grid",style:{gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))"},children:[e.map(e=>a.jsx(c,{value:e,children:a.jsx(S,{})},e.id)),0===e.length&&a.jsx("div",{className:"p-2",children:"No organizations found"})]})},"LoadedGridList"),E=s(()=>{const{isPending:e}=o();return e?a.jsx(M,{}):a.jsx(U,{})},"ImageList"),F=s(()=>{const{identity:e}=t();return e?a.jsx(f,{title:!1,perPage:25,sort:{field:"name",order:"ASC"},actions:a.jsx(H,{}),pagination:a.jsx(g,{rowsPerPageOptions:[10,25,50,100]}),children:a.jsx(G,{})}):null},"OrganizationList"),G=s(()=>{const{data:e,isPending:s,filterValues:t}=o(),n=t&&Object.keys(t).length>0;return s?null:e?.length||n?a.jsxs("div",{className:"w-full flex flex-row gap-8",children:[a.jsx(B,{}),a.jsx("div",{className:"flex flex-col flex-1 gap-4",children:a.jsx(E,{})})]}):a.jsx(D,{})},"OrganizationListLayout"),H=s(()=>a.jsxs(y,{children:[a.jsx(b,{fields:["name","created_at","nb_contacts"]}),a.jsx(N,{}),a.jsx(d,{label:"New Organization"})]}),"OrganizationListActions");export{F as OrganizationList,F as default};
