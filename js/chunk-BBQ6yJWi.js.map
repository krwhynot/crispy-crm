{"version":3,"file":"chunk-BBQ6yJWi.js","sources":["../../src/hooks/filter-context.tsx","../../src/components/admin/create-button.tsx","../../src/components/admin/export-button.tsx","../../src/components/ui/pagination.tsx","../../src/components/admin/list-pagination.tsx","../../src/components/admin/filter-form.tsx","../../src/components/admin/list.tsx","../../src/components/admin/search-input.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { useContext } from \"react\";\n\nexport interface FilterElementProps {\n  alwaysOn?: boolean;\n  context?: string;\n\n  defaultValue?: any;\n  resource?: string;\n  record?: object;\n  source: string;\n\n  [key: string]: any; // Allow any other prop\n}\n\nexport type FilterContextType = React.ReactElement<FilterElementProps>[] | undefined;\n\n/**\n * Make filters accessible to sub components\n * @deprecated Use FilterContext from `ra-core` once available.\n */\nexport const FilterContext = React.createContext<FilterContextType>(undefined);\n\n/**\n * @deprecated Use useFilterContext from `ra-core` once available.\n */\nexport const useFilterContext = (): FilterContextType => {\n  return useContext(FilterContext);\n};\n","import React from \"react\";\nimport { buttonVariants } from \"@/components/ui/button.constants\";\nimport { Plus } from \"lucide-react\";\nimport { Translate, useCreatePath, useResourceContext } from \"ra-core\";\nimport { Link } from \"react-router-dom\";\n\nexport interface CreateButtonProps {\n  label?: string;\n  resource?: string;\n}\n\nexport const CreateButton = ({ label, resource: targetResource }: CreateButtonProps) => {\n  const resource = useResourceContext();\n  const createPath = useCreatePath();\n  const resourceName = targetResource ?? resource;\n  const link = createPath({\n    resource: resourceName,\n    type: \"create\",\n  });\n  return (\n    <Link className={buttonVariants({ variant: \"outline\" })} to={link} onClick={stopPropagation}>\n      <Plus />\n      <Translate i18nKey={label ?? \"ra.action.create\"}>{label ?? \"Create\"}</Translate>\n    </Link>\n  );\n};\n\n// useful to prevent click bubbling in a datagrid with rowClick\nconst stopPropagation = (e: React.MouseEvent) => e.stopPropagation();\n","import * as React from \"react\";\nimport { useCallback } from \"react\";\nimport { Download } from \"lucide-react\";\nimport type { Exporter } from \"ra-core\";\nimport {\n  fetchRelatedRecords,\n  useDataProvider,\n  useNotify,\n  useListContext,\n  Translate,\n} from \"ra-core\";\nimport { Button } from \"@/components/ui/button\";\n\nexport const ExportButton = (props: ExportButtonProps) => {\n  const {\n    maxResults = 1000,\n    onClick,\n    label = \"ra.action.export\",\n    icon = defaultIcon,\n    exporter: customExporter,\n    meta,\n    className = \"cursor-pointer\",\n  } = props;\n  const {\n    filter,\n    filterValues,\n    resource,\n    sort,\n    exporter: exporterFromContext,\n    total,\n  } = useListContext();\n  const exporter = customExporter || exporterFromContext;\n  const dataProvider = useDataProvider();\n  const notify = useNotify();\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => {\n      dataProvider\n        .getList(resource, {\n          sort,\n          filter: filter ? { ...filterValues, ...filter } : filterValues,\n          pagination: { page: 1, perPage: maxResults },\n          meta,\n        })\n        .then(\n          ({ data }) =>\n            exporter && exporter(data, fetchRelatedRecords(dataProvider), dataProvider, resource)\n        )\n        .catch((error) => {\n          console.error(\"Export failed:\", error instanceof Error ? error.message : String(error));\n          notify(\"HTTP Error\", { type: \"error\" });\n        });\n      if (typeof onClick === \"function\") {\n        onClick(event);\n      }\n    },\n    [\n      dataProvider,\n      exporter,\n      filter,\n      filterValues,\n      maxResults,\n      notify,\n      onClick,\n      resource,\n      sort,\n      meta,\n    ]\n  );\n\n  return (\n    <Button variant=\"outline\" onClick={handleClick} disabled={total === 0} className={className}>\n      {icon}\n      <Translate i18nKey={label}>Export</Translate>\n    </Button>\n  );\n};\n\nconst defaultIcon = <Download />;\n\nexport interface ExportButtonProps {\n  className?: string;\n  exporter?: Exporter;\n  icon?: React.ReactNode;\n  label?: string;\n  maxResults?: number;\n  onClick?: (e: React.MouseEvent<HTMLButtonElement>) => void;\n  resource?: string;\n\n  meta?: any;\n}\n","import * as React from \"react\";\nimport { ChevronLeftIcon, ChevronRightIcon, MoreHorizontalIcon } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\nimport type { Button } from \"@/components/ui/button\";\nimport { buttonVariants } from \"@/components/ui/button.constants\";\n\nfunction Pagination({ className, ...props }: React.ComponentProps<\"nav\">) {\n  return (\n    <nav\n      role=\"navigation\"\n      aria-label=\"pagination\"\n      data-slot=\"pagination\"\n      className={cn(\"mx-auto flex w-full justify-center\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction PaginationContent({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"pagination-content\"\n      className={cn(\"flex flex-row items-center gap-1\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction PaginationItem({ ...props }: React.ComponentProps<\"li\">) {\n  return <li data-slot=\"pagination-item\" {...props} />;\n}\n\ntype PaginationLinkProps = {\n  isActive?: boolean;\n} & Pick<React.ComponentProps<typeof Button>, \"size\"> &\n  React.ComponentProps<\"a\">;\n\nfunction PaginationLink({\n  className,\n  isActive,\n  size = \"icon\",\n  children,\n  ...props\n}: PaginationLinkProps) {\n  return (\n    <a\n      aria-current={isActive ? \"page\" : undefined}\n      data-slot=\"pagination-link\"\n      data-active={isActive}\n      className={cn(\n        buttonVariants({\n          variant: isActive ? \"outline\" : \"ghost\",\n          size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </a>\n  );\n}\n\nfunction PaginationPrevious({ className, ...props }: React.ComponentProps<typeof PaginationLink>) {\n  return (\n    <PaginationLink\n      aria-label=\"Go to previous page\"\n      size=\"default\"\n      className={cn(\"gap-1 px-2.5 sm:pl-2.5\", className)}\n      {...props}\n    >\n      <ChevronLeftIcon />\n      <span className=\"hidden sm:block\">Previous</span>\n    </PaginationLink>\n  );\n}\n\nfunction PaginationNext({ className, ...props }: React.ComponentProps<typeof PaginationLink>) {\n  return (\n    <PaginationLink\n      aria-label=\"Go to next page\"\n      size=\"default\"\n      className={cn(\"gap-1 px-2.5 sm:pr-2.5\", className)}\n      {...props}\n    >\n      <span className=\"hidden sm:block\">Next</span>\n      <ChevronRightIcon />\n    </PaginationLink>\n  );\n}\n\nfunction PaginationEllipsis({ className, ...props }: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      aria-hidden\n      data-slot=\"pagination-ellipsis\"\n      className={cn(\"flex size-9 items-center justify-center\", className)}\n      {...props}\n    >\n      <MoreHorizontalIcon className=\"size-4\" />\n      <span className=\"sr-only\">More pages</span>\n    </span>\n  );\n}\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationLink,\n  PaginationItem,\n  PaginationPrevious,\n  PaginationNext,\n  PaginationEllipsis,\n};\n","import { cn } from \"@/lib/utils\";\nimport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n} from \"@/components/ui/pagination\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { ChevronLeftIcon, ChevronRightIcon } from \"lucide-react\";\nimport { useListPaginationContext, Translate, useTranslate } from \"ra-core\";\n\nexport const ListPagination = ({\n  rowsPerPageOptions = [5, 10, 25, 50],\n  className,\n}: {\n  rowsPerPageOptions?: number[];\n  className?: string;\n}) => {\n  const translate = useTranslate();\n  const { hasPreviousPage, hasNextPage, page, perPage, setPerPage, total, setPage } =\n    useListPaginationContext();\n\n  const pageStart = (page - 1) * perPage + 1;\n  const pageEnd = hasNextPage ? page * perPage : total;\n\n  const boundaryCount = 1;\n  const siblingCount = 1;\n  const count = total ? Math.ceil(total / perPage) : 1;\n\n  const range = (start: number, end: number) => {\n    const length = end - start + 1;\n    return Array.from({ length }, (_, i) => start + i);\n  };\n\n  const startPages = range(1, Math.min(boundaryCount, count));\n  const endPages = range(Math.max(count - boundaryCount + 1, boundaryCount + 1), count);\n\n  const siblingsStart = Math.max(\n    Math.min(\n      // Natural start\n      page - siblingCount,\n      // Lower boundary when page is high\n      count - boundaryCount - siblingCount * 2 - 1\n    ),\n    // Greater than startPages\n    boundaryCount + 2\n  );\n\n  const siblingsEnd = Math.min(\n    Math.max(\n      // Natural end\n      page + siblingCount,\n      // Upper boundary when page is low\n      boundaryCount + siblingCount * 2 + 2\n    ),\n    // Less than endPages\n    count - boundaryCount - 1\n  );\n\n  const siblingPages = range(siblingsStart, siblingsEnd);\n\n  const pageChangeHandler = (newPage: number) => {\n    return (event: React.MouseEvent<HTMLAnchorElement>) => {\n      event.preventDefault();\n      setPage(newPage);\n    };\n  };\n\n  return (\n    <div className={`flex items-center justify-end space-x-2 gap-4 ${className}`}>\n      <div className=\"hidden md:flex items-center space-x-2\">\n        <p className=\"text-sm font-medium\">\n          <Translate i18nKey=\"ra.navigation.page_rows_per_page\">Rows per page</Translate>\n        </p>\n        <Select\n          value={perPage.toString()}\n          onValueChange={(value) => {\n            setPerPage(Number(value));\n          }}\n        >\n          <SelectTrigger className=\"h-11 w-[70px]\">\n            <SelectValue placeholder={perPage} />\n          </SelectTrigger>\n          <SelectContent side=\"top\">\n            {rowsPerPageOptions.map((pageSize) => (\n              <SelectItem key={pageSize} value={`${pageSize}`}>\n                {pageSize}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n      </div>\n      <div className=\"text-sm text-muted-foreground\">\n        <Translate\n          i18nKey=\"ra.navigation.page_range_info\"\n          options={{\n            offsetBegin: pageStart,\n            offsetEnd: pageEnd,\n            total: total === -1 ? pageEnd : total,\n          }}\n        >\n          {total != null ? `${pageStart}-${pageEnd} of ${total === -1 ? pageEnd : total}` : null}\n        </Translate>\n      </div>\n      <Pagination className=\"-w-full -mx-auto\">\n        <PaginationContent>\n          <PaginationItem>\n            <PaginationLink\n              href=\"#\"\n              onClick={pageChangeHandler(page - 1)}\n              className={cn(\n                \"gap-1 px-2.5 sm:pr-2.5\",\n                !hasPreviousPage ? \"opacity-50 cursor-not-allowed\" : \"\"\n              )}\n              aria-label={translate(\"ra.navigation.previous\", {\n                _: \"Previous\",\n              })}\n            >\n              <ChevronLeftIcon />\n            </PaginationLink>\n          </PaginationItem>\n          {startPages.map((pageNumber) => (\n            <PaginationItem key={pageNumber}>\n              <PaginationLink\n                href=\"#\"\n                onClick={pageChangeHandler(pageNumber)}\n                isActive={pageNumber === page}\n              >\n                {pageNumber}\n              </PaginationLink>\n            </PaginationItem>\n          ))}\n          {siblingsStart > boundaryCount + 2 ? (\n            <PaginationItem>\n              <PaginationEllipsis />\n            </PaginationItem>\n          ) : boundaryCount + 1 < count - boundaryCount ? (\n            <PaginationItem>\n              <PaginationLink\n                href=\"#\"\n                onClick={pageChangeHandler(boundaryCount + 1)}\n                isActive={boundaryCount + 1 === page}\n              >\n                {boundaryCount + 1}\n              </PaginationLink>\n            </PaginationItem>\n          ) : null}\n          {siblingPages.map((pageNumber) => (\n            <PaginationItem key={pageNumber}>\n              <PaginationLink\n                href=\"#\"\n                onClick={pageChangeHandler(pageNumber)}\n                isActive={pageNumber === page}\n              >\n                {pageNumber}\n              </PaginationLink>\n            </PaginationItem>\n          ))}\n          {siblingsEnd < count - boundaryCount - 1 ? (\n            <PaginationItem>\n              <PaginationEllipsis />\n            </PaginationItem>\n          ) : count - boundaryCount > boundaryCount ? (\n            <PaginationItem>\n              <PaginationLink\n                href=\"#\"\n                onClick={pageChangeHandler(count - boundaryCount)}\n                isActive={count - boundaryCount === page}\n              >\n                {count - boundaryCount}\n              </PaginationLink>\n            </PaginationItem>\n          ) : null}\n          {endPages.map((pageNumber) => (\n            <PaginationItem key={pageNumber}>\n              <PaginationLink\n                href=\"#\"\n                onClick={pageChangeHandler(pageNumber)}\n                isActive={pageNumber === page}\n              >\n                {pageNumber}\n              </PaginationLink>\n            </PaginationItem>\n          ))}\n          <PaginationItem>\n            <PaginationLink\n              href=\"#\"\n              onClick={pageChangeHandler(page + 1)}\n              size=\"default\"\n              className={cn(\n                \"gap-1 px-2.5 sm:pr-2.5\",\n                !hasNextPage ? \"opacity-50 cursor-not-allowed\" : \"\"\n              )}\n              aria-label={translate(\"ra.navigation.next\", { _: \"Next\" })}\n            >\n              <ChevronRightIcon />\n            </PaginationLink>\n          </PaginationItem>\n        </PaginationContent>\n      </Pagination>\n    </div>\n  );\n};\n","import * as React from \"react\";\nimport { type HtmlHTMLAttributes, useCallback, useEffect, useState, useMemo } from \"react\";\n// es-toolkit: Deep property access with dynamic paths (lodash-compatible)\nimport { get } from \"es-toolkit/compat\";\n// es-toolkit: Deep object equality comparison\nimport { isEqual } from \"es-toolkit\";\nimport queryString from \"query-string\";\nimport {\n  FieldTitle,\n  FilterLiveForm,\n  useListContext,\n  useResourceContext,\n  useTranslate,\n} from \"ra-core\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Bookmark, BookmarkMinus, BookmarkPlus, Check, Filter, MinusCircle, X } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport type { FilterElementProps } from \"@/hooks/filter-context\";\nimport { useFilterContext } from \"@/hooks/filter-context\";\nimport type { SavedQuery } from \"@/hooks/saved-queries\";\nimport { extractValidSavedQueries, useSavedQueries } from \"@/hooks/saved-queries\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { AddSavedQueryDialog, RemoveSavedQueryDialog } from \"@/components/admin/saved-queries\";\n\nexport const FilterForm = (inProps: FilterFormProps) => {\n  const { filters: filtersProps, ...rest } = inProps;\n  const filters = useFilterContext() || filtersProps;\n\n  return (\n    <FilterLiveForm formComponent={StyledForm} {...sanitizeRestProps(rest)}>\n      <FilterFormBase filters={filters} />\n    </FilterLiveForm>\n  );\n};\n\n// eslint-disable-next-line @typescript-eslint/no-empty-object-type\nexport interface FilterFormProps extends FilterFormBaseProps {}\n\n/**\n * @deprecated Use FilterFormBase from `ra-core` once available.\n */\nexport const FilterFormBase = (props: FilterFormBaseProps) => {\n  const { filters } = props;\n  const resource = useResourceContext(props);\n  const { displayedFilters = {}, filterValues, hideFilter } = useListContext();\n\n  useEffect(() => {\n    if (!filters) return;\n    filters.forEach((filter) => {\n      if (filter.props.alwaysOn && filter.props.defaultValue) {\n        throw new Error(\n          \"Cannot use alwaysOn and defaultValue on a filter input. Please set the filterDefaultValues props on the <List> element instead.\"\n        );\n      }\n    });\n  }, [filters]);\n\n  const getShownFilters = () => {\n    if (!filters) return [];\n    const values = filterValues;\n    return filters.filter((filterElement) => {\n      const filterValue = get(values, filterElement.props.source);\n      return (\n        filterElement.props.alwaysOn ||\n        displayedFilters[filterElement.props.source] ||\n        !isEmptyValue(filterValue)\n      );\n    });\n  };\n\n  const handleHide = useCallback(\n    (event: React.MouseEvent<HTMLElement>) => hideFilter(event.currentTarget.dataset.key!),\n    [hideFilter]\n  );\n\n  return (\n    <>\n      {getShownFilters().map((filterElement) => (\n        <FilterFormInput\n          key={filterElement.key || filterElement.props.source}\n          filterElement={filterElement}\n          handleHide={handleHide}\n          resource={resource}\n        />\n      ))}\n    </>\n  );\n};\n\nconst sanitizeRestProps = ({\n  hasCreate: _hasCreate,\n  resource: _resource,\n  ...props\n}: Partial<FilterFormBaseProps> & { hasCreate?: boolean }) => props;\n\nexport type FilterFormBaseProps = Omit<HtmlHTMLAttributes<HTMLFormElement>, \"children\"> & {\n  className?: string;\n  resource?: string;\n  filters?: React.ReactElement<FilterElementProps>[];\n};\n\nconst StyledForm = (props: React.FormHTMLAttributes<HTMLFormElement>) => {\n  return (\n    <form\n      {...props}\n      className={cn(\n        \"flex flex-row justify-start items-end gap-x-2 gap-y-3 pointer-events-none flex-wrap\",\n        \"[&_.form-helper-text]:hidden\",\n        props.className\n      )}\n    />\n  );\n};\n\nconst isEmptyValue = (filterValue: any): boolean => {\n  if (filterValue === \"\" || filterValue == null) return true;\n\n  // If one of the value leaf is not empty\n  // the value is considered not empty\n  if (typeof filterValue === \"object\") {\n    return Object.keys(filterValue).every((key) => isEmptyValue(filterValue[key]));\n  }\n\n  return false;\n};\n\nexport const FilterFormInput = (inProps: FilterFormInputProps) => {\n  const { filterElement, handleHide, className } = inProps;\n  const resource = useResourceContext(inProps);\n  const translate = useTranslate();\n\n  return (\n    <div\n      data-source={filterElement.props.source}\n      className={cn(\"filter-field flex flex-row pointer-events-auto gap-2 relative\", className)}\n    >\n      {React.cloneElement(filterElement, {\n        resource,\n        record: emptyRecord,\n        size: filterElement.props.size ?? \"small\",\n        helperText: false,\n        // ignore defaultValue in Field because it was already set in Form (via mergedInitialValuesWithDefaultValues)\n        defaultValue: undefined,\n        label: false,\n      })}\n      {!filterElement.props.alwaysOn && (\n        <Button\n          type=\"button\"\n          variant=\"ghost\"\n          size=\"sm\"\n          className=\"hide-filter h-11 w-11 cursor-pointer mt-auto\"\n          onClick={handleHide}\n          data-key={filterElement.props.source}\n          title={translate(\"ra.action.remove_filter\")}\n        >\n          <MinusCircle className=\"h-4 w-4\" />\n        </Button>\n      )}\n    </div>\n  );\n};\n\nexport interface FilterFormInputProps {\n  filterElement: React.ReactElement<FilterElementProps>;\n  handleHide: (event: React.MouseEvent<HTMLElement>) => void;\n  className?: string;\n  resource?: string;\n}\n\nconst emptyRecord = {};\n\nexport const FilterButton = (props: FilterButtonProps) => {\n  const {\n    filters: filtersProp,\n    className,\n    disableSaveQuery,\n    size,\n    variant = \"outline\",\n    ...rest\n  } = props;\n  const filters = useFilterContext() || filtersProp;\n  const resource = useResourceContext(props);\n  const translate = useTranslate();\n  if (!resource && !disableSaveQuery) {\n    throw new Error(\n      \"<FilterButton> must be called inside a ResourceContextProvider, or must provide a resource prop\"\n    );\n  }\n  const [savedQueries] = useSavedQueries(resource || \"\");\n  const navigate = useNavigate();\n  const {\n    displayedFilters = {},\n    filterValues,\n    perPage,\n    setFilters,\n    showFilter,\n    hideFilter,\n    sort,\n  } = useListContext();\n  // Memoize expensive computations to prevent cascading re-renders\n  const hasFilterValues = useMemo(() => !isEqual(filterValues, {}), [filterValues]);\n  const validSavedQueries = useMemo(() => extractValidSavedQueries(savedQueries), [savedQueries]);\n\n  // Memoize the current query object to prevent new object creation on every render\n  const currentQueryValue = useMemo(\n    () => ({\n      filter: filterValues,\n      sort,\n      perPage,\n      displayedFilters,\n    }),\n    [filterValues, sort, perPage, displayedFilters]\n  );\n\n  const hasSavedCurrentQuery = useMemo(\n    () => validSavedQueries.some((savedQuery) => isEqual(savedQuery.value, currentQueryValue)),\n    [validSavedQueries, currentQueryValue]\n  );\n\n  const [open, setOpen] = useState(false);\n\n  if (filters === undefined) {\n    throw new Error(\"The <FilterButton> component requires the <List filters> prop to be set\");\n  }\n\n  // Memoize filter array to prevent recalculation on every render\n  const allTogglableFilters = useMemo(\n    () =>\n      filters.filter(\n        (filterElement: React.ReactElement<FilterElementProps>) => !filterElement.props.alwaysOn\n      ),\n    [filters]\n  );\n\n  const handleShow = useCallback(\n    ({ source, defaultValue }: { source: string; defaultValue: any }) => {\n      showFilter(source, defaultValue === \"\" ? undefined : defaultValue);\n      // We have to fallback to imperative code because the new FilterFormInput\n      // has no way of knowing it has just been displayed (and thus that it should focus its input)\n      setTimeout(() => {\n        const inputElement = document.querySelector(`input[name='${source}']`) as HTMLInputElement;\n        if (inputElement) {\n          inputElement.focus();\n        }\n      }, 50);\n      setOpen(false);\n    },\n    [showFilter, setOpen]\n  );\n\n  const handleRemove = useCallback(\n    ({ source }: { source: string }) => {\n      hideFilter(source);\n      setOpen(false);\n    },\n    [hideFilter, setOpen]\n  );\n\n  // add query dialog state\n  const [addSavedQueryDialogOpen, setAddSavedQueryDialogOpen] = useState(false);\n  const hideAddSavedQueryDialog = (): void => {\n    setAddSavedQueryDialogOpen(false);\n  };\n  const showAddSavedQueryDialog = (): void => {\n    setOpen(false);\n    setAddSavedQueryDialogOpen(true);\n  };\n\n  // remove query dialog state\n  const [removeSavedQueryDialogOpen, setRemoveSavedQueryDialogOpen] = useState(false);\n  const hideRemoveSavedQueryDialog = (): void => {\n    setRemoveSavedQueryDialogOpen(false);\n  };\n  const showRemoveSavedQueryDialog = (): void => {\n    setOpen(false);\n    setRemoveSavedQueryDialogOpen(true);\n  };\n\n  if (allTogglableFilters.length === 0 && validSavedQueries.length === 0 && !hasFilterValues) {\n    return null;\n  }\n  return (\n    <div className={cn(\"inline-block\", className)} {...rest}>\n      <DropdownMenu open={open} onOpenChange={setOpen}>\n        <DropdownMenuTrigger asChild>\n          <Button\n            type=\"button\"\n            className=\"add-filter\"\n            variant={variant}\n            size={size}\n            aria-haspopup=\"true\"\n          >\n            <Filter className=\"h-4 w-4\" />\n            {translate(\"ra.action.add_filter\")}\n          </Button>\n        </DropdownMenuTrigger>\n        <DropdownMenuContent align=\"start\" className=\"w-56\">\n          {allTogglableFilters.map((filterElement: React.ReactElement<FilterElementProps>) => (\n            <FilterButtonMenuItem\n              key={filterElement.props.source}\n              filter={filterElement}\n              displayed={!!displayedFilters[filterElement.props.source]}\n              resource={resource}\n              onShow={handleShow}\n              onHide={handleRemove}\n            />\n          ))}\n          {(hasFilterValues || validSavedQueries.length > 0) && <DropdownMenuSeparator />}\n          {validSavedQueries.map((savedQuery: SavedQuery, index: number) =>\n            isEqual(savedQuery.value, currentQueryValue) ? (\n              <DropdownMenuItem onClick={showRemoveSavedQueryDialog} key={index}>\n                <BookmarkMinus className=\"h-4 w-4 mr-2\" />\n                {translate(\"ra.saved_queries.remove_label_with_name\", {\n                  _: 'Remove query \"%{name}\"',\n                  name: savedQuery.label,\n                })}\n              </DropdownMenuItem>\n            ) : (\n              <DropdownMenuItem\n                onClick={(): void => {\n                  navigate({\n                    search: queryString.stringify({\n                      filter: JSON.stringify(savedQuery.value.filter),\n                      sort: savedQuery.value.sort?.field,\n                      order: savedQuery.value.sort?.order,\n                      page: 1,\n                      perPage: savedQuery.value.perPage,\n                      displayedFilters: JSON.stringify(savedQuery.value.displayedFilters),\n                    }),\n                  });\n                  setOpen(false);\n                }}\n                key={index}\n              >\n                <Bookmark className=\"h-4 w-4 mr-2\" />\n                {savedQuery.label}\n              </DropdownMenuItem>\n            )\n          )}\n          {hasFilterValues && !hasSavedCurrentQuery && !disableSaveQuery && (\n            <DropdownMenuItem onClick={showAddSavedQueryDialog}>\n              <BookmarkPlus className=\"h-4 w-4 mr-2\" />\n              {translate(\"ra.saved_queries.new_label\", {\n                _: \"Save current query...\",\n              })}\n            </DropdownMenuItem>\n          )}\n          {hasFilterValues && (\n            <DropdownMenuItem\n              onClick={() => {\n                setFilters({}, {});\n                setOpen(false);\n              }}\n            >\n              <X className=\"h-4 w-4 mr-2\" />\n              {translate(\"ra.action.remove_all_filters\", {\n                _: \"Remove all filters\",\n              })}\n            </DropdownMenuItem>\n          )}\n        </DropdownMenuContent>\n      </DropdownMenu>\n      {!disableSaveQuery && (\n        <>\n          <AddSavedQueryDialog open={addSavedQueryDialogOpen} onClose={hideAddSavedQueryDialog} />\n          <RemoveSavedQueryDialog\n            open={removeSavedQueryDialogOpen}\n            onClose={hideRemoveSavedQueryDialog}\n          />\n        </>\n      )}\n    </div>\n  );\n};\n\nexport interface FilterButtonProps extends HtmlHTMLAttributes<HTMLDivElement> {\n  className?: string;\n  disableSaveQuery?: boolean;\n  filters?: React.ReactElement<FilterElementProps>[];\n  resource?: string;\n  variant?: \"default\" | \"destructive\" | \"outline\" | \"secondary\" | \"ghost\" | \"link\";\n  size?: \"default\" | \"sm\" | \"lg\" | \"icon\";\n}\n\nexport const FilterButtonMenuItem = React.forwardRef<HTMLDivElement, FilterButtonMenuItemProps>(\n  (props, ref) => {\n    const { filter, onShow, onHide, displayed } = props;\n    const resource = useResourceContext(props);\n    const handleShow = useCallback(() => {\n      onShow({\n        source: filter.props.source,\n        defaultValue: filter.props.defaultValue,\n      });\n    }, [filter.props.defaultValue, filter.props.source, onShow]);\n    const handleHide = useCallback(() => {\n      onHide({\n        source: filter.props.source,\n      });\n    }, [filter.props.source, onHide]);\n\n    const handleKeyDown = (event: React.KeyboardEvent) => {\n      if (event.key === \"Enter\" || event.key === \" \") {\n        event.preventDefault();\n        if (!filter.props.disabled) {\n          if (displayed) {\n            handleHide();\n          } else {\n            handleShow();\n          }\n        }\n      }\n    };\n\n    return (\n      <div\n        className={cn(\n          \"new-filter-item flex items-center px-2 py-1.5 text-sm cursor-pointer hover:bg-accent rounded-sm\",\n          filter.props.disabled && \"opacity-50 cursor-not-allowed\"\n        )}\n        data-key={filter.props.source}\n        data-default-value={filter.props.defaultValue}\n        onClick={filter.props.disabled ? undefined : displayed ? handleHide : handleShow}\n        onKeyDown={handleKeyDown}\n        ref={ref}\n        role=\"menuitemcheckbox\"\n        aria-checked={displayed}\n        tabIndex={0}\n      >\n        <div className=\"flex items-center justify-center w-4 h-4 mr-2\">\n          {displayed && <Check className=\"h-3 w-3\" />}\n        </div>\n        <div>\n          <FieldTitle label={filter.props.label} source={filter.props.source} resource={resource} />\n        </div>\n      </div>\n    );\n  }\n);\n\nexport interface FilterButtonMenuItemProps {\n  filter: React.ReactElement<FilterElementProps>;\n  displayed: boolean;\n\n  onShow: (params: { source: string; defaultValue: any }) => void;\n  onHide: (params: { source: string }) => void;\n  resource?: string;\n  autoFocus?: boolean;\n}\n","import { Breadcrumb, BreadcrumbItem, BreadcrumbPage } from \"@/components/admin/breadcrumb\";\nimport type { ListBaseProps, RaRecord } from \"ra-core\";\nimport {\n  ListBase,\n  type ListControllerResult,\n  Translate,\n  useGetResourceLabel,\n  useHasDashboard,\n  useResourceContext,\n  useResourceDefinition,\n} from \"ra-core\";\nimport type { ReactElement, ReactNode } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { cn } from \"@/lib/utils\";\nimport type { FilterElementProps } from \"@/hooks/filter-context\";\nimport { FilterContext } from \"@/hooks/filter-context\";\nimport { CreateButton } from \"@/components/admin/create-button\";\nimport { ExportButton } from \"@/components/admin/export-button\";\nimport { ListPagination } from \"@/components/admin/list-pagination\";\nimport { FilterForm } from \"@/components/admin/filter-form\";\n\nexport const List = <RecordType extends RaRecord = RaRecord>(props: ListProps<RecordType>) => {\n  const {\n    debounce,\n    disableAuthentication,\n    disableSyncWithLocation,\n    exporter,\n    filter,\n    filterDefaultValues,\n    loading,\n    perPage,\n    queryOptions,\n    resource,\n    sort,\n    storeKey,\n    ...rest\n  } = props;\n\n  return (\n    <ListBase<RecordType>\n      debounce={debounce}\n      disableAuthentication={disableAuthentication}\n      disableSyncWithLocation={disableSyncWithLocation}\n      exporter={exporter}\n      filter={filter}\n      filterDefaultValues={filterDefaultValues}\n      loading={loading}\n      perPage={perPage}\n      queryOptions={queryOptions}\n      resource={resource}\n      sort={sort}\n      storeKey={storeKey}\n    >\n      <ListView<RecordType> {...rest} />\n    </ListBase>\n  );\n};\n\nexport interface ListProps<RecordType extends RaRecord = RaRecord>\n  extends ListBaseProps<RecordType>,\n    ListViewProps<RecordType> {}\n\n/**\n * ListView - Fixed page layout with scrollable list content\n *\n * Implements the fixed-page/scrollable-list pattern for iPad optimization:\n * - Header (breadcrumb, toolbar) stays fixed at top\n * - List content scrolls within a constrained container\n * - Pagination stays fixed at bottom\n *\n * Height calculation: 100dvh - 140px accounts for:\n * - Header: ~56px (logo h-8 + py-3 padding)\n * - Layout padding: 16px top + 64px bottom (pb-16 for footer clearance)\n * - Safety margin: ~4px\n *\n * Using `dvh` (dynamic viewport height) for Safari mobile/iPad where\n * the address bar affects viewport height dynamically.\n */\nexport const ListView = <RecordType extends RaRecord = RaRecord>(\n  props: ListViewProps<RecordType>\n) => {\n  const { filters, pagination = defaultPagination, children, actions } = props;\n  const resource = useResourceContext();\n  if (!resource) {\n    throw new Error(\"The ListView component must be used within a ResourceContextProvider\");\n  }\n  const getResourceLabel = useGetResourceLabel();\n  const resourceLabel = getResourceLabel(resource, 2);\n  const { hasCreate } = useResourceDefinition({ resource });\n  const hasDashboard = useHasDashboard();\n\n  return (\n    <div className=\"flex h-[calc(100dvh-140px)] flex-col overflow-hidden\">\n      {/* Fixed header area - breadcrumb + toolbar */}\n      <div className=\"shrink-0\">\n        <Breadcrumb>\n          {hasDashboard && (\n            <BreadcrumbItem>\n              <Link to=\"/\">\n                <Translate i18nKey=\"ra.page.dashboard\">Home</Translate>\n              </Link>\n            </BreadcrumbItem>\n          )}\n          <BreadcrumbPage>{resourceLabel}</BreadcrumbPage>\n        </Breadcrumb>\n\n        <FilterContext.Provider value={filters}>\n          <div className=\"flex justify-between items-center flex-wrap gap-2 my-2\">\n            <FilterForm />\n            {actions ?? (\n              <div className=\"flex items-center gap-2\">\n                {hasCreate ? <CreateButton /> : null}\n                {<ExportButton />}\n              </div>\n            )}\n          </div>\n        </FilterContext.Provider>\n      </div>\n\n      {/* Content area - scrolls vertically for paginated lists, fills height for kanban */}\n      <FilterContext.Provider value={filters}>\n        <div\n          className={cn(\n            \"h-full min-h-0 flex-1 overflow-hidden\",\n            // Only add vertical scroll when pagination exists (standard Datagrid lists)\n            // When pagination={null} (e.g., Kanban), let content fill remaining height\n            pagination && \"overflow-y-auto\",\n            props.className\n          )}\n        >\n          {children}\n        </div>\n\n        {/* Fixed pagination at bottom - only render if pagination is provided */}\n        {pagination && (\n          <div className=\"shrink-0 border-t border-border bg-background pt-2 pb-12\">{pagination}</div>\n        )}\n      </FilterContext.Provider>\n    </div>\n  );\n};\n\nconst defaultPagination = <ListPagination />;\n\nexport interface ListViewProps<RecordType extends RaRecord = RaRecord> {\n  children?: ReactNode;\n  render?: (props: ListControllerResult<RecordType, Error>) => ReactNode;\n  actions?: ReactElement | false;\n  filters?: ReactElement<FilterElementProps>[];\n  pagination?: ReactNode;\n  title?: ReactNode | string | false;\n  className?: string;\n}\n\nexport type FiltersType = ReactElement<FilterElementProps> | ReactElement<FilterElementProps>[];\n","import { useTranslate } from \"ra-core\";\nimport { Search } from \"lucide-react\";\nimport { TextInput, type TextInputProps } from \"@/components/admin/text-input\";\n\nexport const SearchInput = (inProps: SearchInputProps) => {\n  const { label, ...rest } = inProps;\n\n  const translate = useTranslate();\n\n  if (label) {\n    throw new Error(\n      \"<SearchInput> isn't designed to be used with a label prop. Use <TextInput> if you need a label.\"\n    );\n  }\n\n  return (\n    <div className=\"relative w-full\">\n      <TextInput\n        label={false}\n        helperText={false}\n        placeholder={translate(\"ra.action.search\")}\n        className=\"w-full [&_input]:pr-10 [&_input]:pl-3\"\n        {...rest}\n      />\n      <Search className=\"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none\" />\n    </div>\n  );\n};\n\nexport type SearchInputProps = TextInputProps;\n"],"names":["FilterContext","React.createContext","useFilterContext","__name","useContext","CreateButton","label","resource","targetResource","useResourceContext","link","useCreatePath","createPath","type","jsxs","Link","className","buttonVariants","variant","to","onClick","stopPropagation","children","jsx","Plus","Translate","i18nKey","e","ExportButton","props","maxResults","icon","defaultIcon","exporter","customExporter","meta","filter","filterValues","sort","exporterFromContext","total","useListContext","dataProvider","useDataProvider","notify","useNotify","handleClick","useCallback","event","getList","pagination","page","perPage","then","data","fetchRelatedRecords","catch","error","Button","disabled","Download","Pagination","role","cn","PaginationContent","PaginationItem","PaginationLink","isActive","size","PaginationEllipsis","MoreHorizontalIcon","ListPagination","rowsPerPageOptions","translate","useTranslate","hasPreviousPage","hasNextPage","setPerPage","setPage","useListPaginationContext","pageStart","pageEnd","count","Math","ceil","range","start","end","length","Array","from","_","i","startPages","min","endPages","max","boundaryCount","siblingsStart","siblingCount","siblingsEnd","siblingPages","pageChangeHandler","newPage","preventDefault","Select","value","toString","onValueChange","Number","SelectTrigger","SelectValue","placeholder","SelectContent","side","map","pageSize","SelectItem","options","offsetBegin","offsetEnd","href","ChevronLeftIcon","pageNumber","ChevronRightIcon","FilterForm","inProps","filters","filtersProps","rest","FilterLiveForm","formComponent","StyledForm","sanitizeRestProps","FilterFormBase","displayedFilters","hideFilter","useEffect","forEach","alwaysOn","defaultValue","Error","getShownFilters","values","filterElement","filterValue","get","source","isEmptyValue","handleHide","currentTarget","dataset","key","Fragment","FilterFormInput","hasCreate","_hasCreate","_resource","Object","keys","every","React.cloneElement","record","emptyRecord","helperText","title","MinusCircle","React.forwardRef","ref","onShow","onHide","displayed","handleShow","handleKeyDown","onKeyDown","tabIndex","Check","FieldTitle","List","debounce","disableAuthentication","disableSyncWithLocation","filterDefaultValues","loading","queryOptions","storeKey","ListBase","ListView","defaultPagination","actions","resourceLabel","useGetResourceLabel","getResourceLabel","useResourceDefinition","hasDashboard","useHasDashboard","Breadcrumb","BreadcrumbItem","BreadcrumbPage","Provider","SearchInput","TextInput","Search"],"mappings":"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"}