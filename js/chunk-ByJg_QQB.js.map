{"version":3,"file":"chunk-ByJg_QQB.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.js","../../node_modules/react/jsx-runtime.js","../../node_modules/ra-core/dist/auth/AuthContext.js","../../node_modules/ra-core/dist/auth/useAuthProvider.js","../../node_modules/@tanstack/query-core/build/modern/subscribable.js","../../node_modules/@tanstack/query-core/build/modern/timeoutManager.js","../../node_modules/@tanstack/query-core/build/modern/utils.js","../../node_modules/@tanstack/query-core/build/modern/focusManager.js","../../node_modules/@tanstack/query-core/build/modern/thenable.js","../../node_modules/@tanstack/query-core/build/modern/notifyManager.js","../../node_modules/@tanstack/query-core/build/modern/onlineManager.js","../../node_modules/@tanstack/query-core/build/modern/retryer.js","../../node_modules/@tanstack/query-core/build/modern/removable.js","../../node_modules/@tanstack/query-core/build/modern/query.js","../../node_modules/@tanstack/query-core/build/modern/queryObserver.js","../../node_modules/@tanstack/query-core/build/modern/infiniteQueryBehavior.js","../../node_modules/@tanstack/query-core/build/modern/mutation.js","../../node_modules/@tanstack/query-core/build/modern/mutationCache.js","../../node_modules/@tanstack/query-core/build/modern/mutationObserver.js","../../node_modules/@tanstack/query-core/build/modern/queryCache.js","../../node_modules/@tanstack/query-core/build/modern/queryClient.js","../../node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js","../../node_modules/@tanstack/react-query/build/modern/IsRestoringProvider.js","../../node_modules/@tanstack/react-query/build/modern/QueryErrorResetBoundary.js","../../node_modules/@tanstack/react-query/build/modern/errorBoundaryUtils.js","../../node_modules/@tanstack/react-query/build/modern/suspense.js","../../node_modules/@tanstack/react-query/build/modern/useBaseQuery.js","../../node_modules/@tanstack/react-query/build/modern/useQuery.js","../../node_modules/@tanstack/react-query/build/modern/useMutation.js","../../node_modules/ra-core/dist/store/localStorageStore.js","../../node_modules/lodash/_freeGlobal.js","../../node_modules/lodash/_root.js","../../node_modules/lodash/_Symbol.js","../../node_modules/lodash/_getRawTag.js","../../node_modules/lodash/_objectToString.js","../../node_modules/lodash/_baseGetTag.js","../../node_modules/lodash/isObject.js","../../node_modules/lodash/isFunction.js","../../node_modules/lodash/_coreJsData.js","../../node_modules/lodash/_isMasked.js","../../node_modules/lodash/_toSource.js","../../node_modules/lodash/_baseIsNative.js","../../node_modules/lodash/_getValue.js","../../node_modules/lodash/_getNative.js","../../node_modules/lodash/_defineProperty.js","../../node_modules/lodash/_baseAssignValue.js","../../node_modules/lodash/eq.js","../../node_modules/lodash/_assignValue.js","../../node_modules/lodash/isArray.js","../../node_modules/lodash/isObjectLike.js","../../node_modules/lodash/isSymbol.js","../../node_modules/lodash/_isKey.js","../../node_modules/lodash/_nativeCreate.js","../../node_modules/lodash/_hashClear.js","../../node_modules/lodash/_hashDelete.js","../../node_modules/lodash/_hashGet.js","../../node_modules/lodash/_hashHas.js","../../node_modules/lodash/_hashSet.js","../../node_modules/lodash/_Hash.js","../../node_modules/lodash/_listCacheClear.js","../../node_modules/lodash/_assocIndexOf.js","../../node_modules/lodash/_listCacheDelete.js","../../node_modules/lodash/_listCacheGet.js","../../node_modules/lodash/_listCacheHas.js","../../node_modules/lodash/_listCacheSet.js","../../node_modules/lodash/_ListCache.js","../../node_modules/lodash/_Map.js","../../node_modules/lodash/_mapCacheClear.js","../../node_modules/lodash/_isKeyable.js","../../node_modules/lodash/_getMapData.js","../../node_modules/lodash/_mapCacheDelete.js","../../node_modules/lodash/_mapCacheGet.js","../../node_modules/lodash/_mapCacheHas.js","../../node_modules/lodash/_mapCacheSet.js","../../node_modules/lodash/_MapCache.js","../../node_modules/lodash/memoize.js","../../node_modules/lodash/_memoizeCapped.js","../../node_modules/lodash/_stringToPath.js","../../node_modules/lodash/_arrayMap.js","../../node_modules/lodash/_baseToString.js","../../node_modules/lodash/toString.js","../../node_modules/lodash/_castPath.js","../../node_modules/lodash/_isIndex.js","../../node_modules/lodash/_toKey.js","../../node_modules/lodash/_baseSet.js","../../node_modules/lodash/set.js","../../node_modules/lodash/last.js","../../node_modules/lodash/_baseGet.js","../../node_modules/lodash/_baseSlice.js","../../node_modules/lodash/_parent.js","../../node_modules/lodash/_baseUnset.js","../../node_modules/lodash/unset.js","../../node_modules/lodash/get.js","../../node_modules/ra-core/dist/store/memoryStore.js","../../node_modules/ra-core/dist/store/StoreContext.js","../../node_modules/ra-core/dist/store/StoreContextProvider.js","../../node_modules/ra-core/dist/store/useStoreContext.js","../../node_modules/lodash/_stackClear.js","../../node_modules/lodash/_stackDelete.js","../../node_modules/lodash/_stackGet.js","../../node_modules/lodash/_stackHas.js","../../node_modules/lodash/_stackSet.js","../../node_modules/lodash/_Stack.js","../../node_modules/lodash/_setCacheAdd.js","../../node_modules/lodash/_setCacheHas.js","../../node_modules/lodash/_SetCache.js","../../node_modules/lodash/_arraySome.js","../../node_modules/lodash/_cacheHas.js","../../node_modules/lodash/_equalArrays.js","../../node_modules/lodash/_Uint8Array.js","../../node_modules/lodash/_mapToArray.js","../../node_modules/lodash/_setToArray.js","../../node_modules/lodash/_equalByTag.js","../../node_modules/lodash/_arrayPush.js","../../node_modules/lodash/_baseGetAllKeys.js","../../node_modules/lodash/_arrayFilter.js","../../node_modules/lodash/stubArray.js","../../node_modules/lodash/_getSymbols.js","../../node_modules/lodash/_baseTimes.js","../../node_modules/lodash/_baseIsArguments.js","../../node_modules/lodash/isArguments.js","../../node_modules/lodash/stubFalse.js","../../node_modules/lodash/isBuffer.js","../../node_modules/lodash/isLength.js","../../node_modules/lodash/_baseIsTypedArray.js","../../node_modules/lodash/_baseUnary.js","../../node_modules/lodash/_nodeUtil.js","../../node_modules/lodash/isTypedArray.js","../../node_modules/lodash/_arrayLikeKeys.js","../../node_modules/lodash/_isPrototype.js","../../node_modules/lodash/_overArg.js","../../node_modules/lodash/_nativeKeys.js","../../node_modules/lodash/_baseKeys.js","../../node_modules/lodash/isArrayLike.js","../../node_modules/lodash/keys.js","../../node_modules/lodash/_getAllKeys.js","../../node_modules/lodash/_equalObjects.js","../../node_modules/lodash/_DataView.js","../../node_modules/lodash/_Promise.js","../../node_modules/lodash/_Set.js","../../node_modules/lodash/_WeakMap.js","../../node_modules/lodash/_getTag.js","../../node_modules/lodash/_baseIsEqualDeep.js","../../node_modules/lodash/_baseIsEqual.js","../../node_modules/lodash/isEqual.js","../../node_modules/ra-core/dist/i18n/substituteTokens.js","../../node_modules/ra-core/dist/i18n/I18nContext.js","../../node_modules/ra-core/dist/notification/AddNotificationContext.js","../../node_modules/ra-core/dist/notification/CloseNotificationContext.js","../../node_modules/ra-core/dist/notification/NotificationContext.js","../../node_modules/ra-core/dist/notification/NotificationContextProvider.js","../../node_modules/ra-core/dist/notification/useAddNotificationContext.js","../../node_modules/ra-core/dist/notification/useNotificationContext.js","../../node_modules/ra-core/dist/notification/useNotify.js","../../node_modules/ra-core/dist/i18n/I18nContextProvider.js","../../node_modules/ra-core/dist/i18n/useI18nProvider.js","../../node_modules/ra-core/dist/i18n/useTranslate.js","../../node_modules/ra-core/dist/i18n/Translate.js","../../node_modules/lodash/_assignMergeValue.js","../../node_modules/lodash/_createBaseFor.js","../../node_modules/lodash/_baseFor.js","../../node_modules/lodash/_cloneBuffer.js","../../node_modules/lodash/_cloneArrayBuffer.js","../../node_modules/lodash/_cloneTypedArray.js","../../node_modules/lodash/_copyArray.js","../../node_modules/lodash/_baseCreate.js","../../node_modules/lodash/_getPrototype.js","../../node_modules/lodash/_initCloneObject.js","../../node_modules/lodash/isArrayLikeObject.js","../../node_modules/lodash/isPlainObject.js","../../node_modules/lodash/_safeGet.js","../../node_modules/lodash/_copyObject.js","../../node_modules/lodash/_nativeKeysIn.js","../../node_modules/lodash/_baseKeysIn.js","../../node_modules/lodash/keysIn.js","../../node_modules/lodash/toPlainObject.js","../../node_modules/lodash/_baseMergeDeep.js","../../node_modules/lodash/_baseMerge.js","../../node_modules/lodash/identity.js","../../node_modules/lodash/_apply.js","../../node_modules/lodash/_overRest.js","../../node_modules/lodash/constant.js","../../node_modules/lodash/_baseSetToString.js","../../node_modules/lodash/_shortOut.js","../../node_modules/lodash/_setToString.js","../../node_modules/lodash/_baseRest.js","../../node_modules/lodash/_isIterateeCall.js","../../node_modules/lodash/_createAssigner.js","../../node_modules/lodash/merge.js","../../node_modules/ra-core/dist/i18n/TranslationUtils.js","../../node_modules/ra-core/dist/i18n/useLocaleState.js","../../node_modules/ra-core/dist/i18n/useLocales.js","../../node_modules/ra-core/dist/i18n/useResourceTranslation.js","../../node_modules/lodash/_arrayEach.js","../../node_modules/lodash/_baseAssign.js","../../node_modules/lodash/_baseAssignIn.js","../../node_modules/lodash/_copySymbols.js","../../node_modules/lodash/_getSymbolsIn.js","../../node_modules/lodash/_copySymbolsIn.js","../../node_modules/lodash/_getAllKeysIn.js","../../node_modules/lodash/_initCloneArray.js","../../node_modules/lodash/_cloneDataView.js","../../node_modules/lodash/_cloneRegExp.js","../../node_modules/lodash/_cloneSymbol.js","../../node_modules/lodash/_initCloneByTag.js","../../node_modules/lodash/_baseIsMap.js","../../node_modules/lodash/isMap.js","../../node_modules/lodash/_baseIsSet.js","../../node_modules/lodash/isSet.js","../../node_modules/lodash/_baseClone.js","../../node_modules/lodash/cloneDeep.js","../../node_modules/ra-core/dist/routing/BasenameContext.js","../../node_modules/ra-core/dist/routing/BasenameContextProvider.js","../../node_modules/ra-core/dist/routing/AdminRouter.js","../../node_modules/lodash/now.js","../../node_modules/lodash/_trimmedEndIndex.js","../../node_modules/lodash/_baseTrim.js","../../node_modules/lodash/toNumber.js","../../node_modules/lodash/debounce.js","../../node_modules/ra-core/dist/routing/useRestoreScrollPosition.js","../../node_modules/ra-core/dist/routing/RestoreScrollPosition.js","../../node_modules/ra-core/dist/routing/useBasename.js","../../node_modules/ra-core/dist/routing/useCreatePath.js","../../node_modules/ra-core/dist/core/ResourceContext.js","../../node_modules/ra-core/dist/core/useResourceContext.js","../../node_modules/ra-core/dist/controller/record/RecordContext.js","../../node_modules/ra-core/dist/controller/record/useRecordContext.js","../../node_modules/ra-core/dist/routing/useGetPathForRecord.js","../../node_modules/ra-core/dist/core/ResourceDefinitionContext.js","../../node_modules/ra-core/dist/core/useResourceDefinitionContext.js","../../node_modules/ra-core/dist/core/useResourceDefinitions.js","../../node_modules/ra-core/dist/auth/useCanAccessCallback.js","../../node_modules/ra-core/dist/routing/useGetPathForRecordCallback.js","../../node_modules/ra-core/dist/routing/useRedirect.js","../../node_modules/ra-core/dist/routing/useResetErrorBoundaryOnLocationChange.js","../../node_modules/ra-core/dist/routing/useScrollToTop.js","../../node_modules/ra-core/dist/dataProvider/dataFetchActions.js","../../node_modules/ra-core/dist/dataProvider/defaultDataProvider.js","../../node_modules/ra-core/dist/dataProvider/convertLegacyDataProvider.js","../../node_modules/ra-core/dist/dataProvider/DataProviderContext.js","../../node_modules/ra-core/dist/dataProvider/HttpError.js","../../node_modules/strict-uri-encode/index.js","../../node_modules/ra-core/node_modules/decode-uri-component/index.js","../../node_modules/ra-core/node_modules/split-on-first/index.js","../../node_modules/ra-core/node_modules/filter-obj/index.js","../../node_modules/ra-core/node_modules/query-string/index.js","../../node_modules/ra-core/dist/dataProvider/fetch.js","../../node_modules/ra-core/dist/dataProvider/withLifecycleCallbacks.js","../../node_modules/ra-core/dist/dataProvider/validateResponseFormat.js","../../node_modules/ra-core/dist/auth/useLogoutIfAccessDenied.js","../../node_modules/ra-core/dist/dataProvider/populateQueryCache.js","../../node_modules/ra-core/dist/dataProvider/useDataProvider.js","../../node_modules/ra-core/dist/dataProvider/useLoading.js","../../node_modules/ra-core/dist/dataProvider/useRefresh.js","../../node_modules/ra-core/dist/dataProvider/useGetOne.js","../../node_modules/ra-core/dist/dataProvider/useGetList.js","../../node_modules/ra-core/dist/dataProvider/useGetMany.js","../../node_modules/lodash/_isFlattenable.js","../../node_modules/lodash/_baseFlatten.js","../../node_modules/lodash/_baseFindIndex.js","../../node_modules/lodash/_baseIsNaN.js","../../node_modules/lodash/_strictIndexOf.js","../../node_modules/lodash/_baseIndexOf.js","../../node_modules/lodash/_arrayIncludes.js","../../node_modules/lodash/_arrayIncludesWith.js","../../node_modules/lodash/noop.js","../../node_modules/lodash/_createSet.js","../../node_modules/lodash/_baseUniq.js","../../node_modules/lodash/union.js","../../node_modules/ra-core/dist/dataProvider/useGetManyAggregate.js","../../node_modules/ra-core/dist/dataProvider/useGetManyReference.js","../../node_modules/ra-core/dist/util/shallowEqual.js","../../node_modules/ra-core/dist/util/removeEmpty.js","../../node_modules/ra-core/dist/util/removeKey.js","../../node_modules/ra-core/dist/controller/list/queryReducer.js","../../node_modules/ra-core/dist/controller/useSortState.js","../../node_modules/ra-core/dist/controller/usePaginationState.js","../../node_modules/ra-core/dist/dataProvider/undo/AddUndoableMutationContext.js","../../node_modules/ra-core/dist/dataProvider/undo/useAddUndoableMutation.js","../../node_modules/ra-core/dist/dataProvider/useMutationWithMutationMode.js","../../node_modules/ra-core/dist/dataProvider/useDelete.js","../../node_modules/ra-core/dist/controller/list/useRecordSelection.js","../../node_modules/ra-core/dist/controller/list/useUnselect.js","../../node_modules/ra-core/dist/controller/button/useDeleteController.js","../../node_modules/ra-core/dist/controller/button/useDeleteWithUndoController.js","../../node_modules/ra-core/dist/dataProvider/useDeleteMany.js","../../node_modules/ra-core/dist/controller/list/ListContext.js","../../node_modules/ra-core/dist/controller/list/useListContext.js","../../node_modules/ra-core/dist/controller/button/useBulkDeleteController.js","../../node_modules/ra-core/dist/dataProvider/useUpdate.js","../../node_modules/ra-core/dist/controller/saveContext/SaveContext.js","../../node_modules/ra-core/dist/controller/saveContext/SaveContextProvider.js","../../node_modules/lodash/_basePickBy.js","../../node_modules/lodash/_baseHasIn.js","../../node_modules/lodash/_hasPath.js","../../node_modules/lodash/hasIn.js","../../node_modules/lodash/_basePick.js","../../node_modules/lodash/flatten.js","../../node_modules/lodash/_flatRest.js","../../node_modules/lodash/pick.js","../../node_modules/ra-core/dist/controller/saveContext/usePickSaveContext.js","../../node_modules/ra-core/dist/controller/saveContext/useSaveContext.js","../../node_modules/ra-core/dist/controller/saveContext/useMutationMiddlewares.js","../../node_modules/ra-core/dist/controller/create/useCreateController.js","../../node_modules/ra-core/dist/controller/create/CreateContext.js","../../node_modules/ra-core/dist/controller/create/CreateContextProvider.js","../../node_modules/ra-core/dist/controller/create/CreateBase.js","../../node_modules/ra-core/dist/controller/edit/useEditController.js","../../node_modules/ra-core/dist/controller/record/WithRecord.js","../../node_modules/ra-core/dist/controller/record/OptionalRecordContextProvider.js","../../node_modules/ra-core/dist/controller/record/RecordRepresentation.js","../../node_modules/ra-core/dist/controller/edit/EditContext.js","../../node_modules/ra-core/dist/controller/edit/EditContextProvider.js","../../node_modules/ra-core/dist/controller/edit/EditBase.js","../../node_modules/ra-core/dist/controller/edit/useEditContext.js","../../node_modules/ra-core/dist/controller/field/ReferenceFieldContext.js","../../node_modules/ra-core/dist/controller/useReference.js","../../node_modules/ra-core/dist/controller/field/useReferenceFieldController.js","../../node_modules/ra-core/dist/controller/field/ReferenceFieldBase.js","../../node_modules/ra-core/dist/controller/field/useReferenceManyFieldController.js","../../node_modules/ra-core/dist/util/hooks.js","../../node_modules/ra-core/dist/controller/list/ListFilterContext.js","../../node_modules/ra-core/dist/controller/list/ListSortContext.js","../../node_modules/ra-core/dist/controller/list/ListPaginationContext.js","../../node_modules/ra-core/dist/controller/list/ListContextProvider.js","../../node_modules/ra-core/dist/controller/field/ReferenceManyFieldBase.js","../../node_modules/ra-core/dist/controller/list/FilterContext.js","../../node_modules/jsonexport/dist/core/eol.js","../../node_modules/jsonexport/dist/core/helper.js","../../node_modules/jsonexport/dist/core/join-rows.js","../../node_modules/jsonexport/dist/parser/handler.js","../../node_modules/jsonexport/dist/core/escape-delimiters.js","../../node_modules/jsonexport/dist/parser/csv.js","../../node_modules/jsonexport/dist/core/stream.js","../../node_modules/jsonexport/dist/index.js","../../node_modules/ra-core/dist/export/downloadCSV.js","../../node_modules/ra-core/dist/export/defaultExporter.js","../../node_modules/ra-core/dist/export/getRelatedIds.js","../../node_modules/ra-core/dist/export/fetchRelatedRecords.js","../../node_modules/ra-core/dist/controller/list/useListParams.js","../../node_modules/ra-core/dist/controller/list/useSelectAll.js","../../node_modules/ra-core/dist/controller/list/useListController.js","../../node_modules/ra-core/dist/controller/list/ListBase.js","../../node_modules/lodash/defaults.js","../../node_modules/ra-core/dist/controller/list/useListContextWithProps.js","../../node_modules/ra-core/dist/controller/list/useExpanded.js","../../node_modules/ra-core/dist/controller/list/useFilterContext.js","../../node_modules/ra-core/dist/controller/list/useList.js","../../node_modules/ra-core/dist/controller/list/useListPaginationContext.js","../../node_modules/ra-core/dist/controller/list/useListSortContext.js","../../node_modules/ra-core/dist/controller/field/useReferenceArrayFieldController.js","../../node_modules/ra-core/dist/controller/field/ReferenceArrayFieldBase.js","../../node_modules/ra-core/dist/controller/field/sanitizeFieldRestProps.js","../../node_modules/ra-core/dist/controller/input/useReferenceParams.js","../../node_modules/ra-core/dist/controller/input/useReferenceArrayInputController.js","../../node_modules/ra-core/dist/controller/input/useReferenceInputController.js","../../node_modules/ra-core/dist/form/choices/ChoicesContext.js","../../node_modules/ra-core/dist/form/choices/ChoicesContextProvider.js","../../node_modules/ra-core/dist/controller/input/ReferenceInputBase.js","../../node_modules/ra-core/dist/core/ResourceContextProvider.js","../../node_modules/ra-core/dist/controller/input/ReferenceArrayInputBase.js","../../node_modules/ra-core/dist/form/validation/validate.js","../../node_modules/ra-core/dist/form/validation/useGetValidationErrorMessage.js","../../node_modules/ra-core/dist/form/useApplyInputDefaultValues.js","../../node_modules/ra-core/dist/form/groups/FormGroupContext.js","../../node_modules/ra-core/dist/form/groups/useFormGroupContext.js","../../node_modules/ra-core/dist/form/groups/FormGroupsContext.js","../../node_modules/ra-core/dist/form/groups/useFormGroups.js","../../node_modules/ra-core/dist/controller/input/ArrayInputContext.js","../../node_modules/ra-core/dist/controller/input/ArrayInputBase.js","../../node_modules/ra-core/dist/core/SourceContext.js","../../node_modules/ra-core/dist/core/useWrappedSource.js","../../node_modules/ra-core/dist/controller/input/useArrayInput.js","../../node_modules/ra-core/dist/controller/input/SimpleFormIteratorContext.js","../../node_modules/ra-core/dist/controller/input/SimpleFormIteratorBase.js","../../node_modules/ra-core/dist/controller/input/useSimpleFormIterator.js","../../node_modules/ra-core/dist/controller/input/SimpleFormIteratorItemContext.js","../../node_modules/ra-core/dist/controller/input/SimpleFormIteratorItemBase.js","../../node_modules/ra-core/dist/controller/input/sanitizeInputRestProps.js","../../node_modules/ra-core/dist/controller/input/useSimpleFormIteratorItem.js","../../node_modules/ra-core/dist/form/useFormValues.js","../../node_modules/ra-core/dist/form/FormDataConsumer.js","../../node_modules/ra-core/dist/controller/input/useGetArrayInputNewItemDefaults.js","../../node_modules/ra-core/dist/controller/show/useShowController.js","../../node_modules/ra-core/dist/controller/show/ShowContext.js","../../node_modules/ra-core/dist/controller/show/ShowContextProvider.js","../../node_modules/ra-core/dist/controller/show/ShowBase.js","../../node_modules/ra-core/dist/controller/show/useShowContext.js","../../node_modules/ra-core/dist/dataProvider/useCreate.js","../../node_modules/ra-core/dist/dataProvider/undo/TakeUndoableMutationContext.js","../../node_modules/ra-core/dist/dataProvider/undo/UndoableMutationsContextProvider.js","../../node_modules/ra-core/dist/dataProvider/undo/useTakeUndoableMutation.js","../../node_modules/ra-core/dist/preferences/PreferencesEditorContext.js","../../node_modules/ra-core/dist/preferences/PreferencesEditorContextProvider.js","../../node_modules/ra-core/dist/core/CoreAdminContext.js","../../node_modules/ra-core/node_modules/react-error-boundary/dist/react-error-boundary.esm.js","../../node_modules/ra-core/dist/auth/usePermissions.js","../../node_modules/ra-core/dist/core/useConfigureAdminRouterFromChildren.js","../../node_modules/ra-core/dist/core/HasDashboardContext.js","../../node_modules/ra-core/dist/auth/useCanAccessResources.js","../../node_modules/ra-core/dist/core/useFirstResourceWithListAccess.js","../../node_modules/ra-core/dist/core/NavigateToFirstResource.js","../../node_modules/ra-core/dist/core/CoreAdminRoutes.js","../../node_modules/ra-core/dist/core/DefaultTitleContext.js","../../node_modules/ra-core/dist/core/CoreAdminUI.js","../../node_modules/ra-core/dist/core/CustomRoutes.js","../../node_modules/ra-core/dist/core/OptionalResourceContextProvider.js","../../node_modules/react-is/cjs/react-is.production.js","../../node_modules/react-is/index.js","../../node_modules/ra-core/dist/core/Resource.js","../../node_modules/inflection/lib/inflection.js","../../node_modules/ra-core/dist/core/useGetResourceLabel.js","../../node_modules/ra-core/dist/core/useResourceDefinition.js","../../node_modules/ra-core/dist/core/useGetRecordRepresentation.js","../../node_modules/ra-core/dist/i18n/useTranslateLabel.js","../../node_modules/ra-core/dist/util/FieldTitle.js","../../node_modules/ra-core/dist/util/Ready.js","../../node_modules/ra-core/dist/util/warning.js","../../node_modules/ra-core/dist/util/getFieldLabelTranslationArgs.js","../../node_modules/ra-core/dist/util/useEvent.js","../../node_modules/ra-core/dist/util/useDebouncedEvent.js","../../node_modules/ra-core/dist/util/useFieldValue.js","../../node_modules/ra-core/dist/store/useStore.js","../../node_modules/ra-core/dist/store/useResetStore.js","../../node_modules/ra-core/dist/auth/useLogout.js","../../node_modules/ra-core/dist/auth/useAuthState.js","../../node_modules/ra-core/dist/auth/useAuthenticated.js","../../node_modules/ra-core/dist/auth/WithPermissions.js","../../node_modules/ra-core/dist/auth/useLogin.js","../../node_modules/ra-core/dist/auth/convertLegacyAuthProvider.js","../../node_modules/ra-core/dist/auth/types.js","../../node_modules/ra-core/dist/auth/useCanAccess.js","../../node_modules/ra-core/dist/auth/CanAccess.js","../../node_modules/ra-core/dist/auth/LogoutOnMount.js","../../node_modules/ra-core/dist/auth/useGetIdentity.js","../../node_modules/ra-core/dist/auth/useHandleAuthCallback.js","../../node_modules/ra-core/dist/auth/useIsAuthPending.js","../../node_modules/ra-core/dist/auth/useRequireAccess.js","../../node_modules/ra-core/dist/preferences/PreferenceKeyContext.js","../../node_modules/ra-core/dist/preferences/usePreference.js","../../node_modules/ra-core/dist/preferences/usePreferencesEditor.js","../../node_modules/ra-core/dist/preferences/usePreferenceInput.js","../../node_modules/lodash/_baseDifference.js","../../node_modules/lodash/difference.js","../../node_modules/ra-core/dist/form/choices/useChoicesContext.js","../../node_modules/ra-core/dist/form/choices/useChoices.js","../../node_modules/ra-core/dist/form/groups/FormGroupsProvider.js","../../node_modules/ra-core/dist/form/useWarnWhenUnsavedChanges.js","../../node_modules/ra-core/dist/form/WarnWhenUnsavedChanges.js","../../node_modules/ra-core/dist/form/getFormInitialValues.js","../../node_modules/ra-core/dist/form/validation/getSimpleValidationResolver.js","../../node_modules/ra-core/dist/form/validation/setSubmissionErrors.js","../../node_modules/ra-core/dist/form/validation/useNotifyIsFormInvalid.js","../../node_modules/ra-core/dist/form/sanitizeEmptyValues.js","../../node_modules/ra-core/dist/form/useRecordFromLocation.js","../../node_modules/ra-core/dist/form/useAugmentedForm.js","../../node_modules/ra-core/dist/form/Form.js","../../node_modules/ra-core/dist/form/validation/ValidationError.js","../../node_modules/ra-core/dist/form/useInput.js","../../node_modules/ra-core/dist/form/useSuggestions.js","../../node_modules/lodash/mergeWith.js","../../node_modules/ra-core/dist/form/FilterLiveForm.js","../../node_modules/lodash/isEmpty.js","../../node_modules/ra-core/dist/form/useFormIsDirty.js","../../node_modules/ra-language-english/dist/index.js","../../node_modules/object-keys/isArguments.js","../../node_modules/object-keys/implementation.js","../../node_modules/object-keys/index.js","../../node_modules/es-define-property/index.js","../../node_modules/es-errors/syntax.js","../../node_modules/es-errors/type.js","../../node_modules/gopd/gOPD.js","../../node_modules/gopd/index.js","../../node_modules/define-data-property/index.js","../../node_modules/has-property-descriptors/index.js","../../node_modules/define-properties/index.js","../../node_modules/es-object-atoms/index.js","../../node_modules/es-errors/index.js","../../node_modules/es-errors/eval.js","../../node_modules/es-errors/range.js","../../node_modules/es-errors/ref.js","../../node_modules/es-errors/uri.js","../../node_modules/math-intrinsics/abs.js","../../node_modules/math-intrinsics/floor.js","../../node_modules/math-intrinsics/max.js","../../node_modules/math-intrinsics/min.js","../../node_modules/math-intrinsics/pow.js","../../node_modules/math-intrinsics/round.js","../../node_modules/math-intrinsics/isNaN.js","../../node_modules/math-intrinsics/sign.js","../../node_modules/has-symbols/shams.js","../../node_modules/has-symbols/index.js","../../node_modules/get-proto/Reflect.getPrototypeOf.js","../../node_modules/get-proto/Object.getPrototypeOf.js","../../node_modules/function-bind/implementation.js","../../node_modules/function-bind/index.js","../../node_modules/call-bind-apply-helpers/functionCall.js","../../node_modules/call-bind-apply-helpers/functionApply.js","../../node_modules/call-bind-apply-helpers/reflectApply.js","../../node_modules/call-bind-apply-helpers/actualApply.js","../../node_modules/call-bind-apply-helpers/index.js","../../node_modules/dunder-proto/get.js","../../node_modules/get-proto/index.js","../../node_modules/hasown/index.js","../../node_modules/get-intrinsic/index.js","../../node_modules/set-function-length/index.js","../../node_modules/call-bind-apply-helpers/applyBind.js","../../node_modules/call-bind/index.js","../../node_modules/es-object-atoms/RequireObjectCoercible.js","../../node_modules/call-bound/index.js","../../node_modules/object.entries/implementation.js","../../node_modules/object.entries/polyfill.js","../../node_modules/object.entries/shim.js","../../node_modules/object.entries/index.js","../../node_modules/warning/warning.js","../../node_modules/node-polyglot/index.js","../../node_modules/ra-i18n-polyglot/dist/index.js"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\nfunction jsxProd(type, config, maybeKey) {\n  var key = null;\n  void 0 !== maybeKey && (key = \"\" + maybeKey);\n  void 0 !== config.key && (key = \"\" + config.key);\n  if (\"key\" in config) {\n    maybeKey = {};\n    for (var propName in config)\n      \"key\" !== propName && (maybeKey[propName] = config[propName]);\n  } else maybeKey = config;\n  config = maybeKey.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== config ? config : null,\n    props: maybeKey\n  };\n}\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsxProd;\nexports.jsxs = jsxProd;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","import { createContext } from 'react';\nexport var AuthContext = createContext(undefined);\nAuthContext.displayName = 'AuthContext';\n//# sourceMappingURL=AuthContext.js.map","import { useContext } from 'react';\nimport { AuthContext } from \"./AuthContext.js\";\nexport var defaultAuthParams = {\n    loginUrl: '/login',\n    afterLoginUrl: '/',\n};\n/**\n * Get the authProvider stored in the context\n */\nvar useAuthProvider = function () {\n    return useContext(AuthContext);\n};\nexport default useAuthProvider;\n//# sourceMappingURL=useAuthProvider.js.map","// src/subscribable.ts\nvar Subscribable = class {\n  constructor() {\n    this.listeners = /* @__PURE__ */ new Set();\n    this.subscribe = this.subscribe.bind(this);\n  }\n  subscribe(listener) {\n    this.listeners.add(listener);\n    this.onSubscribe();\n    return () => {\n      this.listeners.delete(listener);\n      this.onUnsubscribe();\n    };\n  }\n  hasListeners() {\n    return this.listeners.size > 0;\n  }\n  onSubscribe() {\n  }\n  onUnsubscribe() {\n  }\n};\nexport {\n  Subscribable\n};\n//# sourceMappingURL=subscribable.js.map","// src/timeoutManager.ts\nvar defaultTimeoutProvider = {\n  // We need the wrapper function syntax below instead of direct references to\n  // global setTimeout etc.\n  //\n  // BAD: `setTimeout: setTimeout`\n  // GOOD: `setTimeout: (cb, delay) => setTimeout(cb, delay)`\n  //\n  // If we use direct references here, then anything that wants to spy on or\n  // replace the global setTimeout (like tests) won't work since we'll already\n  // have a hard reference to the original implementation at the time when this\n  // file was imported.\n  setTimeout: (callback, delay) => setTimeout(callback, delay),\n  clearTimeout: (timeoutId) => clearTimeout(timeoutId),\n  setInterval: (callback, delay) => setInterval(callback, delay),\n  clearInterval: (intervalId) => clearInterval(intervalId)\n};\nvar TimeoutManager = class {\n  // We cannot have TimeoutManager<T> as we must instantiate it with a concrete\n  // type at app boot; and if we leave that type, then any new timer provider\n  // would need to support ReturnType<typeof setTimeout>, which is infeasible.\n  //\n  // We settle for type safety for the TimeoutProvider type, and accept that\n  // this class is unsafe internally to allow for extension.\n  #provider = defaultTimeoutProvider;\n  #providerCalled = false;\n  setTimeoutProvider(provider) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (this.#providerCalled && provider !== this.#provider) {\n        console.error(\n          `[timeoutManager]: Switching provider after calls to previous provider might result in unexpected behavior.`,\n          { previous: this.#provider, provider }\n        );\n      }\n    }\n    this.#provider = provider;\n    if (process.env.NODE_ENV !== \"production\") {\n      this.#providerCalled = false;\n    }\n  }\n  setTimeout(callback, delay) {\n    if (process.env.NODE_ENV !== \"production\") {\n      this.#providerCalled = true;\n    }\n    return this.#provider.setTimeout(callback, delay);\n  }\n  clearTimeout(timeoutId) {\n    this.#provider.clearTimeout(timeoutId);\n  }\n  setInterval(callback, delay) {\n    if (process.env.NODE_ENV !== \"production\") {\n      this.#providerCalled = true;\n    }\n    return this.#provider.setInterval(callback, delay);\n  }\n  clearInterval(intervalId) {\n    this.#provider.clearInterval(intervalId);\n  }\n};\nvar timeoutManager = new TimeoutManager();\nfunction systemSetTimeoutZero(callback) {\n  setTimeout(callback, 0);\n}\nexport {\n  TimeoutManager,\n  defaultTimeoutProvider,\n  systemSetTimeoutZero,\n  timeoutManager\n};\n//# sourceMappingURL=timeoutManager.js.map","// src/utils.ts\nimport { timeoutManager } from \"./timeoutManager.js\";\nvar isServer = typeof window === \"undefined\" || \"Deno\" in globalThis;\nfunction noop() {\n}\nfunction functionalUpdate(updater, input) {\n  return typeof updater === \"function\" ? updater(input) : updater;\n}\nfunction isValidTimeout(value) {\n  return typeof value === \"number\" && value >= 0 && value !== Infinity;\n}\nfunction timeUntilStale(updatedAt, staleTime) {\n  return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0);\n}\nfunction resolveStaleTime(staleTime, query) {\n  return typeof staleTime === \"function\" ? staleTime(query) : staleTime;\n}\nfunction resolveEnabled(enabled, query) {\n  return typeof enabled === \"function\" ? enabled(query) : enabled;\n}\nfunction matchQuery(filters, query) {\n  const {\n    type = \"all\",\n    exact,\n    fetchStatus,\n    predicate,\n    queryKey,\n    stale\n  } = filters;\n  if (queryKey) {\n    if (exact) {\n      if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {\n        return false;\n      }\n    } else if (!partialMatchKey(query.queryKey, queryKey)) {\n      return false;\n    }\n  }\n  if (type !== \"all\") {\n    const isActive = query.isActive();\n    if (type === \"active\" && !isActive) {\n      return false;\n    }\n    if (type === \"inactive\" && isActive) {\n      return false;\n    }\n  }\n  if (typeof stale === \"boolean\" && query.isStale() !== stale) {\n    return false;\n  }\n  if (fetchStatus && fetchStatus !== query.state.fetchStatus) {\n    return false;\n  }\n  if (predicate && !predicate(query)) {\n    return false;\n  }\n  return true;\n}\nfunction matchMutation(filters, mutation) {\n  const { exact, status, predicate, mutationKey } = filters;\n  if (mutationKey) {\n    if (!mutation.options.mutationKey) {\n      return false;\n    }\n    if (exact) {\n      if (hashKey(mutation.options.mutationKey) !== hashKey(mutationKey)) {\n        return false;\n      }\n    } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {\n      return false;\n    }\n  }\n  if (status && mutation.state.status !== status) {\n    return false;\n  }\n  if (predicate && !predicate(mutation)) {\n    return false;\n  }\n  return true;\n}\nfunction hashQueryKeyByOptions(queryKey, options) {\n  const hashFn = options?.queryKeyHashFn || hashKey;\n  return hashFn(queryKey);\n}\nfunction hashKey(queryKey) {\n  return JSON.stringify(\n    queryKey,\n    (_, val) => isPlainObject(val) ? Object.keys(val).sort().reduce((result, key) => {\n      result[key] = val[key];\n      return result;\n    }, {}) : val\n  );\n}\nfunction partialMatchKey(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (a && b && typeof a === \"object\" && typeof b === \"object\") {\n    return Object.keys(b).every((key) => partialMatchKey(a[key], b[key]));\n  }\n  return false;\n}\nvar hasOwn = Object.prototype.hasOwnProperty;\nfunction replaceEqualDeep(a, b) {\n  if (a === b) {\n    return a;\n  }\n  const array = isPlainArray(a) && isPlainArray(b);\n  if (!array && !(isPlainObject(a) && isPlainObject(b))) return b;\n  const aItems = array ? a : Object.keys(a);\n  const aSize = aItems.length;\n  const bItems = array ? b : Object.keys(b);\n  const bSize = bItems.length;\n  const copy = array ? new Array(bSize) : {};\n  let equalItems = 0;\n  for (let i = 0; i < bSize; i++) {\n    const key = array ? i : bItems[i];\n    const aItem = a[key];\n    const bItem = b[key];\n    if (aItem === bItem) {\n      copy[key] = aItem;\n      if (array ? i < aSize : hasOwn.call(a, key)) equalItems++;\n      continue;\n    }\n    if (aItem === null || bItem === null || typeof aItem !== \"object\" || typeof bItem !== \"object\") {\n      copy[key] = bItem;\n      continue;\n    }\n    const v = replaceEqualDeep(aItem, bItem);\n    copy[key] = v;\n    if (v === aItem) equalItems++;\n  }\n  return aSize === bSize && equalItems === aSize ? a : copy;\n}\nfunction shallowEqualObjects(a, b) {\n  if (!b || Object.keys(a).length !== Object.keys(b).length) {\n    return false;\n  }\n  for (const key in a) {\n    if (a[key] !== b[key]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction isPlainArray(value) {\n  return Array.isArray(value) && value.length === Object.keys(value).length;\n}\nfunction isPlainObject(o) {\n  if (!hasObjectPrototype(o)) {\n    return false;\n  }\n  const ctor = o.constructor;\n  if (ctor === void 0) {\n    return true;\n  }\n  const prot = ctor.prototype;\n  if (!hasObjectPrototype(prot)) {\n    return false;\n  }\n  if (!prot.hasOwnProperty(\"isPrototypeOf\")) {\n    return false;\n  }\n  if (Object.getPrototypeOf(o) !== Object.prototype) {\n    return false;\n  }\n  return true;\n}\nfunction hasObjectPrototype(o) {\n  return Object.prototype.toString.call(o) === \"[object Object]\";\n}\nfunction sleep(timeout) {\n  return new Promise((resolve) => {\n    timeoutManager.setTimeout(resolve, timeout);\n  });\n}\nfunction replaceData(prevData, data, options) {\n  if (typeof options.structuralSharing === \"function\") {\n    return options.structuralSharing(prevData, data);\n  } else if (options.structuralSharing !== false) {\n    if (process.env.NODE_ENV !== \"production\") {\n      try {\n        return replaceEqualDeep(prevData, data);\n      } catch (error) {\n        console.error(\n          `Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${options.queryHash}]: ${error}`\n        );\n        throw error;\n      }\n    }\n    return replaceEqualDeep(prevData, data);\n  }\n  return data;\n}\nfunction keepPreviousData(previousData) {\n  return previousData;\n}\nfunction addToEnd(items, item, max = 0) {\n  const newItems = [...items, item];\n  return max && newItems.length > max ? newItems.slice(1) : newItems;\n}\nfunction addToStart(items, item, max = 0) {\n  const newItems = [item, ...items];\n  return max && newItems.length > max ? newItems.slice(0, -1) : newItems;\n}\nvar skipToken = Symbol();\nfunction ensureQueryFn(options, fetchOptions) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (options.queryFn === skipToken) {\n      console.error(\n        `Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${options.queryHash}'`\n      );\n    }\n  }\n  if (!options.queryFn && fetchOptions?.initialPromise) {\n    return () => fetchOptions.initialPromise;\n  }\n  if (!options.queryFn || options.queryFn === skipToken) {\n    return () => Promise.reject(new Error(`Missing queryFn: '${options.queryHash}'`));\n  }\n  return options.queryFn;\n}\nfunction shouldThrowError(throwOnError, params) {\n  if (typeof throwOnError === \"function\") {\n    return throwOnError(...params);\n  }\n  return !!throwOnError;\n}\nexport {\n  addToEnd,\n  addToStart,\n  ensureQueryFn,\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  isPlainArray,\n  isPlainObject,\n  isServer,\n  isValidTimeout,\n  keepPreviousData,\n  matchMutation,\n  matchQuery,\n  noop,\n  partialMatchKey,\n  replaceData,\n  replaceEqualDeep,\n  resolveEnabled,\n  resolveStaleTime,\n  shallowEqualObjects,\n  shouldThrowError,\n  skipToken,\n  sleep,\n  timeUntilStale\n};\n//# sourceMappingURL=utils.js.map","// src/focusManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar FocusManager = class extends Subscribable {\n  #focused;\n  #cleanup;\n  #setup;\n  constructor() {\n    super();\n    this.#setup = (onFocus) => {\n      if (!isServer && window.addEventListener) {\n        const listener = () => onFocus();\n        window.addEventListener(\"visibilitychange\", listener, false);\n        return () => {\n          window.removeEventListener(\"visibilitychange\", listener);\n        };\n      }\n      return;\n    };\n  }\n  onSubscribe() {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.();\n      this.#cleanup = void 0;\n    }\n  }\n  setEventListener(setup) {\n    this.#setup = setup;\n    this.#cleanup?.();\n    this.#cleanup = setup((focused) => {\n      if (typeof focused === \"boolean\") {\n        this.setFocused(focused);\n      } else {\n        this.onFocus();\n      }\n    });\n  }\n  setFocused(focused) {\n    const changed = this.#focused !== focused;\n    if (changed) {\n      this.#focused = focused;\n      this.onFocus();\n    }\n  }\n  onFocus() {\n    const isFocused = this.isFocused();\n    this.listeners.forEach((listener) => {\n      listener(isFocused);\n    });\n  }\n  isFocused() {\n    if (typeof this.#focused === \"boolean\") {\n      return this.#focused;\n    }\n    return globalThis.document?.visibilityState !== \"hidden\";\n  }\n};\nvar focusManager = new FocusManager();\nexport {\n  FocusManager,\n  focusManager\n};\n//# sourceMappingURL=focusManager.js.map","// src/thenable.ts\nimport { noop } from \"./utils.js\";\nfunction pendingThenable() {\n  let resolve;\n  let reject;\n  const thenable = new Promise((_resolve, _reject) => {\n    resolve = _resolve;\n    reject = _reject;\n  });\n  thenable.status = \"pending\";\n  thenable.catch(() => {\n  });\n  function finalize(data) {\n    Object.assign(thenable, data);\n    delete thenable.resolve;\n    delete thenable.reject;\n  }\n  thenable.resolve = (value) => {\n    finalize({\n      status: \"fulfilled\",\n      value\n    });\n    resolve(value);\n  };\n  thenable.reject = (reason) => {\n    finalize({\n      status: \"rejected\",\n      reason\n    });\n    reject(reason);\n  };\n  return thenable;\n}\nfunction tryResolveSync(promise) {\n  let data;\n  promise.then((result) => {\n    data = result;\n    return result;\n  }, noop)?.catch(noop);\n  if (data !== void 0) {\n    return { data };\n  }\n  return void 0;\n}\nexport {\n  pendingThenable,\n  tryResolveSync\n};\n//# sourceMappingURL=thenable.js.map","// src/notifyManager.ts\nimport { systemSetTimeoutZero } from \"./timeoutManager.js\";\nvar defaultScheduler = systemSetTimeoutZero;\nfunction createNotifyManager() {\n  let queue = [];\n  let transactions = 0;\n  let notifyFn = (callback) => {\n    callback();\n  };\n  let batchNotifyFn = (callback) => {\n    callback();\n  };\n  let scheduleFn = defaultScheduler;\n  const schedule = (callback) => {\n    if (transactions) {\n      queue.push(callback);\n    } else {\n      scheduleFn(() => {\n        notifyFn(callback);\n      });\n    }\n  };\n  const flush = () => {\n    const originalQueue = queue;\n    queue = [];\n    if (originalQueue.length) {\n      scheduleFn(() => {\n        batchNotifyFn(() => {\n          originalQueue.forEach((callback) => {\n            notifyFn(callback);\n          });\n        });\n      });\n    }\n  };\n  return {\n    batch: (callback) => {\n      let result;\n      transactions++;\n      try {\n        result = callback();\n      } finally {\n        transactions--;\n        if (!transactions) {\n          flush();\n        }\n      }\n      return result;\n    },\n    /**\n     * All calls to the wrapped function will be batched.\n     */\n    batchCalls: (callback) => {\n      return (...args) => {\n        schedule(() => {\n          callback(...args);\n        });\n      };\n    },\n    schedule,\n    /**\n     * Use this method to set a custom notify function.\n     * This can be used to for example wrap notifications with `React.act` while running tests.\n     */\n    setNotifyFunction: (fn) => {\n      notifyFn = fn;\n    },\n    /**\n     * Use this method to set a custom function to batch notifications together into a single tick.\n     * By default React Query will use the batch function provided by ReactDOM or React Native.\n     */\n    setBatchNotifyFunction: (fn) => {\n      batchNotifyFn = fn;\n    },\n    setScheduler: (fn) => {\n      scheduleFn = fn;\n    }\n  };\n}\nvar notifyManager = createNotifyManager();\nexport {\n  createNotifyManager,\n  defaultScheduler,\n  notifyManager\n};\n//# sourceMappingURL=notifyManager.js.map","// src/onlineManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar OnlineManager = class extends Subscribable {\n  #online = true;\n  #cleanup;\n  #setup;\n  constructor() {\n    super();\n    this.#setup = (onOnline) => {\n      if (!isServer && window.addEventListener) {\n        const onlineListener = () => onOnline(true);\n        const offlineListener = () => onOnline(false);\n        window.addEventListener(\"online\", onlineListener, false);\n        window.addEventListener(\"offline\", offlineListener, false);\n        return () => {\n          window.removeEventListener(\"online\", onlineListener);\n          window.removeEventListener(\"offline\", offlineListener);\n        };\n      }\n      return;\n    };\n  }\n  onSubscribe() {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.();\n      this.#cleanup = void 0;\n    }\n  }\n  setEventListener(setup) {\n    this.#setup = setup;\n    this.#cleanup?.();\n    this.#cleanup = setup(this.setOnline.bind(this));\n  }\n  setOnline(online) {\n    const changed = this.#online !== online;\n    if (changed) {\n      this.#online = online;\n      this.listeners.forEach((listener) => {\n        listener(online);\n      });\n    }\n  }\n  isOnline() {\n    return this.#online;\n  }\n};\nvar onlineManager = new OnlineManager();\nexport {\n  OnlineManager,\n  onlineManager\n};\n//# sourceMappingURL=onlineManager.js.map","// src/retryer.ts\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { pendingThenable } from \"./thenable.js\";\nimport { isServer, sleep } from \"./utils.js\";\nfunction defaultRetryDelay(failureCount) {\n  return Math.min(1e3 * 2 ** failureCount, 3e4);\n}\nfunction canFetch(networkMode) {\n  return (networkMode ?? \"online\") === \"online\" ? onlineManager.isOnline() : true;\n}\nvar CancelledError = class extends Error {\n  constructor(options) {\n    super(\"CancelledError\");\n    this.revert = options?.revert;\n    this.silent = options?.silent;\n  }\n};\nfunction isCancelledError(value) {\n  return value instanceof CancelledError;\n}\nfunction createRetryer(config) {\n  let isRetryCancelled = false;\n  let failureCount = 0;\n  let continueFn;\n  const thenable = pendingThenable();\n  const isResolved = () => thenable.status !== \"pending\";\n  const cancel = (cancelOptions) => {\n    if (!isResolved()) {\n      const error = new CancelledError(cancelOptions);\n      reject(error);\n      config.onCancel?.(error);\n    }\n  };\n  const cancelRetry = () => {\n    isRetryCancelled = true;\n  };\n  const continueRetry = () => {\n    isRetryCancelled = false;\n  };\n  const canContinue = () => focusManager.isFocused() && (config.networkMode === \"always\" || onlineManager.isOnline()) && config.canRun();\n  const canStart = () => canFetch(config.networkMode) && config.canRun();\n  const resolve = (value) => {\n    if (!isResolved()) {\n      continueFn?.();\n      thenable.resolve(value);\n    }\n  };\n  const reject = (value) => {\n    if (!isResolved()) {\n      continueFn?.();\n      thenable.reject(value);\n    }\n  };\n  const pause = () => {\n    return new Promise((continueResolve) => {\n      continueFn = (value) => {\n        if (isResolved() || canContinue()) {\n          continueResolve(value);\n        }\n      };\n      config.onPause?.();\n    }).then(() => {\n      continueFn = void 0;\n      if (!isResolved()) {\n        config.onContinue?.();\n      }\n    });\n  };\n  const run = () => {\n    if (isResolved()) {\n      return;\n    }\n    let promiseOrValue;\n    const initialPromise = failureCount === 0 ? config.initialPromise : void 0;\n    try {\n      promiseOrValue = initialPromise ?? config.fn();\n    } catch (error) {\n      promiseOrValue = Promise.reject(error);\n    }\n    Promise.resolve(promiseOrValue).then(resolve).catch((error) => {\n      if (isResolved()) {\n        return;\n      }\n      const retry = config.retry ?? (isServer ? 0 : 3);\n      const retryDelay = config.retryDelay ?? defaultRetryDelay;\n      const delay = typeof retryDelay === \"function\" ? retryDelay(failureCount, error) : retryDelay;\n      const shouldRetry = retry === true || typeof retry === \"number\" && failureCount < retry || typeof retry === \"function\" && retry(failureCount, error);\n      if (isRetryCancelled || !shouldRetry) {\n        reject(error);\n        return;\n      }\n      failureCount++;\n      config.onFail?.(failureCount, error);\n      sleep(delay).then(() => {\n        return canContinue() ? void 0 : pause();\n      }).then(() => {\n        if (isRetryCancelled) {\n          reject(error);\n        } else {\n          run();\n        }\n      });\n    });\n  };\n  return {\n    promise: thenable,\n    status: () => thenable.status,\n    cancel,\n    continue: () => {\n      continueFn?.();\n      return thenable;\n    },\n    cancelRetry,\n    continueRetry,\n    canStart,\n    start: () => {\n      if (canStart()) {\n        run();\n      } else {\n        pause().then(run);\n      }\n      return thenable;\n    }\n  };\n}\nexport {\n  CancelledError,\n  canFetch,\n  createRetryer,\n  isCancelledError\n};\n//# sourceMappingURL=retryer.js.map","// src/removable.ts\nimport { timeoutManager } from \"./timeoutManager.js\";\nimport { isServer, isValidTimeout } from \"./utils.js\";\nvar Removable = class {\n  #gcTimeout;\n  destroy() {\n    this.clearGcTimeout();\n  }\n  scheduleGc() {\n    this.clearGcTimeout();\n    if (isValidTimeout(this.gcTime)) {\n      this.#gcTimeout = timeoutManager.setTimeout(() => {\n        this.optionalRemove();\n      }, this.gcTime);\n    }\n  }\n  updateGcTime(newGcTime) {\n    this.gcTime = Math.max(\n      this.gcTime || 0,\n      newGcTime ?? (isServer ? Infinity : 5 * 60 * 1e3)\n    );\n  }\n  clearGcTimeout() {\n    if (this.#gcTimeout) {\n      timeoutManager.clearTimeout(this.#gcTimeout);\n      this.#gcTimeout = void 0;\n    }\n  }\n};\nexport {\n  Removable\n};\n//# sourceMappingURL=removable.js.map","// src/query.ts\nimport {\n  ensureQueryFn,\n  noop,\n  replaceData,\n  resolveEnabled,\n  resolveStaleTime,\n  skipToken,\n  timeUntilStale\n} from \"./utils.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { CancelledError, canFetch, createRetryer } from \"./retryer.js\";\nimport { Removable } from \"./removable.js\";\nvar Query = class extends Removable {\n  #initialState;\n  #revertState;\n  #cache;\n  #client;\n  #retryer;\n  #defaultOptions;\n  #abortSignalConsumed;\n  constructor(config) {\n    super();\n    this.#abortSignalConsumed = false;\n    this.#defaultOptions = config.defaultOptions;\n    this.setOptions(config.options);\n    this.observers = [];\n    this.#client = config.client;\n    this.#cache = this.#client.getQueryCache();\n    this.queryKey = config.queryKey;\n    this.queryHash = config.queryHash;\n    this.#initialState = getDefaultState(this.options);\n    this.state = config.state ?? this.#initialState;\n    this.scheduleGc();\n  }\n  get meta() {\n    return this.options.meta;\n  }\n  get promise() {\n    return this.#retryer?.promise;\n  }\n  setOptions(options) {\n    this.options = { ...this.#defaultOptions, ...options };\n    this.updateGcTime(this.options.gcTime);\n    if (this.state && this.state.data === void 0) {\n      const defaultState = getDefaultState(this.options);\n      if (defaultState.data !== void 0) {\n        this.setState(\n          successState(defaultState.data, defaultState.dataUpdatedAt)\n        );\n        this.#initialState = defaultState;\n      }\n    }\n  }\n  optionalRemove() {\n    if (!this.observers.length && this.state.fetchStatus === \"idle\") {\n      this.#cache.remove(this);\n    }\n  }\n  setData(newData, options) {\n    const data = replaceData(this.state.data, newData, this.options);\n    this.#dispatch({\n      data,\n      type: \"success\",\n      dataUpdatedAt: options?.updatedAt,\n      manual: options?.manual\n    });\n    return data;\n  }\n  setState(state, setStateOptions) {\n    this.#dispatch({ type: \"setState\", state, setStateOptions });\n  }\n  cancel(options) {\n    const promise = this.#retryer?.promise;\n    this.#retryer?.cancel(options);\n    return promise ? promise.then(noop).catch(noop) : Promise.resolve();\n  }\n  destroy() {\n    super.destroy();\n    this.cancel({ silent: true });\n  }\n  reset() {\n    this.destroy();\n    this.setState(this.#initialState);\n  }\n  isActive() {\n    return this.observers.some(\n      (observer) => resolveEnabled(observer.options.enabled, this) !== false\n    );\n  }\n  isDisabled() {\n    if (this.getObserversCount() > 0) {\n      return !this.isActive();\n    }\n    return this.options.queryFn === skipToken || this.state.dataUpdateCount + this.state.errorUpdateCount === 0;\n  }\n  isStatic() {\n    if (this.getObserversCount() > 0) {\n      return this.observers.some(\n        (observer) => resolveStaleTime(observer.options.staleTime, this) === \"static\"\n      );\n    }\n    return false;\n  }\n  isStale() {\n    if (this.getObserversCount() > 0) {\n      return this.observers.some(\n        (observer) => observer.getCurrentResult().isStale\n      );\n    }\n    return this.state.data === void 0 || this.state.isInvalidated;\n  }\n  isStaleByTime(staleTime = 0) {\n    if (this.state.data === void 0) {\n      return true;\n    }\n    if (staleTime === \"static\") {\n      return false;\n    }\n    if (this.state.isInvalidated) {\n      return true;\n    }\n    return !timeUntilStale(this.state.dataUpdatedAt, staleTime);\n  }\n  onFocus() {\n    const observer = this.observers.find((x) => x.shouldFetchOnWindowFocus());\n    observer?.refetch({ cancelRefetch: false });\n    this.#retryer?.continue();\n  }\n  onOnline() {\n    const observer = this.observers.find((x) => x.shouldFetchOnReconnect());\n    observer?.refetch({ cancelRefetch: false });\n    this.#retryer?.continue();\n  }\n  addObserver(observer) {\n    if (!this.observers.includes(observer)) {\n      this.observers.push(observer);\n      this.clearGcTimeout();\n      this.#cache.notify({ type: \"observerAdded\", query: this, observer });\n    }\n  }\n  removeObserver(observer) {\n    if (this.observers.includes(observer)) {\n      this.observers = this.observers.filter((x) => x !== observer);\n      if (!this.observers.length) {\n        if (this.#retryer) {\n          if (this.#abortSignalConsumed) {\n            this.#retryer.cancel({ revert: true });\n          } else {\n            this.#retryer.cancelRetry();\n          }\n        }\n        this.scheduleGc();\n      }\n      this.#cache.notify({ type: \"observerRemoved\", query: this, observer });\n    }\n  }\n  getObserversCount() {\n    return this.observers.length;\n  }\n  invalidate() {\n    if (!this.state.isInvalidated) {\n      this.#dispatch({ type: \"invalidate\" });\n    }\n  }\n  async fetch(options, fetchOptions) {\n    if (this.state.fetchStatus !== \"idle\" && // If the promise in the retyer is already rejected, we have to definitely\n    // re-start the fetch; there is a chance that the query is still in a\n    // pending state when that happens\n    this.#retryer?.status() !== \"rejected\") {\n      if (this.state.data !== void 0 && fetchOptions?.cancelRefetch) {\n        this.cancel({ silent: true });\n      } else if (this.#retryer) {\n        this.#retryer.continueRetry();\n        return this.#retryer.promise;\n      }\n    }\n    if (options) {\n      this.setOptions(options);\n    }\n    if (!this.options.queryFn) {\n      const observer = this.observers.find((x) => x.options.queryFn);\n      if (observer) {\n        this.setOptions(observer.options);\n      }\n    }\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!Array.isArray(this.options.queryKey)) {\n        console.error(\n          `As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']`\n        );\n      }\n    }\n    const abortController = new AbortController();\n    const addSignalProperty = (object) => {\n      Object.defineProperty(object, \"signal\", {\n        enumerable: true,\n        get: () => {\n          this.#abortSignalConsumed = true;\n          return abortController.signal;\n        }\n      });\n    };\n    const fetchFn = () => {\n      const queryFn = ensureQueryFn(this.options, fetchOptions);\n      const createQueryFnContext = () => {\n        const queryFnContext2 = {\n          client: this.#client,\n          queryKey: this.queryKey,\n          meta: this.meta\n        };\n        addSignalProperty(queryFnContext2);\n        return queryFnContext2;\n      };\n      const queryFnContext = createQueryFnContext();\n      this.#abortSignalConsumed = false;\n      if (this.options.persister) {\n        return this.options.persister(\n          queryFn,\n          queryFnContext,\n          this\n        );\n      }\n      return queryFn(queryFnContext);\n    };\n    const createFetchContext = () => {\n      const context2 = {\n        fetchOptions,\n        options: this.options,\n        queryKey: this.queryKey,\n        client: this.#client,\n        state: this.state,\n        fetchFn\n      };\n      addSignalProperty(context2);\n      return context2;\n    };\n    const context = createFetchContext();\n    this.options.behavior?.onFetch(context, this);\n    this.#revertState = this.state;\n    if (this.state.fetchStatus === \"idle\" || this.state.fetchMeta !== context.fetchOptions?.meta) {\n      this.#dispatch({ type: \"fetch\", meta: context.fetchOptions?.meta });\n    }\n    this.#retryer = createRetryer({\n      initialPromise: fetchOptions?.initialPromise,\n      fn: context.fetchFn,\n      onCancel: (error) => {\n        if (error instanceof CancelledError && error.revert) {\n          this.setState({\n            ...this.#revertState,\n            fetchStatus: \"idle\"\n          });\n        }\n        abortController.abort();\n      },\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: \"failed\", failureCount, error });\n      },\n      onPause: () => {\n        this.#dispatch({ type: \"pause\" });\n      },\n      onContinue: () => {\n        this.#dispatch({ type: \"continue\" });\n      },\n      retry: context.options.retry,\n      retryDelay: context.options.retryDelay,\n      networkMode: context.options.networkMode,\n      canRun: () => true\n    });\n    try {\n      const data = await this.#retryer.start();\n      if (data === void 0) {\n        if (process.env.NODE_ENV !== \"production\") {\n          console.error(\n            `Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`\n          );\n        }\n        throw new Error(`${this.queryHash} data is undefined`);\n      }\n      this.setData(data);\n      this.#cache.config.onSuccess?.(data, this);\n      this.#cache.config.onSettled?.(\n        data,\n        this.state.error,\n        this\n      );\n      return data;\n    } catch (error) {\n      if (error instanceof CancelledError) {\n        if (error.silent) {\n          return this.#retryer.promise;\n        } else if (error.revert) {\n          if (this.state.data === void 0) {\n            throw error;\n          }\n          return this.state.data;\n        }\n      }\n      this.#dispatch({\n        type: \"error\",\n        error\n      });\n      this.#cache.config.onError?.(\n        error,\n        this\n      );\n      this.#cache.config.onSettled?.(\n        this.state.data,\n        error,\n        this\n      );\n      throw error;\n    } finally {\n      this.scheduleGc();\n    }\n  }\n  #dispatch(action) {\n    const reducer = (state) => {\n      switch (action.type) {\n        case \"failed\":\n          return {\n            ...state,\n            fetchFailureCount: action.failureCount,\n            fetchFailureReason: action.error\n          };\n        case \"pause\":\n          return {\n            ...state,\n            fetchStatus: \"paused\"\n          };\n        case \"continue\":\n          return {\n            ...state,\n            fetchStatus: \"fetching\"\n          };\n        case \"fetch\":\n          return {\n            ...state,\n            ...fetchState(state.data, this.options),\n            fetchMeta: action.meta ?? null\n          };\n        case \"success\":\n          const newState = {\n            ...state,\n            ...successState(action.data, action.dataUpdatedAt),\n            dataUpdateCount: state.dataUpdateCount + 1,\n            ...!action.manual && {\n              fetchStatus: \"idle\",\n              fetchFailureCount: 0,\n              fetchFailureReason: null\n            }\n          };\n          this.#revertState = action.manual ? newState : void 0;\n          return newState;\n        case \"error\":\n          const error = action.error;\n          return {\n            ...state,\n            error,\n            errorUpdateCount: state.errorUpdateCount + 1,\n            errorUpdatedAt: Date.now(),\n            fetchFailureCount: state.fetchFailureCount + 1,\n            fetchFailureReason: error,\n            fetchStatus: \"idle\",\n            status: \"error\"\n          };\n        case \"invalidate\":\n          return {\n            ...state,\n            isInvalidated: true\n          };\n        case \"setState\":\n          return {\n            ...state,\n            ...action.state\n          };\n      }\n    };\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.observers.forEach((observer) => {\n        observer.onQueryUpdate();\n      });\n      this.#cache.notify({ query: this, type: \"updated\", action });\n    });\n  }\n};\nfunction fetchState(data, options) {\n  return {\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchStatus: canFetch(options.networkMode) ? \"fetching\" : \"paused\",\n    ...data === void 0 && {\n      error: null,\n      status: \"pending\"\n    }\n  };\n}\nfunction successState(data, dataUpdatedAt) {\n  return {\n    data,\n    dataUpdatedAt: dataUpdatedAt ?? Date.now(),\n    error: null,\n    isInvalidated: false,\n    status: \"success\"\n  };\n}\nfunction getDefaultState(options) {\n  const data = typeof options.initialData === \"function\" ? options.initialData() : options.initialData;\n  const hasData = data !== void 0;\n  const initialDataUpdatedAt = hasData ? typeof options.initialDataUpdatedAt === \"function\" ? options.initialDataUpdatedAt() : options.initialDataUpdatedAt : 0;\n  return {\n    data,\n    dataUpdateCount: 0,\n    dataUpdatedAt: hasData ? initialDataUpdatedAt ?? Date.now() : 0,\n    error: null,\n    errorUpdateCount: 0,\n    errorUpdatedAt: 0,\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchMeta: null,\n    isInvalidated: false,\n    status: hasData ? \"success\" : \"pending\",\n    fetchStatus: \"idle\"\n  };\n}\nexport {\n  Query,\n  fetchState\n};\n//# sourceMappingURL=query.js.map","// src/queryObserver.ts\nimport { focusManager } from \"./focusManager.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { fetchState } from \"./query.js\";\nimport { Subscribable } from \"./subscribable.js\";\nimport { pendingThenable } from \"./thenable.js\";\nimport {\n  isServer,\n  isValidTimeout,\n  noop,\n  replaceData,\n  resolveEnabled,\n  resolveStaleTime,\n  shallowEqualObjects,\n  timeUntilStale\n} from \"./utils.js\";\nimport { timeoutManager } from \"./timeoutManager.js\";\nvar QueryObserver = class extends Subscribable {\n  constructor(client, options) {\n    super();\n    this.options = options;\n    this.#client = client;\n    this.#selectError = null;\n    this.#currentThenable = pendingThenable();\n    this.bindMethods();\n    this.setOptions(options);\n  }\n  #client;\n  #currentQuery = void 0;\n  #currentQueryInitialState = void 0;\n  #currentResult = void 0;\n  #currentResultState;\n  #currentResultOptions;\n  #currentThenable;\n  #selectError;\n  #selectFn;\n  #selectResult;\n  // This property keeps track of the last query with defined data.\n  // It will be used to pass the previous data and query to the placeholder function between renders.\n  #lastQueryWithDefinedData;\n  #staleTimeoutId;\n  #refetchIntervalId;\n  #currentRefetchInterval;\n  #trackedProps = /* @__PURE__ */ new Set();\n  bindMethods() {\n    this.refetch = this.refetch.bind(this);\n  }\n  onSubscribe() {\n    if (this.listeners.size === 1) {\n      this.#currentQuery.addObserver(this);\n      if (shouldFetchOnMount(this.#currentQuery, this.options)) {\n        this.#executeFetch();\n      } else {\n        this.updateResult();\n      }\n      this.#updateTimers();\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.destroy();\n    }\n  }\n  shouldFetchOnReconnect() {\n    return shouldFetchOn(\n      this.#currentQuery,\n      this.options,\n      this.options.refetchOnReconnect\n    );\n  }\n  shouldFetchOnWindowFocus() {\n    return shouldFetchOn(\n      this.#currentQuery,\n      this.options,\n      this.options.refetchOnWindowFocus\n    );\n  }\n  destroy() {\n    this.listeners = /* @__PURE__ */ new Set();\n    this.#clearStaleTimeout();\n    this.#clearRefetchInterval();\n    this.#currentQuery.removeObserver(this);\n  }\n  setOptions(options) {\n    const prevOptions = this.options;\n    const prevQuery = this.#currentQuery;\n    this.options = this.#client.defaultQueryOptions(options);\n    if (this.options.enabled !== void 0 && typeof this.options.enabled !== \"boolean\" && typeof this.options.enabled !== \"function\" && typeof resolveEnabled(this.options.enabled, this.#currentQuery) !== \"boolean\") {\n      throw new Error(\n        \"Expected enabled to be a boolean or a callback that returns a boolean\"\n      );\n    }\n    this.#updateQuery();\n    this.#currentQuery.setOptions(this.options);\n    if (prevOptions._defaulted && !shallowEqualObjects(this.options, prevOptions)) {\n      this.#client.getQueryCache().notify({\n        type: \"observerOptionsUpdated\",\n        query: this.#currentQuery,\n        observer: this\n      });\n    }\n    const mounted = this.hasListeners();\n    if (mounted && shouldFetchOptionally(\n      this.#currentQuery,\n      prevQuery,\n      this.options,\n      prevOptions\n    )) {\n      this.#executeFetch();\n    }\n    this.updateResult();\n    if (mounted && (this.#currentQuery !== prevQuery || resolveEnabled(this.options.enabled, this.#currentQuery) !== resolveEnabled(prevOptions.enabled, this.#currentQuery) || resolveStaleTime(this.options.staleTime, this.#currentQuery) !== resolveStaleTime(prevOptions.staleTime, this.#currentQuery))) {\n      this.#updateStaleTimeout();\n    }\n    const nextRefetchInterval = this.#computeRefetchInterval();\n    if (mounted && (this.#currentQuery !== prevQuery || resolveEnabled(this.options.enabled, this.#currentQuery) !== resolveEnabled(prevOptions.enabled, this.#currentQuery) || nextRefetchInterval !== this.#currentRefetchInterval)) {\n      this.#updateRefetchInterval(nextRefetchInterval);\n    }\n  }\n  getOptimisticResult(options) {\n    const query = this.#client.getQueryCache().build(this.#client, options);\n    const result = this.createResult(query, options);\n    if (shouldAssignObserverCurrentProperties(this, result)) {\n      this.#currentResult = result;\n      this.#currentResultOptions = this.options;\n      this.#currentResultState = this.#currentQuery.state;\n    }\n    return result;\n  }\n  getCurrentResult() {\n    return this.#currentResult;\n  }\n  trackResult(result, onPropTracked) {\n    return new Proxy(result, {\n      get: (target, key) => {\n        this.trackProp(key);\n        onPropTracked?.(key);\n        if (key === \"promise\") {\n          this.trackProp(\"data\");\n          if (!this.options.experimental_prefetchInRender && this.#currentThenable.status === \"pending\") {\n            this.#currentThenable.reject(\n              new Error(\n                \"experimental_prefetchInRender feature flag is not enabled\"\n              )\n            );\n          }\n        }\n        return Reflect.get(target, key);\n      }\n    });\n  }\n  trackProp(key) {\n    this.#trackedProps.add(key);\n  }\n  getCurrentQuery() {\n    return this.#currentQuery;\n  }\n  refetch({ ...options } = {}) {\n    return this.fetch({\n      ...options\n    });\n  }\n  fetchOptimistic(options) {\n    const defaultedOptions = this.#client.defaultQueryOptions(options);\n    const query = this.#client.getQueryCache().build(this.#client, defaultedOptions);\n    return query.fetch().then(() => this.createResult(query, defaultedOptions));\n  }\n  fetch(fetchOptions) {\n    return this.#executeFetch({\n      ...fetchOptions,\n      cancelRefetch: fetchOptions.cancelRefetch ?? true\n    }).then(() => {\n      this.updateResult();\n      return this.#currentResult;\n    });\n  }\n  #executeFetch(fetchOptions) {\n    this.#updateQuery();\n    let promise = this.#currentQuery.fetch(\n      this.options,\n      fetchOptions\n    );\n    if (!fetchOptions?.throwOnError) {\n      promise = promise.catch(noop);\n    }\n    return promise;\n  }\n  #updateStaleTimeout() {\n    this.#clearStaleTimeout();\n    const staleTime = resolveStaleTime(\n      this.options.staleTime,\n      this.#currentQuery\n    );\n    if (isServer || this.#currentResult.isStale || !isValidTimeout(staleTime)) {\n      return;\n    }\n    const time = timeUntilStale(this.#currentResult.dataUpdatedAt, staleTime);\n    const timeout = time + 1;\n    this.#staleTimeoutId = timeoutManager.setTimeout(() => {\n      if (!this.#currentResult.isStale) {\n        this.updateResult();\n      }\n    }, timeout);\n  }\n  #computeRefetchInterval() {\n    return (typeof this.options.refetchInterval === \"function\" ? this.options.refetchInterval(this.#currentQuery) : this.options.refetchInterval) ?? false;\n  }\n  #updateRefetchInterval(nextInterval) {\n    this.#clearRefetchInterval();\n    this.#currentRefetchInterval = nextInterval;\n    if (isServer || resolveEnabled(this.options.enabled, this.#currentQuery) === false || !isValidTimeout(this.#currentRefetchInterval) || this.#currentRefetchInterval === 0) {\n      return;\n    }\n    this.#refetchIntervalId = timeoutManager.setInterval(() => {\n      if (this.options.refetchIntervalInBackground || focusManager.isFocused()) {\n        this.#executeFetch();\n      }\n    }, this.#currentRefetchInterval);\n  }\n  #updateTimers() {\n    this.#updateStaleTimeout();\n    this.#updateRefetchInterval(this.#computeRefetchInterval());\n  }\n  #clearStaleTimeout() {\n    if (this.#staleTimeoutId) {\n      timeoutManager.clearTimeout(this.#staleTimeoutId);\n      this.#staleTimeoutId = void 0;\n    }\n  }\n  #clearRefetchInterval() {\n    if (this.#refetchIntervalId) {\n      timeoutManager.clearInterval(this.#refetchIntervalId);\n      this.#refetchIntervalId = void 0;\n    }\n  }\n  createResult(query, options) {\n    const prevQuery = this.#currentQuery;\n    const prevOptions = this.options;\n    const prevResult = this.#currentResult;\n    const prevResultState = this.#currentResultState;\n    const prevResultOptions = this.#currentResultOptions;\n    const queryChange = query !== prevQuery;\n    const queryInitialState = queryChange ? query.state : this.#currentQueryInitialState;\n    const { state } = query;\n    let newState = { ...state };\n    let isPlaceholderData = false;\n    let data;\n    if (options._optimisticResults) {\n      const mounted = this.hasListeners();\n      const fetchOnMount = !mounted && shouldFetchOnMount(query, options);\n      const fetchOptionally = mounted && shouldFetchOptionally(query, prevQuery, options, prevOptions);\n      if (fetchOnMount || fetchOptionally) {\n        newState = {\n          ...newState,\n          ...fetchState(state.data, query.options)\n        };\n      }\n      if (options._optimisticResults === \"isRestoring\") {\n        newState.fetchStatus = \"idle\";\n      }\n    }\n    let { error, errorUpdatedAt, status } = newState;\n    data = newState.data;\n    let skipSelect = false;\n    if (options.placeholderData !== void 0 && data === void 0 && status === \"pending\") {\n      let placeholderData;\n      if (prevResult?.isPlaceholderData && options.placeholderData === prevResultOptions?.placeholderData) {\n        placeholderData = prevResult.data;\n        skipSelect = true;\n      } else {\n        placeholderData = typeof options.placeholderData === \"function\" ? options.placeholderData(\n          this.#lastQueryWithDefinedData?.state.data,\n          this.#lastQueryWithDefinedData\n        ) : options.placeholderData;\n      }\n      if (placeholderData !== void 0) {\n        status = \"success\";\n        data = replaceData(\n          prevResult?.data,\n          placeholderData,\n          options\n        );\n        isPlaceholderData = true;\n      }\n    }\n    if (options.select && data !== void 0 && !skipSelect) {\n      if (prevResult && data === prevResultState?.data && options.select === this.#selectFn) {\n        data = this.#selectResult;\n      } else {\n        try {\n          this.#selectFn = options.select;\n          data = options.select(data);\n          data = replaceData(prevResult?.data, data, options);\n          this.#selectResult = data;\n          this.#selectError = null;\n        } catch (selectError) {\n          this.#selectError = selectError;\n        }\n      }\n    }\n    if (this.#selectError) {\n      error = this.#selectError;\n      data = this.#selectResult;\n      errorUpdatedAt = Date.now();\n      status = \"error\";\n    }\n    const isFetching = newState.fetchStatus === \"fetching\";\n    const isPending = status === \"pending\";\n    const isError = status === \"error\";\n    const isLoading = isPending && isFetching;\n    const hasData = data !== void 0;\n    const result = {\n      status,\n      fetchStatus: newState.fetchStatus,\n      isPending,\n      isSuccess: status === \"success\",\n      isError,\n      isInitialLoading: isLoading,\n      isLoading,\n      data,\n      dataUpdatedAt: newState.dataUpdatedAt,\n      error,\n      errorUpdatedAt,\n      failureCount: newState.fetchFailureCount,\n      failureReason: newState.fetchFailureReason,\n      errorUpdateCount: newState.errorUpdateCount,\n      isFetched: newState.dataUpdateCount > 0 || newState.errorUpdateCount > 0,\n      isFetchedAfterMount: newState.dataUpdateCount > queryInitialState.dataUpdateCount || newState.errorUpdateCount > queryInitialState.errorUpdateCount,\n      isFetching,\n      isRefetching: isFetching && !isPending,\n      isLoadingError: isError && !hasData,\n      isPaused: newState.fetchStatus === \"paused\",\n      isPlaceholderData,\n      isRefetchError: isError && hasData,\n      isStale: isStale(query, options),\n      refetch: this.refetch,\n      promise: this.#currentThenable,\n      isEnabled: resolveEnabled(options.enabled, query) !== false\n    };\n    const nextResult = result;\n    if (this.options.experimental_prefetchInRender) {\n      const finalizeThenableIfPossible = (thenable) => {\n        if (nextResult.status === \"error\") {\n          thenable.reject(nextResult.error);\n        } else if (nextResult.data !== void 0) {\n          thenable.resolve(nextResult.data);\n        }\n      };\n      const recreateThenable = () => {\n        const pending = this.#currentThenable = nextResult.promise = pendingThenable();\n        finalizeThenableIfPossible(pending);\n      };\n      const prevThenable = this.#currentThenable;\n      switch (prevThenable.status) {\n        case \"pending\":\n          if (query.queryHash === prevQuery.queryHash) {\n            finalizeThenableIfPossible(prevThenable);\n          }\n          break;\n        case \"fulfilled\":\n          if (nextResult.status === \"error\" || nextResult.data !== prevThenable.value) {\n            recreateThenable();\n          }\n          break;\n        case \"rejected\":\n          if (nextResult.status !== \"error\" || nextResult.error !== prevThenable.reason) {\n            recreateThenable();\n          }\n          break;\n      }\n    }\n    return nextResult;\n  }\n  updateResult() {\n    const prevResult = this.#currentResult;\n    const nextResult = this.createResult(this.#currentQuery, this.options);\n    this.#currentResultState = this.#currentQuery.state;\n    this.#currentResultOptions = this.options;\n    if (this.#currentResultState.data !== void 0) {\n      this.#lastQueryWithDefinedData = this.#currentQuery;\n    }\n    if (shallowEqualObjects(nextResult, prevResult)) {\n      return;\n    }\n    this.#currentResult = nextResult;\n    const shouldNotifyListeners = () => {\n      if (!prevResult) {\n        return true;\n      }\n      const { notifyOnChangeProps } = this.options;\n      const notifyOnChangePropsValue = typeof notifyOnChangeProps === \"function\" ? notifyOnChangeProps() : notifyOnChangeProps;\n      if (notifyOnChangePropsValue === \"all\" || !notifyOnChangePropsValue && !this.#trackedProps.size) {\n        return true;\n      }\n      const includedProps = new Set(\n        notifyOnChangePropsValue ?? this.#trackedProps\n      );\n      if (this.options.throwOnError) {\n        includedProps.add(\"error\");\n      }\n      return Object.keys(this.#currentResult).some((key) => {\n        const typedKey = key;\n        const changed = this.#currentResult[typedKey] !== prevResult[typedKey];\n        return changed && includedProps.has(typedKey);\n      });\n    };\n    this.#notify({ listeners: shouldNotifyListeners() });\n  }\n  #updateQuery() {\n    const query = this.#client.getQueryCache().build(this.#client, this.options);\n    if (query === this.#currentQuery) {\n      return;\n    }\n    const prevQuery = this.#currentQuery;\n    this.#currentQuery = query;\n    this.#currentQueryInitialState = query.state;\n    if (this.hasListeners()) {\n      prevQuery?.removeObserver(this);\n      query.addObserver(this);\n    }\n  }\n  onQueryUpdate() {\n    this.updateResult();\n    if (this.hasListeners()) {\n      this.#updateTimers();\n    }\n  }\n  #notify(notifyOptions) {\n    notifyManager.batch(() => {\n      if (notifyOptions.listeners) {\n        this.listeners.forEach((listener) => {\n          listener(this.#currentResult);\n        });\n      }\n      this.#client.getQueryCache().notify({\n        query: this.#currentQuery,\n        type: \"observerResultsUpdated\"\n      });\n    });\n  }\n};\nfunction shouldLoadOnMount(query, options) {\n  return resolveEnabled(options.enabled, query) !== false && query.state.data === void 0 && !(query.state.status === \"error\" && options.retryOnMount === false);\n}\nfunction shouldFetchOnMount(query, options) {\n  return shouldLoadOnMount(query, options) || query.state.data !== void 0 && shouldFetchOn(query, options, options.refetchOnMount);\n}\nfunction shouldFetchOn(query, options, field) {\n  if (resolveEnabled(options.enabled, query) !== false && resolveStaleTime(options.staleTime, query) !== \"static\") {\n    const value = typeof field === \"function\" ? field(query) : field;\n    return value === \"always\" || value !== false && isStale(query, options);\n  }\n  return false;\n}\nfunction shouldFetchOptionally(query, prevQuery, options, prevOptions) {\n  return (query !== prevQuery || resolveEnabled(prevOptions.enabled, query) === false) && (!options.suspense || query.state.status !== \"error\") && isStale(query, options);\n}\nfunction isStale(query, options) {\n  return resolveEnabled(options.enabled, query) !== false && query.isStaleByTime(resolveStaleTime(options.staleTime, query));\n}\nfunction shouldAssignObserverCurrentProperties(observer, optimisticResult) {\n  if (!shallowEqualObjects(observer.getCurrentResult(), optimisticResult)) {\n    return true;\n  }\n  return false;\n}\nexport {\n  QueryObserver\n};\n//# sourceMappingURL=queryObserver.js.map","// src/infiniteQueryBehavior.ts\nimport { addToEnd, addToStart, ensureQueryFn } from \"./utils.js\";\nfunction infiniteQueryBehavior(pages) {\n  return {\n    onFetch: (context, query) => {\n      const options = context.options;\n      const direction = context.fetchOptions?.meta?.fetchMore?.direction;\n      const oldPages = context.state.data?.pages || [];\n      const oldPageParams = context.state.data?.pageParams || [];\n      let result = { pages: [], pageParams: [] };\n      let currentPage = 0;\n      const fetchFn = async () => {\n        let cancelled = false;\n        const addSignalProperty = (object) => {\n          Object.defineProperty(object, \"signal\", {\n            enumerable: true,\n            get: () => {\n              if (context.signal.aborted) {\n                cancelled = true;\n              } else {\n                context.signal.addEventListener(\"abort\", () => {\n                  cancelled = true;\n                });\n              }\n              return context.signal;\n            }\n          });\n        };\n        const queryFn = ensureQueryFn(context.options, context.fetchOptions);\n        const fetchPage = async (data, param, previous) => {\n          if (cancelled) {\n            return Promise.reject();\n          }\n          if (param == null && data.pages.length) {\n            return Promise.resolve(data);\n          }\n          const createQueryFnContext = () => {\n            const queryFnContext2 = {\n              client: context.client,\n              queryKey: context.queryKey,\n              pageParam: param,\n              direction: previous ? \"backward\" : \"forward\",\n              meta: context.options.meta\n            };\n            addSignalProperty(queryFnContext2);\n            return queryFnContext2;\n          };\n          const queryFnContext = createQueryFnContext();\n          const page = await queryFn(queryFnContext);\n          const { maxPages } = context.options;\n          const addTo = previous ? addToStart : addToEnd;\n          return {\n            pages: addTo(data.pages, page, maxPages),\n            pageParams: addTo(data.pageParams, param, maxPages)\n          };\n        };\n        if (direction && oldPages.length) {\n          const previous = direction === \"backward\";\n          const pageParamFn = previous ? getPreviousPageParam : getNextPageParam;\n          const oldData = {\n            pages: oldPages,\n            pageParams: oldPageParams\n          };\n          const param = pageParamFn(options, oldData);\n          result = await fetchPage(oldData, param, previous);\n        } else {\n          const remainingPages = pages ?? oldPages.length;\n          do {\n            const param = currentPage === 0 ? oldPageParams[0] ?? options.initialPageParam : getNextPageParam(options, result);\n            if (currentPage > 0 && param == null) {\n              break;\n            }\n            result = await fetchPage(result, param);\n            currentPage++;\n          } while (currentPage < remainingPages);\n        }\n        return result;\n      };\n      if (context.options.persister) {\n        context.fetchFn = () => {\n          return context.options.persister?.(\n            fetchFn,\n            {\n              client: context.client,\n              queryKey: context.queryKey,\n              meta: context.options.meta,\n              signal: context.signal\n            },\n            query\n          );\n        };\n      } else {\n        context.fetchFn = fetchFn;\n      }\n    }\n  };\n}\nfunction getNextPageParam(options, { pages, pageParams }) {\n  const lastIndex = pages.length - 1;\n  return pages.length > 0 ? options.getNextPageParam(\n    pages[lastIndex],\n    pages,\n    pageParams[lastIndex],\n    pageParams\n  ) : void 0;\n}\nfunction getPreviousPageParam(options, { pages, pageParams }) {\n  return pages.length > 0 ? options.getPreviousPageParam?.(pages[0], pages, pageParams[0], pageParams) : void 0;\n}\nfunction hasNextPage(options, data) {\n  if (!data) return false;\n  return getNextPageParam(options, data) != null;\n}\nfunction hasPreviousPage(options, data) {\n  if (!data || !options.getPreviousPageParam) return false;\n  return getPreviousPageParam(options, data) != null;\n}\nexport {\n  hasNextPage,\n  hasPreviousPage,\n  infiniteQueryBehavior\n};\n//# sourceMappingURL=infiniteQueryBehavior.js.map","// src/mutation.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Removable } from \"./removable.js\";\nimport { createRetryer } from \"./retryer.js\";\nvar Mutation = class extends Removable {\n  #client;\n  #observers;\n  #mutationCache;\n  #retryer;\n  constructor(config) {\n    super();\n    this.#client = config.client;\n    this.mutationId = config.mutationId;\n    this.#mutationCache = config.mutationCache;\n    this.#observers = [];\n    this.state = config.state || getDefaultState();\n    this.setOptions(config.options);\n    this.scheduleGc();\n  }\n  setOptions(options) {\n    this.options = options;\n    this.updateGcTime(this.options.gcTime);\n  }\n  get meta() {\n    return this.options.meta;\n  }\n  addObserver(observer) {\n    if (!this.#observers.includes(observer)) {\n      this.#observers.push(observer);\n      this.clearGcTimeout();\n      this.#mutationCache.notify({\n        type: \"observerAdded\",\n        mutation: this,\n        observer\n      });\n    }\n  }\n  removeObserver(observer) {\n    this.#observers = this.#observers.filter((x) => x !== observer);\n    this.scheduleGc();\n    this.#mutationCache.notify({\n      type: \"observerRemoved\",\n      mutation: this,\n      observer\n    });\n  }\n  optionalRemove() {\n    if (!this.#observers.length) {\n      if (this.state.status === \"pending\") {\n        this.scheduleGc();\n      } else {\n        this.#mutationCache.remove(this);\n      }\n    }\n  }\n  continue() {\n    return this.#retryer?.continue() ?? // continuing a mutation assumes that variables are set, mutation must have been dehydrated before\n    this.execute(this.state.variables);\n  }\n  async execute(variables) {\n    const onContinue = () => {\n      this.#dispatch({ type: \"continue\" });\n    };\n    const mutationFnContext = {\n      client: this.#client,\n      meta: this.options.meta,\n      mutationKey: this.options.mutationKey\n    };\n    this.#retryer = createRetryer({\n      fn: () => {\n        if (!this.options.mutationFn) {\n          return Promise.reject(new Error(\"No mutationFn found\"));\n        }\n        return this.options.mutationFn(variables, mutationFnContext);\n      },\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: \"failed\", failureCount, error });\n      },\n      onPause: () => {\n        this.#dispatch({ type: \"pause\" });\n      },\n      onContinue,\n      retry: this.options.retry ?? 0,\n      retryDelay: this.options.retryDelay,\n      networkMode: this.options.networkMode,\n      canRun: () => this.#mutationCache.canRun(this)\n    });\n    const restored = this.state.status === \"pending\";\n    const isPaused = !this.#retryer.canStart();\n    try {\n      if (restored) {\n        onContinue();\n      } else {\n        this.#dispatch({ type: \"pending\", variables, isPaused });\n        await this.#mutationCache.config.onMutate?.(\n          variables,\n          this,\n          mutationFnContext\n        );\n        const context = await this.options.onMutate?.(\n          variables,\n          mutationFnContext\n        );\n        if (context !== this.state.context) {\n          this.#dispatch({\n            type: \"pending\",\n            context,\n            variables,\n            isPaused\n          });\n        }\n      }\n      const data = await this.#retryer.start();\n      await this.#mutationCache.config.onSuccess?.(\n        data,\n        variables,\n        this.state.context,\n        this,\n        mutationFnContext\n      );\n      await this.options.onSuccess?.(\n        data,\n        variables,\n        this.state.context,\n        mutationFnContext\n      );\n      await this.#mutationCache.config.onSettled?.(\n        data,\n        null,\n        this.state.variables,\n        this.state.context,\n        this,\n        mutationFnContext\n      );\n      await this.options.onSettled?.(\n        data,\n        null,\n        variables,\n        this.state.context,\n        mutationFnContext\n      );\n      this.#dispatch({ type: \"success\", data });\n      return data;\n    } catch (error) {\n      try {\n        await this.#mutationCache.config.onError?.(\n          error,\n          variables,\n          this.state.context,\n          this,\n          mutationFnContext\n        );\n        await this.options.onError?.(\n          error,\n          variables,\n          this.state.context,\n          mutationFnContext\n        );\n        await this.#mutationCache.config.onSettled?.(\n          void 0,\n          error,\n          this.state.variables,\n          this.state.context,\n          this,\n          mutationFnContext\n        );\n        await this.options.onSettled?.(\n          void 0,\n          error,\n          variables,\n          this.state.context,\n          mutationFnContext\n        );\n        throw error;\n      } finally {\n        this.#dispatch({ type: \"error\", error });\n      }\n    } finally {\n      this.#mutationCache.runNext(this);\n    }\n  }\n  #dispatch(action) {\n    const reducer = (state) => {\n      switch (action.type) {\n        case \"failed\":\n          return {\n            ...state,\n            failureCount: action.failureCount,\n            failureReason: action.error\n          };\n        case \"pause\":\n          return {\n            ...state,\n            isPaused: true\n          };\n        case \"continue\":\n          return {\n            ...state,\n            isPaused: false\n          };\n        case \"pending\":\n          return {\n            ...state,\n            context: action.context,\n            data: void 0,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            isPaused: action.isPaused,\n            status: \"pending\",\n            variables: action.variables,\n            submittedAt: Date.now()\n          };\n        case \"success\":\n          return {\n            ...state,\n            data: action.data,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            status: \"success\",\n            isPaused: false\n          };\n        case \"error\":\n          return {\n            ...state,\n            data: void 0,\n            error: action.error,\n            failureCount: state.failureCount + 1,\n            failureReason: action.error,\n            isPaused: false,\n            status: \"error\"\n          };\n      }\n    };\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.#observers.forEach((observer) => {\n        observer.onMutationUpdate(action);\n      });\n      this.#mutationCache.notify({\n        mutation: this,\n        type: \"updated\",\n        action\n      });\n    });\n  }\n};\nfunction getDefaultState() {\n  return {\n    context: void 0,\n    data: void 0,\n    error: null,\n    failureCount: 0,\n    failureReason: null,\n    isPaused: false,\n    status: \"idle\",\n    variables: void 0,\n    submittedAt: 0\n  };\n}\nexport {\n  Mutation,\n  getDefaultState\n};\n//# sourceMappingURL=mutation.js.map","// src/mutationCache.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Mutation } from \"./mutation.js\";\nimport { matchMutation, noop } from \"./utils.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar MutationCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#mutations = /* @__PURE__ */ new Set();\n    this.#scopes = /* @__PURE__ */ new Map();\n    this.#mutationId = 0;\n  }\n  #mutations;\n  #scopes;\n  #mutationId;\n  build(client, options, state) {\n    const mutation = new Mutation({\n      client,\n      mutationCache: this,\n      mutationId: ++this.#mutationId,\n      options: client.defaultMutationOptions(options),\n      state\n    });\n    this.add(mutation);\n    return mutation;\n  }\n  add(mutation) {\n    this.#mutations.add(mutation);\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const scopedMutations = this.#scopes.get(scope);\n      if (scopedMutations) {\n        scopedMutations.push(mutation);\n      } else {\n        this.#scopes.set(scope, [mutation]);\n      }\n    }\n    this.notify({ type: \"added\", mutation });\n  }\n  remove(mutation) {\n    if (this.#mutations.delete(mutation)) {\n      const scope = scopeFor(mutation);\n      if (typeof scope === \"string\") {\n        const scopedMutations = this.#scopes.get(scope);\n        if (scopedMutations) {\n          if (scopedMutations.length > 1) {\n            const index = scopedMutations.indexOf(mutation);\n            if (index !== -1) {\n              scopedMutations.splice(index, 1);\n            }\n          } else if (scopedMutations[0] === mutation) {\n            this.#scopes.delete(scope);\n          }\n        }\n      }\n    }\n    this.notify({ type: \"removed\", mutation });\n  }\n  canRun(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const mutationsWithSameScope = this.#scopes.get(scope);\n      const firstPendingMutation = mutationsWithSameScope?.find(\n        (m) => m.state.status === \"pending\"\n      );\n      return !firstPendingMutation || firstPendingMutation === mutation;\n    } else {\n      return true;\n    }\n  }\n  runNext(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const foundMutation = this.#scopes.get(scope)?.find((m) => m !== mutation && m.state.isPaused);\n      return foundMutation?.continue() ?? Promise.resolve();\n    } else {\n      return Promise.resolve();\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.#mutations.forEach((mutation) => {\n        this.notify({ type: \"removed\", mutation });\n      });\n      this.#mutations.clear();\n      this.#scopes.clear();\n    });\n  }\n  getAll() {\n    return Array.from(this.#mutations);\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (mutation) => matchMutation(defaultedFilters, mutation)\n    );\n  }\n  findAll(filters = {}) {\n    return this.getAll().filter((mutation) => matchMutation(filters, mutation));\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  resumePausedMutations() {\n    const pausedMutations = this.getAll().filter((x) => x.state.isPaused);\n    return notifyManager.batch(\n      () => Promise.all(\n        pausedMutations.map((mutation) => mutation.continue().catch(noop))\n      )\n    );\n  }\n};\nfunction scopeFor(mutation) {\n  return mutation.options.scope?.id;\n}\nexport {\n  MutationCache\n};\n//# sourceMappingURL=mutationCache.js.map","// src/mutationObserver.ts\nimport { getDefaultState } from \"./mutation.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Subscribable } from \"./subscribable.js\";\nimport { hashKey, shallowEqualObjects } from \"./utils.js\";\nvar MutationObserver = class extends Subscribable {\n  #client;\n  #currentResult = void 0;\n  #currentMutation;\n  #mutateOptions;\n  constructor(client, options) {\n    super();\n    this.#client = client;\n    this.setOptions(options);\n    this.bindMethods();\n    this.#updateResult();\n  }\n  bindMethods() {\n    this.mutate = this.mutate.bind(this);\n    this.reset = this.reset.bind(this);\n  }\n  setOptions(options) {\n    const prevOptions = this.options;\n    this.options = this.#client.defaultMutationOptions(options);\n    if (!shallowEqualObjects(this.options, prevOptions)) {\n      this.#client.getMutationCache().notify({\n        type: \"observerOptionsUpdated\",\n        mutation: this.#currentMutation,\n        observer: this\n      });\n    }\n    if (prevOptions?.mutationKey && this.options.mutationKey && hashKey(prevOptions.mutationKey) !== hashKey(this.options.mutationKey)) {\n      this.reset();\n    } else if (this.#currentMutation?.state.status === \"pending\") {\n      this.#currentMutation.setOptions(this.options);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#currentMutation?.removeObserver(this);\n    }\n  }\n  onMutationUpdate(action) {\n    this.#updateResult();\n    this.#notify(action);\n  }\n  getCurrentResult() {\n    return this.#currentResult;\n  }\n  reset() {\n    this.#currentMutation?.removeObserver(this);\n    this.#currentMutation = void 0;\n    this.#updateResult();\n    this.#notify();\n  }\n  mutate(variables, options) {\n    this.#mutateOptions = options;\n    this.#currentMutation?.removeObserver(this);\n    this.#currentMutation = this.#client.getMutationCache().build(this.#client, this.options);\n    this.#currentMutation.addObserver(this);\n    return this.#currentMutation.execute(variables);\n  }\n  #updateResult() {\n    const state = this.#currentMutation?.state ?? getDefaultState();\n    this.#currentResult = {\n      ...state,\n      isPending: state.status === \"pending\",\n      isSuccess: state.status === \"success\",\n      isError: state.status === \"error\",\n      isIdle: state.status === \"idle\",\n      mutate: this.mutate,\n      reset: this.reset\n    };\n  }\n  #notify(action) {\n    notifyManager.batch(() => {\n      if (this.#mutateOptions && this.hasListeners()) {\n        const variables = this.#currentResult.variables;\n        const onMutateResult = this.#currentResult.context;\n        const context = {\n          client: this.#client,\n          meta: this.options.meta,\n          mutationKey: this.options.mutationKey\n        };\n        if (action?.type === \"success\") {\n          this.#mutateOptions.onSuccess?.(\n            action.data,\n            variables,\n            onMutateResult,\n            context\n          );\n          this.#mutateOptions.onSettled?.(\n            action.data,\n            null,\n            variables,\n            onMutateResult,\n            context\n          );\n        } else if (action?.type === \"error\") {\n          this.#mutateOptions.onError?.(\n            action.error,\n            variables,\n            onMutateResult,\n            context\n          );\n          this.#mutateOptions.onSettled?.(\n            void 0,\n            action.error,\n            variables,\n            onMutateResult,\n            context\n          );\n        }\n      }\n      this.listeners.forEach((listener) => {\n        listener(this.#currentResult);\n      });\n    });\n  }\n};\nexport {\n  MutationObserver\n};\n//# sourceMappingURL=mutationObserver.js.map","// src/queryCache.ts\nimport { hashQueryKeyByOptions, matchQuery } from \"./utils.js\";\nimport { Query } from \"./query.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar QueryCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#queries = /* @__PURE__ */ new Map();\n  }\n  #queries;\n  build(client, options, state) {\n    const queryKey = options.queryKey;\n    const queryHash = options.queryHash ?? hashQueryKeyByOptions(queryKey, options);\n    let query = this.get(queryHash);\n    if (!query) {\n      query = new Query({\n        client,\n        queryKey,\n        queryHash,\n        options: client.defaultQueryOptions(options),\n        state,\n        defaultOptions: client.getQueryDefaults(queryKey)\n      });\n      this.add(query);\n    }\n    return query;\n  }\n  add(query) {\n    if (!this.#queries.has(query.queryHash)) {\n      this.#queries.set(query.queryHash, query);\n      this.notify({\n        type: \"added\",\n        query\n      });\n    }\n  }\n  remove(query) {\n    const queryInMap = this.#queries.get(query.queryHash);\n    if (queryInMap) {\n      query.destroy();\n      if (queryInMap === query) {\n        this.#queries.delete(query.queryHash);\n      }\n      this.notify({ type: \"removed\", query });\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        this.remove(query);\n      });\n    });\n  }\n  get(queryHash) {\n    return this.#queries.get(queryHash);\n  }\n  getAll() {\n    return [...this.#queries.values()];\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (query) => matchQuery(defaultedFilters, query)\n    );\n  }\n  findAll(filters = {}) {\n    const queries = this.getAll();\n    return Object.keys(filters).length > 0 ? queries.filter((query) => matchQuery(filters, query)) : queries;\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  onFocus() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onFocus();\n      });\n    });\n  }\n  onOnline() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onOnline();\n      });\n    });\n  }\n};\nexport {\n  QueryCache\n};\n//# sourceMappingURL=queryCache.js.map","// src/queryClient.ts\nimport {\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  noop,\n  partialMatchKey,\n  resolveStaleTime,\n  skipToken\n} from \"./utils.js\";\nimport { QueryCache } from \"./queryCache.js\";\nimport { MutationCache } from \"./mutationCache.js\";\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { infiniteQueryBehavior } from \"./infiniteQueryBehavior.js\";\nvar QueryClient = class {\n  #queryCache;\n  #mutationCache;\n  #defaultOptions;\n  #queryDefaults;\n  #mutationDefaults;\n  #mountCount;\n  #unsubscribeFocus;\n  #unsubscribeOnline;\n  constructor(config = {}) {\n    this.#queryCache = config.queryCache || new QueryCache();\n    this.#mutationCache = config.mutationCache || new MutationCache();\n    this.#defaultOptions = config.defaultOptions || {};\n    this.#queryDefaults = /* @__PURE__ */ new Map();\n    this.#mutationDefaults = /* @__PURE__ */ new Map();\n    this.#mountCount = 0;\n  }\n  mount() {\n    this.#mountCount++;\n    if (this.#mountCount !== 1) return;\n    this.#unsubscribeFocus = focusManager.subscribe(async (focused) => {\n      if (focused) {\n        await this.resumePausedMutations();\n        this.#queryCache.onFocus();\n      }\n    });\n    this.#unsubscribeOnline = onlineManager.subscribe(async (online) => {\n      if (online) {\n        await this.resumePausedMutations();\n        this.#queryCache.onOnline();\n      }\n    });\n  }\n  unmount() {\n    this.#mountCount--;\n    if (this.#mountCount !== 0) return;\n    this.#unsubscribeFocus?.();\n    this.#unsubscribeFocus = void 0;\n    this.#unsubscribeOnline?.();\n    this.#unsubscribeOnline = void 0;\n  }\n  isFetching(filters) {\n    return this.#queryCache.findAll({ ...filters, fetchStatus: \"fetching\" }).length;\n  }\n  isMutating(filters) {\n    return this.#mutationCache.findAll({ ...filters, status: \"pending\" }).length;\n  }\n  /**\n   * Imperative (non-reactive) way to retrieve data for a QueryKey.\n   * Should only be used in callbacks or functions where reading the latest data is necessary, e.g. for optimistic updates.\n   *\n   * Hint: Do not use this function inside a component, because it won't receive updates.\n   * Use `useQuery` to create a `QueryObserver` that subscribes to changes.\n   */\n  getQueryData(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(options.queryHash)?.state.data;\n  }\n  ensureQueryData(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    const query = this.#queryCache.build(this, defaultedOptions);\n    const cachedData = query.state.data;\n    if (cachedData === void 0) {\n      return this.fetchQuery(options);\n    }\n    if (options.revalidateIfStale && query.isStaleByTime(resolveStaleTime(defaultedOptions.staleTime, query))) {\n      void this.prefetchQuery(defaultedOptions);\n    }\n    return Promise.resolve(cachedData);\n  }\n  getQueriesData(filters) {\n    return this.#queryCache.findAll(filters).map(({ queryKey, state }) => {\n      const data = state.data;\n      return [queryKey, data];\n    });\n  }\n  setQueryData(queryKey, updater, options) {\n    const defaultedOptions = this.defaultQueryOptions({ queryKey });\n    const query = this.#queryCache.get(\n      defaultedOptions.queryHash\n    );\n    const prevData = query?.state.data;\n    const data = functionalUpdate(updater, prevData);\n    if (data === void 0) {\n      return void 0;\n    }\n    return this.#queryCache.build(this, defaultedOptions).setData(data, { ...options, manual: true });\n  }\n  setQueriesData(filters, updater, options) {\n    return notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map(({ queryKey }) => [\n        queryKey,\n        this.setQueryData(queryKey, updater, options)\n      ])\n    );\n  }\n  getQueryState(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(\n      options.queryHash\n    )?.state;\n  }\n  removeQueries(filters) {\n    const queryCache = this.#queryCache;\n    notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        queryCache.remove(query);\n      });\n    });\n  }\n  resetQueries(filters, options) {\n    const queryCache = this.#queryCache;\n    return notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        query.reset();\n      });\n      return this.refetchQueries(\n        {\n          type: \"active\",\n          ...filters\n        },\n        options\n      );\n    });\n  }\n  cancelQueries(filters, cancelOptions = {}) {\n    const defaultedCancelOptions = { revert: true, ...cancelOptions };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map((query) => query.cancel(defaultedCancelOptions))\n    );\n    return Promise.all(promises).then(noop).catch(noop);\n  }\n  invalidateQueries(filters, options = {}) {\n    return notifyManager.batch(() => {\n      this.#queryCache.findAll(filters).forEach((query) => {\n        query.invalidate();\n      });\n      if (filters?.refetchType === \"none\") {\n        return Promise.resolve();\n      }\n      return this.refetchQueries(\n        {\n          ...filters,\n          type: filters?.refetchType ?? filters?.type ?? \"active\"\n        },\n        options\n      );\n    });\n  }\n  refetchQueries(filters, options = {}) {\n    const fetchOptions = {\n      ...options,\n      cancelRefetch: options.cancelRefetch ?? true\n    };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).filter((query) => !query.isDisabled() && !query.isStatic()).map((query) => {\n        let promise = query.fetch(void 0, fetchOptions);\n        if (!fetchOptions.throwOnError) {\n          promise = promise.catch(noop);\n        }\n        return query.state.fetchStatus === \"paused\" ? Promise.resolve() : promise;\n      })\n    );\n    return Promise.all(promises).then(noop);\n  }\n  fetchQuery(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    if (defaultedOptions.retry === void 0) {\n      defaultedOptions.retry = false;\n    }\n    const query = this.#queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(\n      resolveStaleTime(defaultedOptions.staleTime, query)\n    ) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  }\n  prefetchQuery(options) {\n    return this.fetchQuery(options).then(noop).catch(noop);\n  }\n  fetchInfiniteQuery(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.fetchQuery(options);\n  }\n  prefetchInfiniteQuery(options) {\n    return this.fetchInfiniteQuery(options).then(noop).catch(noop);\n  }\n  ensureInfiniteQueryData(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.ensureQueryData(options);\n  }\n  resumePausedMutations() {\n    if (onlineManager.isOnline()) {\n      return this.#mutationCache.resumePausedMutations();\n    }\n    return Promise.resolve();\n  }\n  getQueryCache() {\n    return this.#queryCache;\n  }\n  getMutationCache() {\n    return this.#mutationCache;\n  }\n  getDefaultOptions() {\n    return this.#defaultOptions;\n  }\n  setDefaultOptions(options) {\n    this.#defaultOptions = options;\n  }\n  setQueryDefaults(queryKey, options) {\n    this.#queryDefaults.set(hashKey(queryKey), {\n      queryKey,\n      defaultOptions: options\n    });\n  }\n  getQueryDefaults(queryKey) {\n    const defaults = [...this.#queryDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(queryKey, queryDefault.queryKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  setMutationDefaults(mutationKey, options) {\n    this.#mutationDefaults.set(hashKey(mutationKey), {\n      mutationKey,\n      defaultOptions: options\n    });\n  }\n  getMutationDefaults(mutationKey) {\n    const defaults = [...this.#mutationDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(mutationKey, queryDefault.mutationKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  defaultQueryOptions(options) {\n    if (options._defaulted) {\n      return options;\n    }\n    const defaultedOptions = {\n      ...this.#defaultOptions.queries,\n      ...this.getQueryDefaults(options.queryKey),\n      ...options,\n      _defaulted: true\n    };\n    if (!defaultedOptions.queryHash) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(\n        defaultedOptions.queryKey,\n        defaultedOptions\n      );\n    }\n    if (defaultedOptions.refetchOnReconnect === void 0) {\n      defaultedOptions.refetchOnReconnect = defaultedOptions.networkMode !== \"always\";\n    }\n    if (defaultedOptions.throwOnError === void 0) {\n      defaultedOptions.throwOnError = !!defaultedOptions.suspense;\n    }\n    if (!defaultedOptions.networkMode && defaultedOptions.persister) {\n      defaultedOptions.networkMode = \"offlineFirst\";\n    }\n    if (defaultedOptions.queryFn === skipToken) {\n      defaultedOptions.enabled = false;\n    }\n    return defaultedOptions;\n  }\n  defaultMutationOptions(options) {\n    if (options?._defaulted) {\n      return options;\n    }\n    return {\n      ...this.#defaultOptions.mutations,\n      ...options?.mutationKey && this.getMutationDefaults(options.mutationKey),\n      ...options,\n      _defaulted: true\n    };\n  }\n  clear() {\n    this.#queryCache.clear();\n    this.#mutationCache.clear();\n  }\n};\nexport {\n  QueryClient\n};\n//# sourceMappingURL=queryClient.js.map","\"use client\";\n\n// src/QueryClientProvider.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar QueryClientContext = React.createContext(\n  void 0\n);\nvar useQueryClient = (queryClient) => {\n  const client = React.useContext(QueryClientContext);\n  if (queryClient) {\n    return queryClient;\n  }\n  if (!client) {\n    throw new Error(\"No QueryClient set, use QueryClientProvider to set one\");\n  }\n  return client;\n};\nvar QueryClientProvider = ({\n  client,\n  children\n}) => {\n  React.useEffect(() => {\n    client.mount();\n    return () => {\n      client.unmount();\n    };\n  }, [client]);\n  return /* @__PURE__ */ jsx(QueryClientContext.Provider, { value: client, children });\n};\nexport {\n  QueryClientContext,\n  QueryClientProvider,\n  useQueryClient\n};\n//# sourceMappingURL=QueryClientProvider.js.map","\"use client\";\n\n// src/IsRestoringProvider.ts\nimport * as React from \"react\";\nvar IsRestoringContext = React.createContext(false);\nvar useIsRestoring = () => React.useContext(IsRestoringContext);\nvar IsRestoringProvider = IsRestoringContext.Provider;\nexport {\n  IsRestoringProvider,\n  useIsRestoring\n};\n//# sourceMappingURL=IsRestoringProvider.js.map","\"use client\";\n\n// src/QueryErrorResetBoundary.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction createValue() {\n  let isReset = false;\n  return {\n    clearReset: () => {\n      isReset = false;\n    },\n    reset: () => {\n      isReset = true;\n    },\n    isReset: () => {\n      return isReset;\n    }\n  };\n}\nvar QueryErrorResetBoundaryContext = React.createContext(createValue());\nvar useQueryErrorResetBoundary = () => React.useContext(QueryErrorResetBoundaryContext);\nvar QueryErrorResetBoundary = ({\n  children\n}) => {\n  const [value] = React.useState(() => createValue());\n  return /* @__PURE__ */ jsx(QueryErrorResetBoundaryContext.Provider, { value, children: typeof children === \"function\" ? children(value) : children });\n};\nexport {\n  QueryErrorResetBoundary,\n  useQueryErrorResetBoundary\n};\n//# sourceMappingURL=QueryErrorResetBoundary.js.map","\"use client\";\n\n// src/errorBoundaryUtils.ts\nimport * as React from \"react\";\nimport { shouldThrowError } from \"@tanstack/query-core\";\nvar ensurePreventErrorBoundaryRetry = (options, errorResetBoundary) => {\n  if (options.suspense || options.throwOnError || options.experimental_prefetchInRender) {\n    if (!errorResetBoundary.isReset()) {\n      options.retryOnMount = false;\n    }\n  }\n};\nvar useClearResetErrorBoundary = (errorResetBoundary) => {\n  React.useEffect(() => {\n    errorResetBoundary.clearReset();\n  }, [errorResetBoundary]);\n};\nvar getHasError = ({\n  result,\n  errorResetBoundary,\n  throwOnError,\n  query,\n  suspense\n}) => {\n  return result.isError && !errorResetBoundary.isReset() && !result.isFetching && query && (suspense && result.data === void 0 || shouldThrowError(throwOnError, [result.error, query]));\n};\nexport {\n  ensurePreventErrorBoundaryRetry,\n  getHasError,\n  useClearResetErrorBoundary\n};\n//# sourceMappingURL=errorBoundaryUtils.js.map","// src/suspense.ts\nvar defaultThrowOnError = (_error, query) => query.state.data === void 0;\nvar ensureSuspenseTimers = (defaultedOptions) => {\n  if (defaultedOptions.suspense) {\n    const MIN_SUSPENSE_TIME_MS = 1e3;\n    const clamp = (value) => value === \"static\" ? value : Math.max(value ?? MIN_SUSPENSE_TIME_MS, MIN_SUSPENSE_TIME_MS);\n    const originalStaleTime = defaultedOptions.staleTime;\n    defaultedOptions.staleTime = typeof originalStaleTime === \"function\" ? (...args) => clamp(originalStaleTime(...args)) : clamp(originalStaleTime);\n    if (typeof defaultedOptions.gcTime === \"number\") {\n      defaultedOptions.gcTime = Math.max(\n        defaultedOptions.gcTime,\n        MIN_SUSPENSE_TIME_MS\n      );\n    }\n  }\n};\nvar willFetch = (result, isRestoring) => result.isLoading && result.isFetching && !isRestoring;\nvar shouldSuspend = (defaultedOptions, result) => defaultedOptions?.suspense && result.isPending;\nvar fetchOptimistic = (defaultedOptions, observer, errorResetBoundary) => observer.fetchOptimistic(defaultedOptions).catch(() => {\n  errorResetBoundary.clearReset();\n});\nexport {\n  defaultThrowOnError,\n  ensureSuspenseTimers,\n  fetchOptimistic,\n  shouldSuspend,\n  willFetch\n};\n//# sourceMappingURL=suspense.js.map","\"use client\";\n\n// src/useBaseQuery.ts\nimport * as React from \"react\";\nimport { isServer, noop, notifyManager } from \"@tanstack/query-core\";\nimport { useQueryClient } from \"./QueryClientProvider.js\";\nimport { useQueryErrorResetBoundary } from \"./QueryErrorResetBoundary.js\";\nimport {\n  ensurePreventErrorBoundaryRetry,\n  getHasError,\n  useClearResetErrorBoundary\n} from \"./errorBoundaryUtils.js\";\nimport { useIsRestoring } from \"./IsRestoringProvider.js\";\nimport {\n  ensureSuspenseTimers,\n  fetchOptimistic,\n  shouldSuspend,\n  willFetch\n} from \"./suspense.js\";\nfunction useBaseQuery(options, Observer, queryClient) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (typeof options !== \"object\" || Array.isArray(options)) {\n      throw new Error(\n        'Bad argument type. Starting with v5, only the \"Object\" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object'\n      );\n    }\n  }\n  const isRestoring = useIsRestoring();\n  const errorResetBoundary = useQueryErrorResetBoundary();\n  const client = useQueryClient(queryClient);\n  const defaultedOptions = client.defaultQueryOptions(options);\n  client.getDefaultOptions().queries?._experimental_beforeQuery?.(\n    defaultedOptions\n  );\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!defaultedOptions.queryFn) {\n      console.error(\n        `[${defaultedOptions.queryHash}]: No queryFn was passed as an option, and no default queryFn was found. The queryFn parameter is only optional when using a default queryFn. More info here: https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function`\n      );\n    }\n  }\n  defaultedOptions._optimisticResults = isRestoring ? \"isRestoring\" : \"optimistic\";\n  ensureSuspenseTimers(defaultedOptions);\n  ensurePreventErrorBoundaryRetry(defaultedOptions, errorResetBoundary);\n  useClearResetErrorBoundary(errorResetBoundary);\n  const isNewCacheEntry = !client.getQueryCache().get(defaultedOptions.queryHash);\n  const [observer] = React.useState(\n    () => new Observer(\n      client,\n      defaultedOptions\n    )\n  );\n  const result = observer.getOptimisticResult(defaultedOptions);\n  const shouldSubscribe = !isRestoring && options.subscribed !== false;\n  React.useSyncExternalStore(\n    React.useCallback(\n      (onStoreChange) => {\n        const unsubscribe = shouldSubscribe ? observer.subscribe(notifyManager.batchCalls(onStoreChange)) : noop;\n        observer.updateResult();\n        return unsubscribe;\n      },\n      [observer, shouldSubscribe]\n    ),\n    () => observer.getCurrentResult(),\n    () => observer.getCurrentResult()\n  );\n  React.useEffect(() => {\n    observer.setOptions(defaultedOptions);\n  }, [defaultedOptions, observer]);\n  if (shouldSuspend(defaultedOptions, result)) {\n    throw fetchOptimistic(defaultedOptions, observer, errorResetBoundary);\n  }\n  if (getHasError({\n    result,\n    errorResetBoundary,\n    throwOnError: defaultedOptions.throwOnError,\n    query: client.getQueryCache().get(defaultedOptions.queryHash),\n    suspense: defaultedOptions.suspense\n  })) {\n    throw result.error;\n  }\n  ;\n  client.getDefaultOptions().queries?._experimental_afterQuery?.(\n    defaultedOptions,\n    result\n  );\n  if (defaultedOptions.experimental_prefetchInRender && !isServer && willFetch(result, isRestoring)) {\n    const promise = isNewCacheEntry ? (\n      // Fetch immediately on render in order to ensure `.promise` is resolved even if the component is unmounted\n      fetchOptimistic(defaultedOptions, observer, errorResetBoundary)\n    ) : (\n      // subscribe to the \"cache promise\" so that we can finalize the currentThenable once data comes in\n      client.getQueryCache().get(defaultedOptions.queryHash)?.promise\n    );\n    promise?.catch(noop).finally(() => {\n      observer.updateResult();\n    });\n  }\n  return !defaultedOptions.notifyOnChangeProps ? observer.trackResult(result) : result;\n}\nexport {\n  useBaseQuery\n};\n//# sourceMappingURL=useBaseQuery.js.map","\"use client\";\n\n// src/useQuery.ts\nimport { QueryObserver } from \"@tanstack/query-core\";\nimport { useBaseQuery } from \"./useBaseQuery.js\";\nfunction useQuery(options, queryClient) {\n  return useBaseQuery(options, QueryObserver, queryClient);\n}\nexport {\n  useQuery\n};\n//# sourceMappingURL=useQuery.js.map","\"use client\";\n\n// src/useMutation.ts\nimport * as React from \"react\";\nimport {\n  MutationObserver,\n  noop,\n  notifyManager,\n  shouldThrowError\n} from \"@tanstack/query-core\";\nimport { useQueryClient } from \"./QueryClientProvider.js\";\nfunction useMutation(options, queryClient) {\n  const client = useQueryClient(queryClient);\n  const [observer] = React.useState(\n    () => new MutationObserver(\n      client,\n      options\n    )\n  );\n  React.useEffect(() => {\n    observer.setOptions(options);\n  }, [observer, options]);\n  const result = React.useSyncExternalStore(\n    React.useCallback(\n      (onStoreChange) => observer.subscribe(notifyManager.batchCalls(onStoreChange)),\n      [observer]\n    ),\n    () => observer.getCurrentResult(),\n    () => observer.getCurrentResult()\n  );\n  const mutate = React.useCallback(\n    (variables, mutateOptions) => {\n      observer.mutate(variables, mutateOptions).catch(noop);\n    },\n    [observer]\n  );\n  if (result.error && shouldThrowError(observer.options.throwOnError, [result.error])) {\n    throw result.error;\n  }\n  return { ...result, mutate, mutateAsync: result.mutate };\n}\nexport {\n  useMutation\n};\n//# sourceMappingURL=useMutation.js.map","var RA_STORE = 'RaStore';\n// localStorage isn't available in incognito mode. We need to detect it\nvar testLocalStorage = function () {\n    // eslint-disable-next-line eqeqeq\n    if (typeof window === 'undefined' || window.localStorage == undefined) {\n        return false;\n    }\n    try {\n        window.localStorage.setItem('test', 'test');\n        window.localStorage.removeItem('test');\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n};\nvar localStorageAvailable = testLocalStorage();\n/**\n * Store using localStorage, or memory storage in incognito mode\n *\n * @example\n *\n * import { localStorageStore } from 'react-admin';\n *\n * const App = () => (\n *    <Admin store={localStorageStore()}>\n *       ...\n *   </Admin>\n * );\n */\nexport var localStorageStore = function (version, appKey) {\n    if (version === void 0) { version = '1'; }\n    if (appKey === void 0) { appKey = ''; }\n    var prefix = \"\".concat(RA_STORE).concat(appKey);\n    var prefixLength = prefix.length;\n    var subscriptions = {};\n    var publish = function (key, value) {\n        Object.keys(subscriptions).forEach(function (id) {\n            if (!subscriptions[id])\n                return; // may happen if a component unmounts after a first subscriber was notified\n            if (subscriptions[id].key === key) {\n                subscriptions[id].callback(value);\n            }\n        });\n    };\n    // Whenever the local storage changes in another document, look for matching subscribers.\n    // This allows to synchronize state across tabs\n    var onLocalStorageChange = function (event) {\n        var _a;\n        if (((_a = event.key) === null || _a === void 0 ? void 0 : _a.substring(0, prefixLength)) !== prefix) {\n            return;\n        }\n        var key = event.key.substring(prefixLength + 1);\n        var value = event.newValue ? tryParse(event.newValue) : undefined;\n        Object.keys(subscriptions).forEach(function (id) {\n            if (!subscriptions[id])\n                return; // may happen if a component unmounts after a first subscriber was notified\n            if (subscriptions[id].key === key) {\n                if (value === null) {\n                    // an event with a null value is sent when the key is deleted.\n                    // to enable default value, we need to call setValue(undefined) instead of setValue(null)\n                    subscriptions[id].callback(undefined);\n                }\n                else {\n                    subscriptions[id].callback(value == null ? undefined : value);\n                }\n            }\n        });\n    };\n    return {\n        setup: function () {\n            if (localStorageAvailable) {\n                var storedVersion = getStorage().getItem(\"\".concat(prefix, \".version\"));\n                if (storedVersion && storedVersion !== version) {\n                    var storage_1 = getStorage();\n                    Object.keys(storage_1).forEach(function (key) {\n                        if (key.startsWith(prefix)) {\n                            storage_1.removeItem(key);\n                        }\n                    });\n                }\n                getStorage().setItem(\"\".concat(prefix, \".version\"), version);\n                window.addEventListener('storage', onLocalStorageChange);\n            }\n        },\n        teardown: function () {\n            if (localStorageAvailable) {\n                window.removeEventListener('storage', onLocalStorageChange);\n            }\n        },\n        getItem: function (key, defaultValue) {\n            var valueFromStorage = getStorage().getItem(\"\".concat(prefix, \".\").concat(key));\n            return valueFromStorage == null\n                ? defaultValue\n                : tryParse(valueFromStorage);\n        },\n        setItem: function (key, value) {\n            if (value === undefined) {\n                getStorage().removeItem(\"\".concat(prefix, \".\").concat(key));\n            }\n            else {\n                getStorage().setItem(\"\".concat(prefix, \".\").concat(key), JSON.stringify(value));\n            }\n            publish(key, value);\n        },\n        removeItem: function (key) {\n            getStorage().removeItem(\"\".concat(prefix, \".\").concat(key));\n            publish(key, undefined);\n        },\n        removeItems: function (keyPrefix) {\n            var storage = getStorage();\n            Object.keys(storage).forEach(function (key) {\n                if (key.startsWith(\"\".concat(prefix, \".\").concat(keyPrefix))) {\n                    storage.removeItem(key);\n                    var publishKey = key.substring(prefixLength + 1);\n                    publish(publishKey, undefined);\n                }\n            });\n        },\n        reset: function () {\n            var storage = getStorage();\n            Object.keys(storage).forEach(function (key) {\n                if (key.startsWith(prefix)) {\n                    storage.removeItem(key);\n                    var publishKey = key.substring(prefixLength + 1);\n                    publish(publishKey, undefined);\n                }\n            });\n        },\n        subscribe: function (key, callback) {\n            var id = Math.random().toString();\n            subscriptions[id] = {\n                key: key,\n                callback: callback,\n            };\n            return function () {\n                delete subscriptions[id];\n            };\n        },\n    };\n};\nvar tryParse = function (value) {\n    try {\n        return JSON.parse(value);\n    }\n    catch (e) {\n        return value;\n    }\n};\nvar LocalStorageShim = /** @class */ (function () {\n    function LocalStorageShim() {\n        this.valuesMap = new Map();\n    }\n    LocalStorageShim.prototype.getItem = function (key) {\n        if (this.valuesMap.has(key)) {\n            return String(this.valuesMap.get(key));\n        }\n        return null;\n    };\n    LocalStorageShim.prototype.setItem = function (key, value) {\n        this.valuesMap.set(key, value);\n    };\n    LocalStorageShim.prototype.removeItem = function (key) {\n        this.valuesMap.delete(key);\n    };\n    LocalStorageShim.prototype.removeItems = function (keyPrefix) {\n        var _this = this;\n        this.valuesMap.forEach(function (value, key) {\n            if (key.startsWith(keyPrefix)) {\n                _this.valuesMap.delete(key);\n            }\n        });\n    };\n    LocalStorageShim.prototype.clear = function () {\n        this.valuesMap.clear();\n    };\n    LocalStorageShim.prototype.key = function (i) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.\"); // this is a TypeError implemented on Chrome, Firefox throws Not enough arguments to Storage.key.\n        }\n        var arr = Array.from(this.valuesMap.keys());\n        return arr[i];\n    };\n    Object.defineProperty(LocalStorageShim.prototype, \"length\", {\n        get: function () {\n            return this.valuesMap.size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return LocalStorageShim;\n}());\nvar memoryStorage = new LocalStorageShim();\nexport var getStorage = function () {\n    return localStorageAvailable ? window.localStorage : memoryStorage;\n};\n//# sourceMappingURL=localStorageStore.js.map","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n      return object;\n    }\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n","var baseSet = require('./_baseSet');\n\n/**\n * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n * it's created. Arrays are created for missing index properties while objects\n * are created for all other missing properties. Use `_.setWith` to customize\n * `path` creation.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.set(object, 'a[0].b.c', 4);\n * console.log(object.a[0].b.c);\n * // => 4\n *\n * _.set(object, ['x', '0', 'y', 'z'], 5);\n * console.log(object.x[0].y.z);\n * // => 5\n */\nfunction set(object, path, value) {\n  return object == null ? object : baseSet(object, path, value);\n}\n\nmodule.exports = set;\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","var baseGet = require('./_baseGet'),\n    baseSlice = require('./_baseSlice');\n\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\nfunction parent(object, path) {\n  return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n}\n\nmodule.exports = parent;\n","var castPath = require('./_castPath'),\n    last = require('./last'),\n    parent = require('./_parent'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.unset`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The property path to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n */\nfunction baseUnset(object, path) {\n  path = castPath(path, object);\n  object = parent(object, path);\n  return object == null || delete object[toKey(last(path))];\n}\n\nmodule.exports = baseUnset;\n","var baseUnset = require('./_baseUnset');\n\n/**\n * Removes the property at `path` of `object`.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n * _.unset(object, 'a[0].b.c');\n * // => true\n *\n * console.log(object);\n * // => { 'a': [{ 'b': {} }] };\n *\n * _.unset(object, ['a', '0', 'b', 'c']);\n * // => true\n *\n * console.log(object);\n * // => { 'a': [{ 'b': {} }] };\n */\nfunction unset(object, path) {\n  return object == null ? true : baseUnset(object, path);\n}\n\nmodule.exports = unset;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","import set from 'lodash/set.js';\nimport unset from 'lodash/unset.js';\nimport get from 'lodash/get.js';\n/**\n * Store using memory\n *\n * @example\n *\n * import { memoryStore } from 'react-admin';\n *\n * const App = () => (\n *    <Admin store={memoryStore()}>\n *       ...\n *   </Admin>\n * );\n */\nexport var memoryStore = function (storage) {\n    if (storage === void 0) { storage = {}; }\n    var subscriptions = {};\n    var publish = function (key, value) {\n        Object.keys(subscriptions).forEach(function (id) {\n            if (!subscriptions[id])\n                return; // may happen if a component unmounts after a first subscriber was notified\n            if (subscriptions[id].key === key) {\n                subscriptions[id].callback(value);\n            }\n        });\n    };\n    return {\n        setup: function () { },\n        teardown: function () {\n            Object.keys(storage).forEach(function (key) { return delete storage[key]; });\n        },\n        getItem: function (key, defaultValue) {\n            return get(storage, key, defaultValue);\n        },\n        setItem: function (key, value) {\n            set(storage, key, value);\n            publish(key, value);\n        },\n        removeItem: function (key) {\n            unset(storage, key);\n            publish(key, undefined);\n        },\n        removeItems: function (keyPrefix) {\n            var flatStorage = flatten(storage);\n            Object.keys(flatStorage).forEach(function (key) {\n                if (!key.startsWith(keyPrefix)) {\n                    return;\n                }\n                unset(storage, key);\n                publish(key, undefined);\n            });\n        },\n        reset: function () {\n            var flatStorage = flatten(storage);\n            Object.keys(flatStorage).forEach(function (key) {\n                unset(storage, key);\n                publish(key, undefined);\n            });\n        },\n        subscribe: function (key, callback) {\n            var id = Math.random().toString();\n            subscriptions[id] = {\n                key: key,\n                callback: callback,\n            };\n            return function () {\n                delete subscriptions[id];\n            };\n        },\n    };\n};\n// taken from https://stackoverflow.com/a/19101235/1333479\nvar flatten = function (data) {\n    var result = {};\n    function doFlatten(current, prop) {\n        if (Object(current) !== current) {\n            // scalar value\n            result[prop] = current;\n        }\n        else if (Array.isArray(current)) {\n            // array\n            result[prop] = current;\n        }\n        else {\n            // object\n            var isEmpty = true;\n            for (var p in current) {\n                isEmpty = false;\n                doFlatten(current[p], prop ? prop + '.' + p : p);\n            }\n            if (isEmpty && prop)\n                result[prop] = {};\n        }\n    }\n    doFlatten(data, '');\n    return result;\n};\n//# sourceMappingURL=memoryStore.js.map","import { createContext } from 'react';\nimport { memoryStore } from \"./memoryStore.js\";\nvar defaultStore = memoryStore();\nexport var StoreContext = createContext(defaultStore);\n//# sourceMappingURL=StoreContext.js.map","import * as React from 'react';\nimport { useEffect } from 'react';\nimport { StoreContext } from \"./StoreContext.js\";\nexport var StoreContextProvider = function (_a) {\n    var Store = _a.value, children = _a.children;\n    useEffect(function () {\n        Store.setup();\n        return function () {\n            Store.teardown();\n        };\n    }, [Store]);\n    return (React.createElement(StoreContext.Provider, { value: Store }, children));\n};\n//# sourceMappingURL=StoreContextProvider.js.map","import { useContext } from 'react';\nimport { StoreContext } from \"./StoreContext.js\";\n/**\n * Get the Store stored in the StoreContext\n */\nexport var useStoreContext = function () { return useContext(StoreContext); };\n//# sourceMappingURL=useStoreContext.js.map","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","/**\n * Replace tokens by their value in the given string\n *\n * @param {string} template The template with interpolation tokens, e.g. 'Hello, %{name}'\n * @param {object} data The data to interpolate, e.g. { name: 'John' }\n * @returns {string} The interpolated string, e.g. 'Hello, John'\n */\nexport var substituteTokens = function (template, data) {\n    return template && data\n        ? String.prototype.replace.call(template, defaultTokenRegex, function (expression, argument) {\n            if (!data.hasOwnProperty(argument) ||\n                data[argument] == null) {\n                return expression;\n            }\n            return data[argument];\n        })\n        : template;\n};\n// tokens are like 'Hello, %{name}'\nvar defaultTokenRegex = /%\\{(.*?)\\}/g;\n//# sourceMappingURL=substituteTokens.js.map","import { createContext } from 'react';\nimport { substituteTokens } from \"./substituteTokens.js\";\nvar defaultI18nProvider = {\n    translate: function (key, options) {\n        return (options === null || options === void 0 ? void 0 : options._)\n            ? substituteTokens(options._, options)\n            : substituteTokens(key, options);\n    },\n    changeLocale: function () { return Promise.resolve(); },\n    getLocale: function () { return 'en'; },\n};\nexport var I18nContext = createContext(defaultI18nProvider);\nI18nContext.displayName = 'I18nContext';\n//# sourceMappingURL=I18nContext.js.map","import { createContext } from 'react';\nexport var AddNotificationContext = createContext(function () { });\n//# sourceMappingURL=AddNotificationContext.js.map","import { createContext } from 'react';\nexport var CloseNotificationContext = createContext(null);\n//# sourceMappingURL=CloseNotificationContext.js.map","import { createContext } from 'react';\n/**\n * Context for the notification state and modifiers\n *\n * @example // display notifications\n * import { useNotificationContext } from 'react-admin';\n *\n * const App = () => {\n *    const { notifications } = useNotificationContext();\n *    return (\n *        <ul>\n *            {notifications.map(({ message }) => (\n *                <li key={index}>{ message }</li>\n *            ))}\n *        </ul>\n *    );\n * };\n *\n * @example // reset notifications\n * import { useNotificationContext } from 'react-admin';\n *\n * const ResetNotificationsButton = () => {\n *    const { resetNotifications } = useNotificationContext();\n *    return (\n *        <button onClick={() => resetNotifications()}>Reset notifications</button>\n *    );\n * };\n */\nexport var NotificationContext = createContext({\n    notifications: [],\n    addNotification: function () { },\n    takeNotification: function () { },\n    resetNotifications: function () { },\n    setNotifications: function () { },\n});\n//# sourceMappingURL=NotificationContext.js.map","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport * as React from 'react';\nimport { useState, useCallback, useMemo } from 'react';\nimport { NotificationContext } from \"./NotificationContext.js\";\nimport { AddNotificationContext } from \"./AddNotificationContext.js\";\nexport var NotificationContextProvider = function (_a) {\n    var children = _a.children;\n    var _b = useState([]), notifications = _b[0], setNotifications = _b[1];\n    var addNotification = useCallback(function (notification) {\n        setNotifications(function (notifications) { return __spreadArray(__spreadArray([], notifications, true), [notification], false); });\n    }, []);\n    var takeNotification = useCallback(function () {\n        if (notifications.length === 0)\n            return;\n        var notification = notifications[0], rest = notifications.slice(1);\n        setNotifications(rest);\n        return notification;\n    }, [notifications]);\n    var resetNotifications = useCallback(function () {\n        setNotifications([]);\n    }, []);\n    var contextValue = useMemo(function () { return ({\n        notifications: notifications,\n        addNotification: addNotification,\n        takeNotification: takeNotification,\n        resetNotifications: resetNotifications,\n        setNotifications: setNotifications,\n    }); }, [notifications] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    // we separate the addNotification context to avoid rerendering all components\n    // that depend on useNotify when a notification is dispatched\n    return (React.createElement(NotificationContext.Provider, { value: contextValue },\n        React.createElement(AddNotificationContext.Provider, { value: addNotification }, children)));\n};\n//# sourceMappingURL=NotificationContextProvider.js.map","import { useContext } from 'react';\nimport { AddNotificationContext } from \"./AddNotificationContext.js\";\nexport var useAddNotificationContext = function () {\n    return useContext(AddNotificationContext);\n};\n//# sourceMappingURL=useAddNotificationContext.js.map","import { useContext } from 'react';\nimport { NotificationContext } from \"./NotificationContext.js\";\nexport var useNotificationContext = function () { return useContext(NotificationContext); };\n//# sourceMappingURL=useNotificationContext.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useCallback } from 'react';\nimport { useAddNotificationContext } from \"./useAddNotificationContext.js\";\n/**\n * Hook for Notification Side Effect\n *\n * @example\n *\n * const notify = useNotify();\n * // simple message (info level)\n * notify('Level complete');\n * // specify level\n * notify('A problem occurred', { type: 'error' })\n * // pass arguments to the translation function\n * notify('Deleted %{count} elements', { type: 'info', messageArgs: { smart_count: 23 } })\n * // show the action as undoable in the notification\n * notify('Post renamed', { type: 'info', undoable: true })\n */\nexport var useNotify = function () {\n    var addNotification = useAddNotificationContext();\n    return useCallback(function (message, options) {\n        if (options === void 0) { options = {}; }\n        var _a = options.type, messageType = _a === void 0 ? 'info' : _a, notificationOptions = __rest(options, [\"type\"]);\n        addNotification({\n            message: message,\n            type: messageType,\n            notificationOptions: notificationOptions,\n        });\n    }, [addNotification]);\n};\n//# sourceMappingURL=useNotify.js.map","import * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport { I18nContext } from \"./I18nContext.js\";\nimport { useStore } from \"../store/useStore.js\";\nimport { useNotify } from \"../notification/index.js\";\n/**\n * Store the i18nProvider in a context, and rerender children when the locale changes\n */\nexport var I18nContextProvider = function (_a) {\n    var _b = _a.value, value = _b === void 0 ? defaulti18nContext : _b, children = _a.children;\n    var locale = useStore('locale')[0];\n    var notify = useNotify();\n    var _c = useState(0), key = _c[0], setKey = _c[1];\n    // to avoid blinking effect, delay first render if the user has a non-default locale\n    var _d = useState(locale === value.getLocale()), isInitialized = _d[0], setInitialized = _d[1];\n    // watch store for locale changes\n    useEffect(function () {\n        if (locale && value.getLocale() !== locale) {\n            new Promise(function (resolve) {\n                // so we systematically return a Promise for the messages\n                // i18nProvider may return a Promise for language changes,\n                resolve(value.changeLocale(locale));\n            })\n                .then(function () {\n                // Force full page re-render.\n                // This is slow on locale change, but it's a good way\n                // to avoid having one subscription to the locale\n                // for each call to translate()\n                setKey(function (key) { return key + 1; });\n                setInitialized(true);\n            })\n                .catch(function (error) {\n                setInitialized(true);\n                notify('ra.notification.i18n_error', { type: 'error' });\n                console.error(error);\n            });\n        }\n        else {\n            setInitialized(true);\n        }\n    }, [value, locale, notify]);\n    return isInitialized ? (React.createElement(I18nContext.Provider, { value: value, key: key }, children)) : null;\n};\nvar defaulti18nContext = {\n    translate: function (x) { return x; },\n    changeLocale: function () { return Promise.resolve(); },\n    getLocale: function () { return 'en'; },\n};\n//# sourceMappingURL=I18nContextProvider.js.map","import { useContext } from 'react';\nimport { I18nContext } from \"./I18nContext.js\";\n/**\n * Get the i18nProvider instance declared in the <Admin> component\n *\n * @example\n *\n * const CurrentLanguage = () => {\n *    const i18nProvider = useI18nProvider();\n *    const locale = i18nProvider.getLocale();\n *    return <span>{locale}</span>;\n * };\n */\nexport var useI18nProvider = function () { return useContext(I18nContext); };\n//# sourceMappingURL=useI18nProvider.js.map","import { useCallback } from 'react';\nimport { useI18nProvider } from \"./useI18nProvider.js\";\n/**\n * Translate a string using the current locale and the translations from the i18nProvider\n *\n * @see Polyglot.t()\n * @link https://airbnb.io/polyglot.js/#polyglotprototypetkey-interpolationoptions\n *\n * @return {Function} A translation function, accepting two arguments\n *   - a string used as key in the translations\n *   - an interpolationOptions object\n *\n * @example\n *\n * import { useTranslate } from 'react-admin';\n *\n * const SettingsMenu = () => {\n *     const translate = useTranslate();\n *     return <MenuItem>{translate('settings')}</MenuItem>;\n * }\n */\nexport var useTranslate = function () {\n    var i18nProvider = useI18nProvider();\n    var translate = useCallback(function (key, options) {\n        return i18nProvider.translate(key, options);\n    }, \n    // update the hook each time the locale changes\n    [i18nProvider]);\n    return i18nProvider ? translate : identity;\n};\nvar identity = function (key) { return key; };\n//# sourceMappingURL=useTranslate.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport { useTranslate } from \"./useTranslate.js\";\nexport var Translate = function (_a) {\n    var i18nKey = _a.i18nKey, options = _a.options, children = _a.children;\n    var translate = useTranslate();\n    var translatedMessage = translate(i18nKey, typeof children === 'string' ? __assign({ _: children }, options) : options);\n    if (translatedMessage) {\n        return React.createElement(React.Fragment, null, translatedMessage);\n    }\n    return children;\n};\n//# sourceMappingURL=Translate.js.map","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignMergeValue;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var root = require('./_root');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n","var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var baseCreate = require('./_baseCreate'),\n    getPrototype = require('./_getPrototype'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nmodule.exports = safeGet;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nmodule.exports = toPlainObject;\n","var assignMergeValue = require('./_assignMergeValue'),\n    cloneBuffer = require('./_cloneBuffer'),\n    cloneTypedArray = require('./_cloneTypedArray'),\n    copyArray = require('./_copyArray'),\n    initCloneObject = require('./_initCloneObject'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isPlainObject = require('./isPlainObject'),\n    isTypedArray = require('./isTypedArray'),\n    safeGet = require('./_safeGet'),\n    toPlainObject = require('./toPlainObject');\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nmodule.exports = baseMergeDeep;\n","var Stack = require('./_Stack'),\n    assignMergeValue = require('./_assignMergeValue'),\n    baseFor = require('./_baseFor'),\n    baseMergeDeep = require('./_baseMergeDeep'),\n    isObject = require('./isObject'),\n    keysIn = require('./keysIn'),\n    safeGet = require('./_safeGet');\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nmodule.exports = baseMerge;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","var baseMerge = require('./_baseMerge'),\n    createAssigner = require('./_createAssigner');\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nmodule.exports = merge;\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport merge from 'lodash/merge.js';\nimport { DEFAULT_LOCALE } from \"./index.js\";\n/**\n * Resolve the browser locale according to the value of the global window.navigator\n *\n * Use it to determine the <Admin> locale at runtime.\n *\n * @example\n *    import * as React from \"react\";\n *    import { Admin, Resource, resolveBrowserLocale } from 'react-admin';\n *    import polyglotI18nProvider from 'ra-i18n-polyglot';\n *    import englishMessages from 'ra-language-english';\n *    import frenchMessages from 'ra-language-french';\n *\n *    const messages = {\n *        fr: frenchMessages,\n *        en: englishMessages,\n *    };\n *    const i18nProvider = polyglotI18nProvider(\n *        locale => messages[locale] ? messages[locale] : messages.en,\n *        resolveBrowserLocale()\n *    );\n *\n *    const App = () => (\n *        <Admin i18nProvider={i18nProvider}>\n *            ...\n *        </Admin>\n *    );\n *\n * @param {string} defaultLocale Defaults to 'en'\n * @param options\n * @param {boolean} options.fullLocale Defaults to false\n */\nexport var resolveBrowserLocale = function (defaultLocale, options) {\n    // from http://blog.ksol.fr/user-locale-detection-browser-javascript/\n    // Rely on the window.navigator object to determine user locale\n    var _a = window.navigator, language = _a.language, browserLanguage = _a.browserLanguage, userLanguage = _a.userLanguage;\n    var locale = language ||\n        browserLanguage ||\n        userLanguage ||\n        defaultLocale ||\n        DEFAULT_LOCALE;\n    return (options === null || options === void 0 ? void 0 : options.fullLocale) ? locale : locale.split('-')[0];\n};\n/**\n * Compose translations from multiple packages for a single language (eg: 'english').\n *\n * Use it to merge translations from addons with the main react-admin translations.\n *\n * @example\n *     import * as React from \"react\";\n *     import { Admin, Resource, mergeTranslations } from 'react-admin';\n *     import polyglotI18nProvider from 'ra-i18n-polyglot';\n *     import englishMessages from 'ra-language-english';\n *     import englishTreeMessages from 'ra-tree-language-english';\n *\n *     const messages = {\n *        en: mergeTranslations(englishMessages, englishTreeMessages),\n *     };\n *     const i18nProvider = polyglotI18nProvider(\n *        locale => messages[locale] ? messages[locale] : messages.en\n *    );\n *\n *    const App = () => (\n *        <Admin i18nProvider={i18nProvider}>\n *            ...\n *        </Admin>\n *    );\n */\nexport var mergeTranslations = function () {\n    var translationsModules = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        translationsModules[_i] = arguments[_i];\n    }\n    return merge.apply(void 0, __spreadArray([{}], translationsModules, false));\n};\n//# sourceMappingURL=TranslationUtils.js.map","import { useMemo } from 'react';\nimport { useI18nProvider } from \"./useI18nProvider.js\";\nimport { useStore } from \"../store/useStore.js\";\n/**\n * Get the current locale and the ability to change it\n *\n * @example\n *\n * import { useLocaleState } from 'react-admin';\n *\n * const availableLanguages = {\n *     en: 'English',\n *     fr: 'Franais',\n * }\n * const LocaleSwitcher = () => {\n *     const [locale, setLocale] = useLocaleState();\n *     return (\n *         <div>\n *             <div>Language</div>\n *             <Button disabled={locale === 'fr'} onClick={() => setLocale('fr')}>\n *                 English\n *             </Button>\n *             <Button disabled={locale === 'en'} onClick={() => setLocale('en')}>\n *                 French\n *             </Button>\n *         </div>\n *     );\n * };\n */\nexport var useLocaleState = function () {\n    var i18nProvider = useI18nProvider();\n    var defaultLocale = useMemo(function () { return i18nProvider.getLocale(); }, [i18nProvider]);\n    return useStore('locale', defaultLocale);\n};\n//# sourceMappingURL=useLocaleState.js.map","import { useMemo } from 'react';\nimport { useI18nProvider } from \"./useI18nProvider.js\";\n/**\n * A hook that gets the available locales from the i18nProvider.\n * @example\n *\n * import { useLocales } from 'react-admin';\n *\n * const LocaleSelector = () => {\n *     const locales = useLocales();\n *     const [currentLocale, setCurrentLocale] = useLocaleState();\n *\n *     return (\n *         <select onChange={event => setCurrentLocale(event.target.value)}>\n *             {locales.map(locale => (\n *                 <option key={locale.locale} value={locale.locale}>\n *                     {locale.name}\n *                 </option>\n *             )}\n *         </select>\n *     );\n * }\n */\nexport var useLocales = function (options) {\n    var _a;\n    var i18nProvider = useI18nProvider();\n    var locales = useMemo(function () { return ((i18nProvider === null || i18nProvider === void 0 ? void 0 : i18nProvider.getLocales) ? i18nProvider === null || i18nProvider === void 0 ? void 0 : i18nProvider.getLocales() : []); }, [i18nProvider]);\n    return (_a = options === null || options === void 0 ? void 0 : options.locales) !== null && _a !== void 0 ? _a : locales;\n};\n//# sourceMappingURL=useLocales.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useTranslate } from \"./useTranslate.js\";\nexport var useResourceTranslation = function (params) {\n    var resourceI18nKey = params.resourceI18nKey, baseI18nKey = params.baseI18nKey, userText = params.userText, options = params.options;\n    var translate = useTranslate();\n    if (userText !== undefined) {\n        if (typeof userText !== 'string') {\n            return userText;\n        }\n        return translate(userText, __assign({ _: userText }, options));\n    }\n    if (!resourceI18nKey) {\n        return translate(baseI18nKey, options);\n    }\n    return translate(resourceI18nKey, __assign(__assign({}, options), { _: translate(baseI18nKey, options) }));\n};\n//# sourceMappingURL=useResourceTranslation.js.map","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","var copyObject = require('./_copyObject'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nmodule.exports = baseAssignIn;\n","var copyObject = require('./_copyObject'),\n    getSymbols = require('./_getSymbols');\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nmodule.exports = copySymbols;\n","var arrayPush = require('./_arrayPush'),\n    getPrototype = require('./_getPrototype'),\n    getSymbols = require('./_getSymbols'),\n    stubArray = require('./stubArray');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nmodule.exports = getSymbolsIn;\n","var copyObject = require('./_copyObject'),\n    getSymbolsIn = require('./_getSymbolsIn');\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nmodule.exports = copySymbolsIn;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbolsIn = require('./_getSymbolsIn'),\n    keysIn = require('./keysIn');\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nmodule.exports = getAllKeysIn;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nmodule.exports = initCloneArray;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nmodule.exports = cloneDataView;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nmodule.exports = cloneRegExp;\n","var Symbol = require('./_Symbol');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nmodule.exports = cloneSymbol;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer'),\n    cloneDataView = require('./_cloneDataView'),\n    cloneRegExp = require('./_cloneRegExp'),\n    cloneSymbol = require('./_cloneSymbol'),\n    cloneTypedArray = require('./_cloneTypedArray');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nmodule.exports = initCloneByTag;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nmodule.exports = baseIsMap;\n","var baseIsMap = require('./_baseIsMap'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nmodule.exports = isMap;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nmodule.exports = baseIsSet;\n","var baseIsSet = require('./_baseIsSet'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nmodule.exports = isSet;\n","var Stack = require('./_Stack'),\n    arrayEach = require('./_arrayEach'),\n    assignValue = require('./_assignValue'),\n    baseAssign = require('./_baseAssign'),\n    baseAssignIn = require('./_baseAssignIn'),\n    cloneBuffer = require('./_cloneBuffer'),\n    copyArray = require('./_copyArray'),\n    copySymbols = require('./_copySymbols'),\n    copySymbolsIn = require('./_copySymbolsIn'),\n    getAllKeys = require('./_getAllKeys'),\n    getAllKeysIn = require('./_getAllKeysIn'),\n    getTag = require('./_getTag'),\n    initCloneArray = require('./_initCloneArray'),\n    initCloneByTag = require('./_initCloneByTag'),\n    initCloneObject = require('./_initCloneObject'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isMap = require('./isMap'),\n    isObject = require('./isObject'),\n    isSet = require('./isSet'),\n    keys = require('./keys'),\n    keysIn = require('./keysIn');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nmodule.exports = baseClone;\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = cloneDeep;\n","import { createContext } from 'react';\nexport var BasenameContext = createContext('');\n//# sourceMappingURL=BasenameContext.js.map","import * as React from 'react';\nimport { BasenameContext } from \"./BasenameContext.js\";\n/**\n * Set the string to append to all links to the admin app.\n *\n * Useful when the app is mounted on a sub path, e.g. '/admin'.\n * Used internally by the `<Admin>` component.\n *\n * @see useBasename\n */\nexport var BasenameContextProvider = function (_a) {\n    var children = _a.children, basename = _a.basename;\n    return (React.createElement(BasenameContext.Provider, { value: basename }, children));\n};\n//# sourceMappingURL=BasenameContextProvider.js.map","import * as React from 'react';\nimport { useInRouterContext, createHashRouter, RouterProvider, } from 'react-router-dom';\nimport { BasenameContextProvider } from \"./BasenameContextProvider.js\";\n/**\n * Creates a react-router Router unless the app is already inside existing router.\n * Also creates a BasenameContext with the basename prop\n */\nexport var AdminRouter = function (_a) {\n    var _b = _a.basename, basename = _b === void 0 ? '' : _b, children = _a.children;\n    var isInRouter = useInRouterContext();\n    var Router = isInRouter ? DummyRouter : InternalRouter;\n    return (React.createElement(BasenameContextProvider, { basename: isInRouter ? basename : '' },\n        React.createElement(Router, { basename: basename }, children)));\n};\nvar DummyRouter = function (_a) {\n    var children = _a.children;\n    return React.createElement(React.Fragment, null, children);\n};\nvar routerProviderFuture = { v7_startTransition: false, v7_relativeSplatPath: false };\nvar InternalRouter = function (_a) {\n    var children = _a.children, basename = _a.basename;\n    var router = createHashRouter([{ path: '*', element: React.createElement(React.Fragment, null, children) }], {\n        basename: basename,\n        future: {\n            v7_fetcherPersist: false,\n            v7_normalizeFormMethod: false,\n            v7_partialHydration: false,\n            v7_relativeSplatPath: false,\n            v7_skipActionErrorRevalidation: false,\n        },\n    });\n    return React.createElement(RouterProvider, { router: router, future: routerProviderFuture });\n};\n//# sourceMappingURL=AdminRouter.js.map","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","import { useEffect } from 'react';\nimport { useLocation } from 'react-router';\nimport debounce from 'lodash/debounce.js';\nimport { useStore } from \"../store/index.js\";\n/**\n * A hook that tracks the scroll position and restores it when the component mounts.\n * @param storeKey The key under which to store the scroll position in the store\n * @param debounceMs The debounce time in milliseconds\n *\n * @example\n * import { useRestoreScrollPosition } from 'ra-core';\n *\n * const MyCustomPage = () => {\n *   useRestoreScrollPosition('my-list');\n *\n *   return (\n *     <div>\n *       <h1>My Custom Page</h1>\n *       <VeryLongContent />\n *     </div>\n *   );\n * };\n */\nexport var useRestoreScrollPosition = function (storeKey, debounceMs) {\n    if (debounceMs === void 0) { debounceMs = 250; }\n    var _a = useTrackScrollPosition(storeKey, debounceMs), position = _a[0], setPosition = _a[1];\n    var location = useLocation();\n    useEffect(function () {\n        var _a;\n        if (position != null && ((_a = location.state) === null || _a === void 0 ? void 0 : _a._scrollToTop) !== true) {\n            setPosition(undefined);\n            window.scrollTo(0, position);\n        }\n        // We only want to run this effect on mount\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n};\n/**\n * A hook that tracks the scroll position and stores it.\n * @param storeKey The key under which to store the scroll position in the store\n * @param debounceMs The debounce time in milliseconds\n *\n * @example\n * import { useTrackScrollPosition } from 'ra-core';\n *\n * const MyCustomPage = () => {\n *   useTrackScrollPosition('my-list');\n *\n *   return (\n *     <div>\n *       <h1>My Custom Page</h1>\n *       <VeryLongContent />\n *     </div>\n *   );\n * };\n */\nexport var useTrackScrollPosition = function (storeKey, debounceMs) {\n    if (debounceMs === void 0) { debounceMs = 250; }\n    var _a = useStore(storeKey), position = _a[0], setPosition = _a[1];\n    useEffect(function () {\n        if (typeof window === 'undefined') {\n            return;\n        }\n        var handleScroll = debounce(function () {\n            setPosition(window.scrollY);\n        }, debounceMs);\n        window.addEventListener('scroll', handleScroll);\n        return function () {\n            window.removeEventListener('scroll', handleScroll);\n        };\n    }, [debounceMs, setPosition]);\n    return [position, setPosition];\n};\n//# sourceMappingURL=useRestoreScrollPosition.js.map","import { useRestoreScrollPosition } from \"./useRestoreScrollPosition.js\";\n/**\n * A component that tracks the scroll position and restores it when the component mounts.\n * @param children The content to render\n * @param key The key under which to store the scroll position in the store\n * @param debounceMs The debounce time in milliseconds\n *\n * @example\n * import { RestoreScrollPosition } from 'ra-core';\n *\n * const MyCustomPage = () => {\n *   <RestoreScrollPosition key=\"my-list\">\n *     <div>\n *       <h1>My Custom Page</h1>\n *       <VeryLongContent />\n *     </div>\n *   </RestoreScrollPosition>\n * };\n */\nexport var RestoreScrollPosition = function (_a) {\n    var children = _a.children, storeKey = _a.storeKey, _b = _a.debounce, debounce = _b === void 0 ? 250 : _b;\n    useRestoreScrollPosition(storeKey, debounce);\n    return children;\n};\n//# sourceMappingURL=RestoreScrollPosition.js.map","import { useContext } from 'react';\nimport { BasenameContext } from \"./BasenameContext.js\";\n/**\n * Get the string to append to all links to the admin app.\n *\n * Useful when the app is mounted on a sub path, e.g. '/admin'.\n *\n * This hook is used internally by all react-admin components that\n * contain a link, and requires that the basename is set via the\n * `<BasenameContextProvider>` component (or via the `<Admin>` component,\n * which calls BasenameContextProvider internally).\n *\n * @see BasenameContextProvider\n *\n * @example\n * import { useBasename } from 'react-admin';\n *\n * const ArticleLink = ({ title, id }) => {\n *    const basename = useBasename();\n *    return <a href={`${basename}/articles/${id}`}>{title}</a>;\n * };\n */\nexport var useBasename = function () { return useContext(BasenameContext); };\n//# sourceMappingURL=useBasename.js.map","import { useCallback } from 'react';\nimport { useBasename } from \"./useBasename.js\";\n/**\n * Get a callback to create a link to a given page in the admin app.\n *\n * The callback expects an object as parameter, containing the following properties:\n *   - type: 'list', 'edit', 'show' or 'create'\n *   - resource\n *   - id (optional), for 'edit' or 'show' pages\n *\n * This is used internally by react-admin to allow default components to work\n * in applications that are mounted on a sub path, e.g. '/admin'. If your app\n * is mounted in the root path, you don't need it, and you can create links by\n * hand, e.g. '/articles/1/show'.\n *\n * @example\n * import { useCreatePath, useRecordContext } from 'react-admin';\n * import { useNavigate } from 'react-router-dom';\n *\n * const PostEditButton = () => {\n *     const createPath = useCreatePath();\n *     const record = useRecordContext();\n *     const navigate = useNavigate();\n *\n *     const handleClick = () => {\n *         const link = createPath({\n *            type: 'edit',\n *            resource: 'posts',\n *            id: record.id\n *         });\n *         navigate(link);\n *     };\n *\n *    return <button onClick={handleClick}>Edit Post</button>;\n * };\n */\nexport var useCreatePath = function () {\n    var basename = useBasename();\n    return useCallback(function (_a) {\n        var resource = _a.resource, id = _a.id, type = _a.type;\n        if (['list', 'create', 'edit', 'show'].includes(type) &&\n            !resource) {\n            throw new Error('Cannot create a link without a resource. You must provide the resource name.');\n        }\n        switch (type) {\n            case 'list':\n                return removeDoubleSlashes(\"\".concat(basename, \"/\").concat(resource));\n            case 'create':\n                return removeDoubleSlashes(\"\".concat(basename, \"/\").concat(resource, \"/create\"));\n            case 'edit': {\n                if (id == null) {\n                    // maybe the id isn't defined yet\n                    // instead of throwing an error, fallback to list link\n                    return removeDoubleSlashes(\"\".concat(basename, \"/\").concat(resource));\n                }\n                return removeDoubleSlashes(\"\".concat(basename, \"/\").concat(resource, \"/\").concat(encodeURIComponent(id)));\n            }\n            case 'show': {\n                if (id == null) {\n                    // maybe the id isn't defined yet\n                    // instead of throwing an error, fallback to list link\n                    return removeDoubleSlashes(\"\".concat(basename, \"/\").concat(resource));\n                }\n                return removeDoubleSlashes(\"\".concat(basename, \"/\").concat(resource, \"/\").concat(encodeURIComponent(id), \"/show\"));\n            }\n            default:\n                return type;\n        }\n    }, [basename]);\n};\nexport var removeDoubleSlashes = function (path) { return path.replace('//', '/'); };\n//# sourceMappingURL=useCreatePath.js.map","import { createContext } from 'react';\n/**\n * Context to store the current resource name.\n *\n * Use the useResource() hook to read the context. That's what most components do in react-admin.\n *\n * @example\n *\n * import { useResourceContext, useTranslate } from 'ra-core';\n *\n * const MyCustomEditTitle = props => {\n *     const name = useResourceContext(props);\n *\n *     return (\n *         <h1>{translate(`${name}.name`)}</h1>\n *     );\n * };\n */\nexport var ResourceContext = createContext(undefined);\n//# sourceMappingURL=ResourceContext.js.map","import { useContext } from 'react';\nimport { ResourceContext } from \"./ResourceContext.js\";\n/**\n * Hook to read the resource from the ResourceContext.\n *\n * Must be used within a <ResourceContextProvider> (e.g. as a descendent of <Resource>\n * or any reference related components), or called with a resource prop.\n *\n * @example\n *\n * const ResourceName = (props) => {\n *   const resource = useResourceContext(props);\n *   const getResourceLabel = useGetResourceLabel();\n *   return <>{getResourceLabel(resource, 1)}</>;\n * }\n *\n * // use it in a resource context\n * const MyComponent = () => (\n *   <ResourceContextProvider value=\"posts\">\n *     <ResourceName />\n *     ...\n *   </ResourceContextProvider>\n * );\n *\n * // override resource via props\n * const MyComponent = () => (\n *   <>\n *     <ResourceName resource=\"posts\"/>\n *     ...\n *   </>\n * );\n *\n * @returns {ResourceContextValue} The resource name, e.g. 'posts'\n */\nexport var useResourceContext = function (props) {\n    var context = useContext(ResourceContext);\n    return (props && props.resource) || context;\n};\n//# sourceMappingURL=useResourceContext.js.map","import * as React from 'react';\nimport { createContext } from 'react';\n/**\n * Context to store a record.\n *\n * @see RecordContextProvider\n * @see useRecordContext\n */\nexport var RecordContext = createContext(undefined);\nRecordContext.displayName = 'RecordContext';\n/**\n * Provider for the Record Context, to store a record.\n *\n * Use the useRecordContext() hook to read the context.\n * That's what the Edit and Show components do in react-admin.\n *\n * Many react-admin components read the RecordContext, including all Field\n * components.\n *\n * @example\n *\n * import { useGetOne, RecordContextProvider } from 'ra-core';\n *\n * const Show = ({ resource, id }) => {\n *     const { data } = useGetOne(resource, { id });\n *     return (\n *         <RecordContextProvider value={data}>\n *             ...\n *         </RecordContextProvider>\n *     );\n * };\n */\nexport var RecordContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(RecordContext.Provider, { value: value }, children));\n};\n//# sourceMappingURL=RecordContext.js.map","import { useContext } from 'react';\nimport { RecordContext } from \"./RecordContext.js\";\n/**\n * Hook to read the record from a RecordContext.\n *\n * Must be used within a <RecordContext> such as provided by the <EditContextProvider>\n * (e.g. as a descendent of <Edit> or <EditBase>) or within a <ShowContextProvider>\n * (e.g. as a descendent of <Show> or <ShowBase>)\n *\n * @example // basic usage\n *\n * import { useRecordContext } from 'ra-core';\n *\n * const TitleField = () => {\n *     const record = useRecordContext();\n *     return <span>{record && record.title}</span>;\n * };\n *\n * @example // allow record override via props\n *\n * import { useRecordContext } from 'ra-core';\n *\n * const TitleField = (props) => {\n *     const record = useRecordContext(props);\n *     return <span>{record && record.title}</span>;\n * };\n * render(<TextField record={record} />);\n *\n * @returns {RaRecord} A record object\n */\nexport var useRecordContext = function (props) {\n    // Can't find a way to specify the RecordType when CreateContext is declared\n    // @ts-ignore\n    var context = useContext(RecordContext);\n    return (props && props.record) || context;\n};\n//# sourceMappingURL=useRecordContext.js.map","import { useState, useEffect } from 'react';\nimport { useResourceContext } from \"../core/useResourceContext.js\";\nimport { useRecordContext } from \"../controller/record/useRecordContext.js\";\nimport { useCanAccess } from \"../auth/index.js\";\nimport { useResourceDefinition } from \"../core/index.js\";\nimport { useCreatePath } from \"./useCreatePath.js\";\n/**\n * Get a path for a record, based on the current resource and the link type.\n *\n * Accepted link types are 'edit', 'show', a route string, false, or a function returning one of these types.\n *\n * @example\n * // basic usage (leverages RecordContext, ResourceContext and ResourceDefinitionContext)\n * const EditLink = () => {\n *   const path = useGetPathForRecord();\n *   return path ? <Link to={path}>Edit</Link> : null;\n * };\n *\n * // controlled mode\n * const EditLink = ({ record, resource }) => {\n *    const path = useGetPathForRecord({ record, resource, link: 'edit' });\n *    return path ? <Link to={path}>Edit</Link> : null;\n * };\n *\n * // the link option can be a function\n * const EditLink = ({ record, resource }) => {\n *   const path = useGetPathForRecord({ record, resource, link: (record, resource) => record.canEdit ? 'edit' : false });\n *   return path ? <Link to={path}>Edit</Link> : null;\n * };\n *\n * // the link option can be a function returning a promise\n * const EditLink = ({ record, resource }) => {\n *   const path = useGetPathForRecord({ record, resource, link: async (record, resource) => {\n *     const canEdit = await canEditRecord(record, resource);\n *     return canEdit ? 'edit' : false;\n *   }});\n *   return path ? <Link to={path}>Edit</Link> : null;\n * };\n */\nexport var useGetPathForRecord = function (options) {\n    if (options === void 0) { options = {}; }\n    var link = (options || {}).link;\n    var record = useRecordContext(options);\n    var resource = useResourceContext(options);\n    if (!resource) {\n        throw new Error('Cannot generate a link for a record without a resource. You must use useGetPathForRecord within a ResourceContextProvider, or pass a resource prop.');\n    }\n    var resourceDefinition = useResourceDefinition(options);\n    var createPath = useCreatePath();\n    var _a = useState(link && typeof link !== 'function' && record != null\n        ? createPath({\n            resource: resource,\n            id: record.id,\n            type: link,\n        })\n        : false), path = _a[0], setPath = _a[1];\n    // in preparation for the default value, does the user have access to the show and edit pages?\n    // (we can't run hooks conditionally, so we need to run them even though the link is specified)\n    var canAccessShow = useCanAccess({\n        action: 'show',\n        resource: resource,\n        record: record,\n        enabled: link == null && resourceDefinition.hasShow,\n    }).canAccess;\n    var canAccessEdit = useCanAccess({\n        action: 'edit',\n        resource: resource,\n        record: record,\n        enabled: link == null && resourceDefinition.hasEdit,\n    }).canAccess;\n    useEffect(function () {\n        if (!record)\n            return;\n        if (link === false) {\n            setPath(false);\n            return;\n        }\n        // Handle the inferred link type case\n        if (link == null) {\n            // We must check whether the resource has an edit view because if there is no\n            // authProvider, canAccessShow will always be true\n            if (resourceDefinition.hasShow && canAccessShow) {\n                setPath(createPath({\n                    resource: resource,\n                    id: record.id,\n                    type: 'show',\n                }));\n                return;\n            }\n            // We must check whether the resource has an edit view because if there is no\n            // authProvider, canAccessEdit will always be true\n            if (resourceDefinition.hasEdit && canAccessEdit) {\n                setPath(createPath({\n                    resource: resource,\n                    id: record.id,\n                    type: 'edit',\n                }));\n                return;\n            }\n        }\n        // Handle the link function case\n        if (typeof link === 'function') {\n            var linkResult = link(record, resource);\n            if (linkResult instanceof Promise) {\n                linkResult.then(function (resolvedPath) { return setPath(resolvedPath); });\n                return;\n            }\n            setPath(linkResult\n                ? createPath({\n                    resource: resource,\n                    id: record.id,\n                    type: linkResult,\n                })\n                : false);\n            return;\n        }\n        // handle string case\n        if (link) {\n            setPath(createPath({\n                resource: resource,\n                id: record.id,\n                type: link,\n            }));\n        }\n    }, [\n        createPath,\n        canAccessShow,\n        canAccessEdit,\n        link,\n        record,\n        resource,\n        resourceDefinition.hasEdit,\n        resourceDefinition.hasShow,\n    ]);\n    return path;\n};\n//# sourceMappingURL=useGetPathForRecord.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { createContext, useCallback, useState, useMemo } from 'react';\nimport isEqual from 'lodash/isEqual.js';\nexport var ResourceDefinitionContext = createContext({\n    definitions: {},\n    register: function () { },\n    unregister: function () { },\n});\n/**\n * Context to store the current resource Definition.\n *\n * Use the useResourceDefinition() hook to read the context.\n *\n * @example\n *\n * import { useResourceDefinition, useTranslate } from 'ra-core';\n *\n * const PostMenuItem = () => {\n *     const { name, icon } = useResourceDefinition({ resource: 'posts' });\n *\n *     return (\n *          <MenuItem>\n *              <ListItemIcon>{icon}</ListItemIcon>\n *              {name}\n *          </MenuItem>\n *     );\n * };\n */\nexport var ResourceDefinitionContextProvider = function (_a) {\n    var _b = _a.definitions, defaultDefinitions = _b === void 0 ? {} : _b, children = _a.children;\n    var _c = useState(defaultDefinitions), definitions = _c[0], setState = _c[1];\n    var register = useCallback(function (config) {\n        setState(function (prev) {\n            var _a;\n            return isEqual(prev[config.name], config)\n                ? prev\n                : __assign(__assign({}, prev), (_a = {}, _a[config.name] = config, _a));\n        });\n    }, []);\n    var unregister = useCallback(function (config) {\n        setState(function (prev) {\n            var _a = prev, _b = config.name, _ = _a[_b], rest = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\n            return rest;\n        });\n    }, []);\n    var contextValue = useMemo(function () { return ({ definitions: definitions, register: register, unregister: unregister }); }, [definitions] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    return (React.createElement(ResourceDefinitionContext.Provider, { value: contextValue }, children));\n};\n//# sourceMappingURL=ResourceDefinitionContext.js.map","import { useContext } from 'react';\nimport { ResourceDefinitionContext } from \"./ResourceDefinitionContext.js\";\nexport var useResourceDefinitionContext = function () {\n    return useContext(ResourceDefinitionContext);\n};\n//# sourceMappingURL=useResourceDefinitionContext.js.map","import { useResourceDefinitionContext } from \"./useResourceDefinitionContext.js\";\n/**\n * Get the definition of the all resources\n *\n * @example\n *\n * const definitions = useResourceDefinitions();\n * console.log(definitions.posts);\n * // {\n * //   name: 'posts',\n * //   hasList: true,\n * //   hasEdit: true,\n * //   hasShow: true,\n * //   hasCreate: true,\n * //   options: {},\n * //   icon: PostIcon,\n * //   recordRepresentation: 'title',\n * // }\n */\nexport var useResourceDefinitions = function () {\n    return useResourceDefinitionContext().definitions;\n};\n//# sourceMappingURL=useResourceDefinitions.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { useMutation, } from '@tanstack/react-query';\nimport useAuthProvider from \"./useAuthProvider.js\";\n/**\n * A hook that returns a function you can call to determine whether user has access to the given resource\n *\n * @example\n *     import { Datagrid, List, TextField, useCanAccessCallback } from 'react-admin';\n *\n *     const UserList = () => {\n *         const checkAccess = useCanAccessCallback();\n *\n *         const handleRowClick = (id: Identifier, resource: string, record: Record) => {\n *             try {\n *                 const canAccess = checkAccess({ resource: 'users', action: 'edit', record });\n *                 return canAccess ? \"edit\" : \"show\";\n *             } catch (error) {\n *                 console.error(error);\n *             }\n *         };\n *\n *         return (\n *             <List>\n *                 <Datagrid onClick={handleRowClick}>\n *                     <TextField source=\"id\" />\n *                     <TextField source=\"name\" />\n *                     <TextField source=\"email\" />\n *                 </Datagrid>\n *             </List>\n *         );\n *     };\n */\nexport var useCanAccessCallback = function (options) {\n    if (options === void 0) { options = {}; }\n    var authProvider = useAuthProvider();\n    var mutateAsync = useMutation(__assign({ mutationFn: function (params) { return __awaiter(void 0, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (!authProvider || !authProvider.canAccess) {\n                    return [2 /*return*/, true];\n                }\n                return [2 /*return*/, authProvider.canAccess(params)];\n            });\n        }); }, retry: false }, options)).mutateAsync;\n    return mutateAsync;\n};\n//# sourceMappingURL=useCanAccessCallback.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { useCallback } from 'react';\nimport { useResourceContext } from \"../core/useResourceContext.js\";\nimport { useResourceDefinitions } from \"../core/useResourceDefinitions.js\";\nimport { useCanAccessCallback } from \"../auth/useCanAccessCallback.js\";\nimport { useCreatePath } from \"./useCreatePath.js\";\nexport var useGetPathForRecordCallback = function (options) {\n    if (options === void 0) { options = {}; }\n    var resource = useResourceContext(options);\n    var resourceDefinitions = useResourceDefinitions();\n    var createPath = useCreatePath();\n    var canAccess = useCanAccessCallback();\n    return useCallback(function (params) { return __awaiter(void 0, void 0, void 0, function () {\n        var _a, link, record, finalResource, resourceDefinition, _b, canAccessShow, canAccessEdit, linkFunc, linkResult, linkResultIsPromise, resolvedLink;\n        var _c, _d;\n        return __generator(this, function (_e) {\n            switch (_e.label) {\n                case 0:\n                    _a = params || {}, link = _a.link, record = _a.record;\n                    finalResource = (_c = params.resource) !== null && _c !== void 0 ? _c : resource;\n                    if (!finalResource) {\n                        throw new Error('Cannot generate a link for a record without a resource. You must use useGetPathForRecordCallback within a ResourceContextProvider, or pass a resource parameter.');\n                    }\n                    resourceDefinition = (_d = resourceDefinitions[finalResource]) !== null && _d !== void 0 ? _d : {};\n                    if (record == null || link === false) {\n                        return [2 /*return*/, false];\n                    }\n                    if (!(link == null)) return [3 /*break*/, 2];\n                    return [4 /*yield*/, Promise.all([\n                            resourceDefinition.hasShow\n                                ? canAccess({\n                                    action: 'show',\n                                    resource: finalResource,\n                                    record: record,\n                                })\n                                : Promise.resolve(false),\n                            resourceDefinition.hasEdit\n                                ? canAccess({\n                                    action: 'edit',\n                                    resource: finalResource,\n                                    record: record,\n                                })\n                                : Promise.resolve(false),\n                        ])];\n                case 1:\n                    _b = _e.sent(), canAccessShow = _b[0], canAccessEdit = _b[1];\n                    if (canAccessShow) {\n                        return [2 /*return*/, createPath({\n                                resource: finalResource,\n                                id: record.id,\n                                type: 'show',\n                            })];\n                    }\n                    if (canAccessEdit) {\n                        return [2 /*return*/, createPath({\n                                resource: finalResource,\n                                id: record.id,\n                                type: 'edit',\n                            })];\n                    }\n                    return [2 /*return*/, false];\n                case 2:\n                    linkFunc = typeof link === 'function' ? link : function () { return link; };\n                    linkResult = linkFunc(record, finalResource);\n                    if (linkResult === false) {\n                        return [2 /*return*/, false];\n                    }\n                    linkResultIsPromise = isPromise(linkResult);\n                    if (!linkResultIsPromise) return [3 /*break*/, 4];\n                    return [4 /*yield*/, linkResult];\n                case 3:\n                    resolvedLink = _e.sent();\n                    if (resolvedLink === false) {\n                        // already set to false by default\n                        return [2 /*return*/];\n                    }\n                    return [2 /*return*/, createPath({\n                            resource: finalResource,\n                            id: record.id,\n                            type: resolvedLink,\n                        })];\n                case 4: return [2 /*return*/, createPath({\n                        resource: finalResource,\n                        id: record.id,\n                        type: linkResult,\n                    })];\n            }\n        });\n    }); }, [canAccess, createPath, resourceDefinitions, resource]);\n};\nvar isPromise = function (value) {\n    return value && typeof value.then === 'function';\n};\n//# sourceMappingURL=useGetPathForRecordCallback.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useBasename } from \"./useBasename.js\";\nimport { useCreatePath } from \"./useCreatePath.js\";\n/**\n * Hook for Redirection Side Effect\n *\n * @example\n *\n * const redirect = useRedirect();\n * // redirect to list view\n * redirect('list', 'posts');\n * // redirect to edit view\n * redirect('edit', 'posts', 123);\n * // redirect to edit view with state data\n * redirect('edit', 'comments', 123, {}, { record: { post_id: record.id } });\n * // do not redirect\n * redirect(false);\n * // redirect to the result of a function\n * redirect((resource, id, data) => ...)\n * // redirect to an absolute URL\n * redirect('https://marmelab.com/react-admin');\n */\nexport var useRedirect = function () {\n    var navigate = useNavigate();\n    var basename = useBasename();\n    var createPath = useCreatePath();\n    return useCallback(function (redirectTo, resource, id, data, state) {\n        var _a;\n        if (resource === void 0) { resource = ''; }\n        if (state === void 0) { state = {}; }\n        if (!redirectTo) {\n            return;\n        }\n        else if (typeof redirectTo === 'function') {\n            var target = redirectTo(resource, id, data);\n            var absoluteTarget = typeof target === 'string'\n                ? \"\".concat(basename).concat(target.startsWith('/') ? '' : '/').concat(target)\n                : __assign({ pathname: \"\".concat(basename).concat(((_a = target.pathname) === null || _a === void 0 ? void 0 : _a.startsWith('/')) ? '' : '/').concat(target.pathname) }, target);\n            navigate(absoluteTarget, {\n                state: __assign({ _scrollToTop: true }, state),\n            });\n            return;\n        }\n        else if (typeof redirectTo === 'string' &&\n            redirectTo.startsWith('http') &&\n            window) {\n            // redirection to an absolute url\n            // history doesn't handle that case, so we handle it by hand\n            window.location.href = redirectTo;\n            return;\n        }\n        else {\n            // redirection to an internal link\n            navigate(createPath({ resource: resource, id: id, type: redirectTo }), {\n                state: \n                // We force the scrollToTop except when navigating to a list\n                // where this is already done by <RestoreScrollPosition> in <Resource>\n                redirectTo === 'list'\n                    ? state\n                    : __assign({ _scrollToTop: true }, state),\n            });\n            return;\n        }\n    }, [navigate, basename, createPath]);\n};\n//# sourceMappingURL=useRedirect.js.map","import { useEffect, useRef } from 'react';\nimport { useLocation } from 'react-router';\n/**\n * A hook to use inside the component passed to FallbackComponent\n * of react-error-boundary. It resets the error boundary state whenever\n * the location changes\n * @param {Function} resetErrorBoundary\n */\nexport var useResetErrorBoundaryOnLocationChange = function (resetErrorBoundary) {\n    var pathname = useLocation().pathname;\n    var originalPathname = useRef(pathname);\n    useEffect(function () {\n        if (pathname !== originalPathname.current) {\n            resetErrorBoundary();\n        }\n    }, [pathname, resetErrorBoundary]);\n};\n//# sourceMappingURL=useResetErrorBoundaryOnLocationChange.js.map","import { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n/**\n * Scroll the window to top when the target location contains the _scrollToTop state\n *\n * @see CoreAdminRouter where it's enabled by default\n *\n * @example // usage in buttons\n * import { Link } from 'react-router-dom';\n * import { Button } from '@mui/material';\n *\n * const FooButton = () => (\n *     <Button\n *         component={Link}\n *         to={{\n *             pathname: '/foo',\n *             state: { _scrollToTop: true },\n *         }}\n *     >\n *         Go to foo\n *     </Button>\n * );\n */\nexport var useScrollToTop = function () {\n    var location = useLocation();\n    useEffect(function () {\n        var _a;\n        if (((_a = location.state) === null || _a === void 0 ? void 0 : _a._scrollToTop) &&\n            typeof window != 'undefined' &&\n            typeof window.scrollTo === 'function') {\n            window.scrollTo(0, 0);\n        }\n    }, [location]);\n};\n//# sourceMappingURL=useScrollToTop.js.map","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nexport var GET_LIST = 'GET_LIST';\nexport var GET_ONE = 'GET_ONE';\nexport var GET_MANY = 'GET_MANY';\nexport var GET_MANY_REFERENCE = 'GET_MANY_REFERENCE';\nexport var CREATE = 'CREATE';\nexport var UPDATE = 'UPDATE';\nexport var UPDATE_MANY = 'UPDATE_MANY';\nexport var DELETE = 'DELETE';\nexport var DELETE_MANY = 'DELETE_MANY';\nexport var fetchActionsWithRecordResponse = ['getOne', 'create', 'update'];\nexport var fetchActionsWithArrayOfIdentifiedRecordsResponse = [\n    'getList',\n    'getMany',\n    'getManyReference',\n];\nexport var fetchActionsWithArrayOfRecordsResponse = __spreadArray(__spreadArray([], fetchActionsWithArrayOfIdentifiedRecordsResponse, true), [\n    'updateMany',\n    'deleteMany',\n], false);\nexport var fetchActionsWithTotalResponse = ['getList', 'getManyReference'];\nexport var reactAdminFetchActions = __spreadArray(__spreadArray([], fetchActionsWithRecordResponse, true), fetchActionsWithArrayOfRecordsResponse, true);\nexport var sanitizeFetchType = function (fetchType) {\n    switch (fetchType) {\n        case GET_LIST:\n            return 'getList';\n        case GET_ONE:\n            return 'getOne';\n        case GET_MANY:\n            return 'getMany';\n        case GET_MANY_REFERENCE:\n            return 'getManyReference';\n        case CREATE:\n            return 'create';\n        case UPDATE:\n            return 'update';\n        case UPDATE_MANY:\n            return 'updateMany';\n        case DELETE:\n            return 'delete';\n        case DELETE_MANY:\n            return 'deleteMany';\n        default:\n            return fetchType;\n    }\n};\n//# sourceMappingURL=dataFetchActions.js.map","// avoids adding a context in tests\nexport var defaultDataProvider = {\n    create: function () { return Promise.resolve({ data: null }); },\n    delete: function () { return Promise.resolve({ data: null }); },\n    deleteMany: function () { return Promise.resolve({ data: [] }); },\n    getList: function () { return Promise.resolve({ data: [], total: 0 }); },\n    getMany: function () { return Promise.resolve({ data: [] }); },\n    getManyReference: function () { return Promise.resolve({ data: [], total: 0 }); },\n    getOne: function () { return Promise.resolve({ data: null }); },\n    update: function () { return Promise.resolve({ data: null }); },\n    updateMany: function () { return Promise.resolve({ data: [] }); },\n};\n//# sourceMappingURL=defaultDataProvider.js.map","import { CREATE, DELETE, DELETE_MANY, GET_LIST, GET_MANY, GET_MANY_REFERENCE, GET_ONE, UPDATE, UPDATE_MANY, } from \"./dataFetchActions.js\";\nimport { defaultDataProvider } from \"./defaultDataProvider.js\";\nvar fetchMap = {\n    create: CREATE,\n    delete: DELETE,\n    deleteMany: DELETE_MANY,\n    getList: GET_LIST,\n    getMany: GET_MANY,\n    getManyReference: GET_MANY_REFERENCE,\n    getOne: GET_ONE,\n    update: UPDATE,\n    updateMany: UPDATE_MANY,\n};\n/**\n * Turn a function-based dataProvider to an object-based one\n *\n * Allows using legacy dataProviders transparently.\n *\n * @param {Function} legacyDataProvider A legacy dataProvider (type, resource, params) => Promise<any>\n *\n * @returns {Object} A dataProvider that react-admin can use\n */\nvar convertLegacyDataProvider = function (legacyDataProvider) {\n    var proxy = new Proxy(defaultDataProvider, {\n        get: function (_, name) {\n            return function (resource, params) {\n                if (Object.keys(fetchMap).includes(name.toString())) {\n                    var fetchType = fetchMap[name.toString()];\n                    return legacyDataProvider(fetchType, resource, params);\n                }\n                return legacyDataProvider(name.toString(), resource, params);\n            };\n        },\n        apply: function (_, __, args) {\n            return legacyDataProvider.apply(legacyDataProvider, args);\n        },\n    });\n    return proxy;\n};\nexport default convertLegacyDataProvider;\n//# sourceMappingURL=convertLegacyDataProvider.js.map","import { createContext } from 'react';\nvar DataProviderContext = createContext(null);\nDataProviderContext.displayName = 'DataProviderContext';\nexport default DataProviderContext;\n//# sourceMappingURL=DataProviderContext.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar HttpError = /** @class */ (function (_super) {\n    __extends(HttpError, _super);\n    function HttpError(message, status, body) {\n        if (body === void 0) { body = null; }\n        var _this = _super.call(this, message) || this;\n        _this.status = status;\n        _this.body = body;\n        Object.setPrototypeOf(_this, HttpError.prototype);\n        _this.name = _this.constructor.name;\n        if (typeof Error.captureStackTrace === 'function') {\n            Error.captureStackTrace(_this, _this.constructor);\n        }\n        else {\n            _this.stack = new Error(message).stack;\n        }\n        _this.stack = new Error().stack;\n        return _this;\n    }\n    return HttpError;\n}(Error));\nexport default HttpError;\n//# sourceMappingURL=HttpError.js.map","'use strict';\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp('(' + token + ')|([^%]+?)', 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn [decodeURIComponent(components.join(''))];\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher) || [];\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher) || [];\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","'use strict';\n\nmodule.exports = (string, separator) => {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (separator === '') {\n\t\treturn [string];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [string];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n};\n","'use strict';\nmodule.exports = function (obj, predicate) {\n\tvar ret = {};\n\tvar keys = Object.keys(obj);\n\tvar isArr = Array.isArray(predicate);\n\n\tfor (var i = 0; i < keys.length; i++) {\n\t\tvar key = keys[i];\n\t\tvar val = obj[key];\n\n\t\tif (isArr ? predicate.indexOf(key) !== -1 : predicate(key, val, obj)) {\n\t\t\tret[key] = val;\n\t\t}\n\t}\n\n\treturn ret;\n};\n","'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\nconst splitOnFirst = require('split-on-first');\nconst filterObject = require('filter-obj');\n\nconst isNullOrUndefined = value => value === null || value === undefined;\n\nconst encodeFragmentIdentifier = Symbol('encodeFragmentIdentifier');\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[', index, ']'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')\n\t\t\t\t];\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[]'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '[]=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'colon-list-separator':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), ':list='].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), ':list=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\tcase 'bracket-separator': {\n\t\t\tconst keyValueSep = options.arrayFormat === 'bracket-separator' ?\n\t\t\t\t'[]=' :\n\t\t\t\t'=';\n\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\t// Translate null to an empty string so that it doesn't serialize as 'null'\n\t\t\t\tvalue = value === null ? '' : value;\n\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\treturn [[encode(key, options), keyValueSep, encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(options.arrayFormatSeparator)];\n\t\t\t};\n\t\t}\n\n\t\tdefault:\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, encode(key, options)];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'colon-list-separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(:list)$/.exec(key);\n\t\t\t\tkey = key.replace(/:list$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.includes(options.arrayFormatSeparator);\n\t\t\t\tconst isEncodedArray = (typeof value === 'string' && !isArray && decode(value, options).includes(options.arrayFormatSeparator));\n\t\t\t\tvalue = isEncodedArray ? decode(value, options) : value;\n\t\t\t\tconst newValue = isArray || isEncodedArray ? value.split(options.arrayFormatSeparator).map(item => decode(item, options)) : value === null ? value : decode(value, options);\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\n\t\tcase 'bracket-separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = /(\\[\\])$/.test(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!isArray) {\n\t\t\t\t\taccumulator[key] = value ? decode(value, options) : value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst arrayValue = value === null ?\n\t\t\t\t\t[] :\n\t\t\t\t\tvalue.split(options.arrayFormatSeparator).map(item => decode(item, options));\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = arrayValue;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], arrayValue);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction validateArrayFormatSeparator(value) {\n\tif (typeof value !== 'string' || value.length !== 1) {\n\t\tthrow new TypeError('arrayFormatSeparator must be single character string');\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction getHash(url) {\n\tlet hash = '';\n\tconst hashStart = url.indexOf('#');\n\tif (hashStart !== -1) {\n\t\thash = url.slice(hashStart);\n\t}\n\n\treturn hash;\n}\n\nfunction extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parseValue(value, options) {\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\tvalue = Number(value);\n\t} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\tvalue = value.toLowerCase() === 'true';\n\t}\n\n\treturn value;\n}\n\nfunction parse(query, options) {\n\toptions = Object.assign({\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof query !== 'string') {\n\t\treturn ret;\n\t}\n\n\tquery = query.trim().replace(/^[?#&]/, '');\n\n\tif (!query) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of query.split('&')) {\n\t\tif (param === '') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet [key, value] = splitOnFirst(options.decode ? param.replace(/\\+/g, ' ') : param, '=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : ['comma', 'separator', 'bracket-separator'].includes(options.arrayFormat) ? value : decode(value, options);\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\tfor (const key of Object.keys(ret)) {\n\t\tconst value = ret[key];\n\t\tif (typeof value === 'object' && value !== null) {\n\t\t\tfor (const k of Object.keys(value)) {\n\t\t\t\tvalue[k] = parseValue(value[k], options);\n\t\t\t}\n\t\t} else {\n\t\t\tret[key] = parseValue(value, options);\n\t\t}\n\t}\n\n\tif (options.sort === false) {\n\t\treturn ret;\n\t}\n\n\treturn (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (object, options) => {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ','\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst shouldFilter = key => (\n\t\t(options.skipNull && isNullOrUndefined(object[key])) ||\n\t\t(options.skipEmptyString && object[key] === '')\n\t);\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\tconst objectCopy = {};\n\n\tfor (const key of Object.keys(object)) {\n\t\tif (!shouldFilter(key)) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\t}\n\n\tconst keys = Object.keys(objectCopy);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\tif (value.length === 0 && options.arrayFormat === 'bracket-separator') {\n\t\t\t\treturn encode(key, options) + '[]';\n\t\t\t}\n\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (url, options) => {\n\toptions = Object.assign({\n\t\tdecode: true\n\t}, options);\n\n\tconst [url_, hash] = splitOnFirst(url, '#');\n\n\treturn Object.assign(\n\t\t{\n\t\t\turl: url_.split('?')[0] || '',\n\t\t\tquery: parse(extract(url), options)\n\t\t},\n\t\toptions && options.parseFragmentIdentifier && hash ? {fragmentIdentifier: decode(hash, options)} : {}\n\t);\n};\n\nexports.stringifyUrl = (object, options) => {\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\t[encodeFragmentIdentifier]: true\n\t}, options);\n\n\tconst url = removeHash(object.url).split('?')[0] || '';\n\tconst queryFromUrl = exports.extract(object.url);\n\tconst parsedQueryFromUrl = exports.parse(queryFromUrl, {sort: false});\n\n\tconst query = Object.assign(parsedQueryFromUrl, object.query);\n\tlet queryString = exports.stringify(query, options);\n\tif (queryString) {\n\t\tqueryString = `?${queryString}`;\n\t}\n\n\tlet hash = getHash(object.url);\n\tif (object.fragmentIdentifier) {\n\t\thash = `#${options[encodeFragmentIdentifier] ? encode(object.fragmentIdentifier, options) : object.fragmentIdentifier}`;\n\t}\n\n\treturn `${url}${queryString}${hash}`;\n};\n\nexports.pick = (input, filter, options) => {\n\toptions = Object.assign({\n\t\tparseFragmentIdentifier: true,\n\t\t[encodeFragmentIdentifier]: false\n\t}, options);\n\n\tconst {url, query, fragmentIdentifier} = exports.parseUrl(input, options);\n\treturn exports.stringifyUrl({\n\t\turl,\n\t\tquery: filterObject(query, filter),\n\t\tfragmentIdentifier\n\t}, options);\n};\n\nexports.exclude = (input, filter, options) => {\n\tconst exclusionFilter = Array.isArray(filter) ? key => !filter.includes(key) : (key, value) => !filter(key, value);\n\n\treturn exports.pick(input, exclusionFilter, options);\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport HttpError from \"./HttpError.js\";\nimport { stringify } from 'query-string';\nexport var createHeadersFromOptions = function (options) {\n    var requestHeaders = (options.headers ||\n        new Headers({\n            Accept: 'application/json',\n        }));\n    var hasBody = options && options.body;\n    var isContentTypeSet = requestHeaders.has('Content-Type');\n    var isGetMethod = !(options === null || options === void 0 ? void 0 : options.method) || (options === null || options === void 0 ? void 0 : options.method) === 'GET';\n    var isFormData = (options === null || options === void 0 ? void 0 : options.body) instanceof FormData;\n    var shouldSetContentType = hasBody && !isContentTypeSet && !isGetMethod && !isFormData;\n    if (shouldSetContentType) {\n        requestHeaders.set('Content-Type', 'application/json');\n    }\n    if (options.user && options.user.authenticated && options.user.token) {\n        requestHeaders.set('Authorization', options.user.token);\n    }\n    return requestHeaders;\n};\n/**\n * Utility function to make HTTP calls. It's similar to the HTML5 `fetch()`, except it handles JSON decoding and HTTP error codes automatically.\n *\n * @param url the URL to call\n * @param options the options to pass to the HTTP call\n * @param options.user the user object, used for the Authorization header\n * @param options.user.token the token to pass as the Authorization header\n * @param options.user.authenticated whether the user is authenticated or not (the Authorization header will be set only if this is true)\n * @param options.headers the headers to pass to the HTTP call\n *\n * @returns {Promise} the Promise for a response object containing the following properties:\n * - status: the HTTP status code\n * - headers: the HTTP headers\n * - body: the response body\n * - json: the response body parsed as JSON\n */\nexport var fetchJson = function (url, options) {\n    if (options === void 0) { options = {}; }\n    var requestHeaders = createHeadersFromOptions(options);\n    return fetch(url, __assign(__assign({}, options), { headers: requestHeaders }))\n        .then(function (response) {\n        return response.text().then(function (text) { return ({\n            status: response.status,\n            statusText: response.statusText,\n            headers: response.headers,\n            body: text,\n        }); });\n    })\n        .then(function (_a) {\n        var status = _a.status, statusText = _a.statusText, headers = _a.headers, body = _a.body;\n        var json;\n        try {\n            json = JSON.parse(body);\n        }\n        catch (e) {\n            // not json, no big deal\n        }\n        if (status < 200 || status >= 300) {\n            return Promise.reject(new HttpError((json && json.message) || statusText, status, json));\n        }\n        return Promise.resolve({ status: status, headers: headers, body: body, json: json });\n    });\n};\nexport var queryParameters = stringify;\nvar isValidObject = function (value) {\n    if (!value) {\n        return false;\n    }\n    var isArray = Array.isArray(value);\n    var isBuffer = typeof Buffer !== 'undefined' && Buffer.isBuffer(value);\n    var isObject = Object.prototype.toString.call(value) === '[object Object]';\n    var hasKeys = !!Object.keys(value).length;\n    return !isArray && !isBuffer && isObject && hasKeys;\n};\nexport var flattenObject = function (value, path) {\n    var _a;\n    if (path === void 0) { path = []; }\n    if (isValidObject(value)) {\n        return Object.assign.apply(Object, __spreadArray([{}], Object.keys(value).map(function (key) {\n            return flattenObject(value[key], path.concat([key]));\n        }), false));\n    }\n    else {\n        return path.length ? (_a = {}, _a[path.join('.')] = value, _a) : value;\n    }\n};\n//# sourceMappingURL=fetch.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n/**\n * Extend a dataProvider to execute callbacks before and after read and write calls.\n *\n * @param {DataProvider} dataProvider The dataProvider to wrap\n * @param {ResourceCallbacks[]} handlers An array of ResourceCallbacks\n *\n * @typedef {Object} ResourceCallbacks\n * @property {string} resource The resource name\n * @property {AfterCreate} [afterCreate] A callback (or array of callbacks) executed after create\n * @property {AfterDelete} [afterDelete] A callback (or array of callbacks) executed after delete\n * @property {AfterDeleteMany} [afterDeleteMany] A callback (or array of callbacks) executed after deleteMany\n * @property {AfterGetList} [afterGetList] A callback (or array of callbacks) executed after getList\n * @property {AfterGetMany} [afterGetMany] A callback (or array of callbacks) executed after getMany\n * @property {AfterGetManyReference} [afterGetManyReference] A callback (or array of callbacks) executed after getManyReference\n * @property {AfterGetOne} [afterGetOne] A callback (or array of callbacks) executed after getOne\n * @property {AfterRead} [afterRead] A callback (or array of callbacks) executed after read (getList, getMany, getManyReference, getOne)\n * @property {AfterSave} [afterSave] A callback (or array of callbacks) executed after save (create, update, updateMany)\n * @property {AfterUpdate} [afterUpdate] A callback (or array of callbacks) executed after update\n * @property {AfterUpdateMany} [afterUpdateMany] A callback (or array of callbacks) executed after updateMany\n * @property {BeforeCreate} [beforeCreate] A callback (or array of callbacks) executed before create\n * @property {BeforeDelete} [beforeDelete] A callback (or array of callbacks) executed before delete\n * @property {BeforeDeleteMany} [beforeDeleteMany] A callback (or array of callbacks) executed before deleteMany\n * @property {BeforeGetList} [beforeGetList] A callback (or array of callbacks) executed before getList\n * @property {BeforeGetMany} [beforeGetMany] A callback (or array of callbacks) executed before getMany\n * @property {BeforeGetManyReference} [beforeGetManyReference] A callback (or array of callbacks) executed before getManyReference\n * @property {BeforeGetOne} [beforeGetOne] A callback (or array of callbacks) executed before getOne\n * @property {BeforeSave} [beforeSave] A callback (or array of callbacks) executed before save (create, update, updateMany)\n * @property {BeforeUpdate} [beforeUpdate] A callback (or array of callbacks) executed before update\n * @property {BeforeUpdateMany} [beforeUpdateMany] A callback (or array of callbacks) executed before updateMany\n *\n * Warnings:\n * - As queries issued in the callbacks are not done through react-query,\n *   any change in the data will not be automatically reflected in the UI.\n * - The callbacks are not executed in a transaction. In case of error,\n *   the backend may be left in an inconsistent state.\n * - When calling the API directly using fetch or another client,\n *   the callbacks will not be executed, leaving the backend in a possibly inconsistent state.\n * - If a callback triggers the query it's listening to, this will lead to a infinite loop.\n *\n * @example\n *\n * const dataProvider = withLifecycleCallbacks(\n *   jsonServerProvider(\"http://localhost:3000\"),\n *   [\n *     {\n *       resource: \"posts\",\n *       afterRead: async (data, dataProvider, resource) => {\n *         // rename field to the record\n *         data.user_id = data.userId;\n *         return data;\n *       },\n *       // executed after create, update and updateMany\n *       afterSave: async (record, dataProvider, resource) => {\n *         // update the author's nb_posts\n *         const { total } = await dataProvider.getList(\"users\", {\n *           filter: { id: record.user_id },\n *           pagination: { page: 1, perPage: 1 },\n *         });\n *         await dataProvider.update(\"users\", {\n *           id: user.id,\n *           data: { nb_posts: total },\n *           previousData: user,\n *         });\n *         return record;\n *       },\n *       beforeDelete: async (params, dataProvider, resource) => {\n *         // delete all comments linked to the post\n *         const { data: comments } = await dataProvider.getManyReference(\n *           \"comments\",\n *           {\n *             target: \"post_id\",\n *             id: params.id,\n *           }\n *         );\n *         if (comments.length > 0) {\n *           await dataProvider.deleteMany(\"comments\", {\n *             ids: comments.map((comment) => comment.id),\n *           });\n *         }\n *         // update the author's nb_posts\n *         const { data: post } = await dataProvider.getOne(\"posts\", {\n *           id: params.id,\n *         });\n *         const { total } = await dataProvider.getList(\"users\", {\n *           filter: { id: post.user_id },\n *           pagination: { page: 1, perPage: 1 },\n *         });\n *         await dataProvider.update(\"users\", {\n *           id: user.id,\n *           data: { nb_posts: total - 1 },\n *           previousData: user,\n *         });\n *         return params;\n *       },\n *     },\n *   ]\n * );\n */\nexport var withLifecycleCallbacks = function (dataProvider, handlers) {\n    return __assign(__assign({}, dataProvider), { getList: function (resource, params) {\n            return __awaiter(this, void 0, void 0, function () {\n                var newParams, result, _a;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            newParams = params;\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'beforeGetList',\n                                    params: newParams,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 1:\n                            newParams = _b.sent();\n                            return [4 /*yield*/, dataProvider.getList(resource, newParams)];\n                        case 2:\n                            result = _b.sent();\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'afterGetList',\n                                    params: result,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 3:\n                            result = _b.sent();\n                            _a = result;\n                            return [4 /*yield*/, Promise.all(result.data.map(function (record) {\n                                    return applyCallbacks({\n                                        name: 'afterRead',\n                                        params: record,\n                                        dataProvider: dataProvider,\n                                        handlers: handlers,\n                                        resource: resource,\n                                    });\n                                }))];\n                        case 4:\n                            _a.data = _b.sent();\n                            return [2 /*return*/, result];\n                    }\n                });\n            });\n        }, getOne: function (resource, params) {\n            return __awaiter(this, void 0, void 0, function () {\n                var newParams, result, _a;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            newParams = params;\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'beforeGetOne',\n                                    params: newParams,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 1:\n                            newParams = _b.sent();\n                            return [4 /*yield*/, dataProvider.getOne(resource, newParams)];\n                        case 2:\n                            result = _b.sent();\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'afterGetOne',\n                                    params: result,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 3:\n                            result = _b.sent();\n                            _a = result;\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'afterRead',\n                                    params: result.data,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 4:\n                            _a.data = _b.sent();\n                            return [2 /*return*/, result];\n                    }\n                });\n            });\n        }, getMany: function (resource, params) {\n            return __awaiter(this, void 0, void 0, function () {\n                var newParams, result, _a;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            newParams = params;\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'beforeGetMany',\n                                    params: newParams,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 1:\n                            newParams = _b.sent();\n                            return [4 /*yield*/, dataProvider.getMany(resource, newParams)];\n                        case 2:\n                            result = _b.sent();\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'afterGetMany',\n                                    params: result,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 3:\n                            result = _b.sent();\n                            _a = result;\n                            return [4 /*yield*/, Promise.all(result.data.map(function (record) {\n                                    return applyCallbacks({\n                                        name: 'afterRead',\n                                        params: record,\n                                        dataProvider: dataProvider,\n                                        handlers: handlers,\n                                        resource: resource,\n                                    });\n                                }))];\n                        case 4:\n                            _a.data = _b.sent();\n                            return [2 /*return*/, result];\n                    }\n                });\n            });\n        }, getManyReference: function (resource, params) {\n            return __awaiter(this, void 0, void 0, function () {\n                var newParams, result, _a;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            newParams = params;\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'beforeGetManyReference',\n                                    params: newParams,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 1:\n                            newParams = _b.sent();\n                            return [4 /*yield*/, dataProvider.getManyReference(resource, newParams)];\n                        case 2:\n                            result = _b.sent();\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'afterGetManyReference',\n                                    params: result,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 3:\n                            result = _b.sent();\n                            _a = result;\n                            return [4 /*yield*/, Promise.all(result.data.map(function (record) {\n                                    return applyCallbacks({\n                                        name: 'afterRead',\n                                        params: record,\n                                        dataProvider: dataProvider,\n                                        handlers: handlers,\n                                        resource: resource,\n                                    });\n                                }))];\n                        case 4:\n                            _a.data = _b.sent();\n                            return [2 /*return*/, result];\n                    }\n                });\n            });\n        }, update: function (resource, params) {\n            return __awaiter(this, void 0, void 0, function () {\n                var newParams, _a, result, _b;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            newParams = params;\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'beforeUpdate',\n                                    params: newParams,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 1:\n                            newParams = _c.sent();\n                            _a = newParams;\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'beforeSave',\n                                    params: newParams.data,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 2:\n                            _a.data = _c.sent();\n                            return [4 /*yield*/, dataProvider.update(resource, newParams)];\n                        case 3:\n                            result = _c.sent();\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'afterUpdate',\n                                    params: result,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 4:\n                            result = _c.sent();\n                            _b = result;\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'afterSave',\n                                    params: result.data,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 5:\n                            _b.data = _c.sent();\n                            return [2 /*return*/, result];\n                    }\n                });\n            });\n        }, create: function (resource, params) {\n            return __awaiter(this, void 0, void 0, function () {\n                var newParams, _a, result, _b;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            newParams = params;\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'beforeCreate',\n                                    params: newParams,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 1:\n                            newParams = _c.sent();\n                            _a = newParams;\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'beforeSave',\n                                    params: newParams.data,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 2:\n                            _a.data = _c.sent();\n                            return [4 /*yield*/, dataProvider.create(resource, newParams)];\n                        case 3:\n                            result = _c.sent();\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'afterCreate',\n                                    params: result,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 4:\n                            result = _c.sent();\n                            _b = result;\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'afterSave',\n                                    params: result.data,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 5:\n                            _b.data = _c.sent();\n                            return [2 /*return*/, result];\n                    }\n                });\n            });\n        }, delete: function (resource, params) {\n            return __awaiter(this, void 0, void 0, function () {\n                var newParams, result;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            newParams = params;\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'beforeDelete',\n                                    params: newParams,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 1:\n                            newParams = _a.sent();\n                            return [4 /*yield*/, dataProvider.delete(resource, newParams)];\n                        case 2:\n                            result = _a.sent();\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'afterDelete',\n                                    params: result,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 3:\n                            result = _a.sent();\n                            return [2 /*return*/, result];\n                    }\n                });\n            });\n        }, updateMany: function (resource, params) {\n            return __awaiter(this, void 0, void 0, function () {\n                var newParams, _a, result, afterSaveHandlers, records;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            newParams = params;\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'beforeUpdateMany',\n                                    params: newParams,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 1:\n                            newParams = _b.sent();\n                            _a = newParams;\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'beforeSave',\n                                    params: newParams.data,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 2:\n                            _a.data = _b.sent();\n                            return [4 /*yield*/, dataProvider.updateMany(resource, newParams)];\n                        case 3:\n                            result = _b.sent();\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'afterUpdateMany',\n                                    params: result,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 4:\n                            result = _b.sent();\n                            afterSaveHandlers = handlers.filter(function (h) {\n                                return (h.resource === resource || h.resource === '*') &&\n                                    h.afterSave;\n                            });\n                            if (!(afterSaveHandlers.length > 0)) return [3 /*break*/, 7];\n                            return [4 /*yield*/, dataProvider.getMany(resource, {\n                                    //@ts-ignore\n                                    ids: result.data,\n                                })];\n                        case 5:\n                            records = (_b.sent()).data;\n                            return [4 /*yield*/, Promise.all(records.map(function (record) {\n                                    return applyCallbacks({\n                                        name: 'afterSave',\n                                        params: record,\n                                        dataProvider: dataProvider,\n                                        handlers: handlers,\n                                        resource: resource,\n                                    });\n                                }))];\n                        case 6:\n                            _b.sent();\n                            _b.label = 7;\n                        case 7: return [2 /*return*/, result];\n                    }\n                });\n            });\n        }, deleteMany: function (resource, params) {\n            return __awaiter(this, void 0, void 0, function () {\n                var newParams, result;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            newParams = params;\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'beforeDeleteMany',\n                                    params: newParams,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 1:\n                            newParams = _a.sent();\n                            return [4 /*yield*/, dataProvider.deleteMany(resource, newParams)];\n                        case 2:\n                            result = _a.sent();\n                            return [4 /*yield*/, applyCallbacks({\n                                    name: 'afterDeleteMany',\n                                    params: result,\n                                    dataProvider: dataProvider,\n                                    handlers: handlers,\n                                    resource: resource,\n                                })];\n                        case 3:\n                            result = _a.sent();\n                            return [2 /*return*/, result];\n                    }\n                });\n            });\n        } });\n};\n/**\n * Apply callbacks to the params for the given resource and hook\n * @param {DataProvider} dataProvider The dataProvider\n * @param {ResourceCallbacks[]} handlers An array of ResourceCallbacks\n * @param {string} resource The resource name\n * @param {string} hook The hook name (beforeGetList, afterGetOne, etc.)\n * @param {U} params The params / result to pass to the callbacks\n * @returns {Promise<U>} The params / result after the callbacks have been applied\n */\nexport var applyCallbacks = function (_a) {\n    return __awaiter(this, arguments, void 0, function (_b) {\n        var newParams, handlersToApply, _i, handlersToApply_1, handler, callbacksValue, _c, _d, callback;\n        var name = _b.name, params = _b.params, dataProvider = _b.dataProvider, handlers = _b.handlers, resource = _b.resource;\n        return __generator(this, function (_e) {\n            switch (_e.label) {\n                case 0:\n                    newParams = params;\n                    handlersToApply = handlers.filter(function (h) { return (h.resource === resource || h.resource === '*') && h[name]; });\n                    _i = 0, handlersToApply_1 = handlersToApply;\n                    _e.label = 1;\n                case 1:\n                    if (!(_i < handlersToApply_1.length)) return [3 /*break*/, 9];\n                    handler = handlersToApply_1[_i];\n                    callbacksValue = handler[name];\n                    if (!Array.isArray(callbacksValue)) return [3 /*break*/, 6];\n                    _c = 0, _d = callbacksValue !== null && callbacksValue !== void 0 ? callbacksValue : [];\n                    _e.label = 2;\n                case 2:\n                    if (!(_c < _d.length)) return [3 /*break*/, 5];\n                    callback = _d[_c];\n                    return [4 /*yield*/, callback(newParams, dataProvider, resource)];\n                case 3:\n                    newParams = _e.sent();\n                    _e.label = 4;\n                case 4:\n                    _c++;\n                    return [3 /*break*/, 2];\n                case 5: return [3 /*break*/, 8];\n                case 6: return [4 /*yield*/, callbacksValue(newParams, dataProvider, resource)];\n                case 7:\n                    newParams = _e.sent();\n                    _e.label = 8;\n                case 8:\n                    _i++;\n                    return [3 /*break*/, 1];\n                case 9: return [2 /*return*/, newParams];\n            }\n        });\n    });\n};\n//# sourceMappingURL=withLifecycleCallbacks.js.map","import { fetchActionsWithRecordResponse, fetchActionsWithArrayOfIdentifiedRecordsResponse, fetchActionsWithArrayOfRecordsResponse, fetchActionsWithTotalResponse, } from \"./dataFetchActions.js\";\nfunction validateResponseFormat(response, type, logger) {\n    if (logger === void 0) { logger = console.error; }\n    if (!response) {\n        logger(\"The dataProvider returned an empty response for '\".concat(type, \"'.\"));\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (!response.hasOwnProperty('data')) {\n        logger(\"The response to '\".concat(type, \"' must be like { data: ... }, but the received response does not have a 'data' key. The dataProvider is probably wrong for '\").concat(type, \"'.\"));\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithArrayOfRecordsResponse.includes(type) &&\n        !Array.isArray(response.data)) {\n        logger(\"The response to '\".concat(type, \"' must be like { data : [...] }, but the received data is not an array. The dataProvider is probably wrong for '\").concat(type, \"'\"));\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithArrayOfIdentifiedRecordsResponse.includes(type) &&\n        Array.isArray(response.data) &&\n        response.data.length > 0 &&\n        !response.data[0].hasOwnProperty('id')) {\n        logger(\"The response to '\".concat(type, \"' must be like { data : [{ id: 123, ...}, ...] }, but the received data items do not have an 'id' key. The dataProvider is probably wrong for '\").concat(type, \"'\"));\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithRecordResponse.includes(type) &&\n        !response.data.hasOwnProperty('id')) {\n        logger(\"The response to '\".concat(type, \"' must be like { data: { id: 123, ... } }, but the received data does not have an 'id' key. The dataProvider is probably wrong for '\").concat(type, \"'\"));\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithTotalResponse.includes(type) &&\n        !response.hasOwnProperty('total') &&\n        !response.hasOwnProperty('pageInfo')) {\n        logger(\"The response to '\".concat(type, \"' must be like { data: [...], total: 123 } or { data: [...], pageInfo: {...} }, but the received response has neither a 'total' nor a 'pageInfo' key. The dataProvider is probably wrong for '\").concat(type, \"'\"));\n        throw new Error('ra.notification.data_provider_error');\n    }\n}\nexport default validateResponseFormat;\n//# sourceMappingURL=validateResponseFormat.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { useCallback } from 'react';\nimport useAuthProvider from \"./useAuthProvider.js\";\nimport useLogout from \"./useLogout.js\";\nimport { useNotify } from \"../notification/index.js\";\nimport { useNavigate } from 'react-router';\nvar timer;\n/**\n * Returns a callback used to call the authProvider.checkError() method\n * and an error from the dataProvider. If the authProvider rejects the call,\n * the hook logs the user out and shows a logged out notification.\n *\n * Used in the useDataProvider hook to check for access denied responses\n * (e.g. 401 or 403 responses) and trigger a logout.\n *\n * @see useLogout\n * @see useDataProvider\n *\n * @returns {Function} logoutIfAccessDenied callback\n *\n * @example\n *\n * import { useLogoutIfAccessDenied, useNotify, DataProviderContext } from 'react-admin';\n *\n * const FetchRestrictedResource = () => {\n *     const dataProvider = useContext(DataProviderContext);\n *     const logoutIfAccessDenied = useLogoutIfAccessDenied();\n *     const notify = useNotify()\n *     useEffect(() => {\n *         dataProvider.getOne('secret', { id: 123 })\n *             .catch(error => {\n *                  logoutIfAccessDenied(error);\n *                  notify('server error',  { type: 'error' });\n *              })\n *     }, []);\n *     // ...\n * }\n */\nvar useLogoutIfAccessDenied = function () {\n    var authProvider = useAuthProvider();\n    var logout = useLogout();\n    var notify = useNotify();\n    var navigate = useNavigate();\n    var handleRedirect = useCallback(function (url) {\n        if (url.startsWith('http')) {\n            window.location.href = url;\n        }\n        else {\n            navigate(url);\n        }\n    }, [navigate]);\n    var logoutIfAccessDenied = useCallback(function (errorFromCheckAuth) { return __awaiter(void 0, void 0, void 0, function () {\n        var errorFromCheckError_1, logoutUser, redirectTo, shouldNotify, _a;\n        var _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    if (!authProvider) {\n                        return [2 /*return*/, logoutIfAccessDeniedWithoutProvider()];\n                    }\n                    _c.label = 1;\n                case 1:\n                    _c.trys.push([1, 3, , 8]);\n                    return [4 /*yield*/, authProvider.checkError(errorFromCheckAuth)];\n                case 2:\n                    _c.sent();\n                    return [2 /*return*/, false];\n                case 3:\n                    errorFromCheckError_1 = _c.sent();\n                    logoutUser = (_b = errorFromCheckError_1 === null || errorFromCheckError_1 === void 0 ? void 0 : errorFromCheckError_1.logoutUser) !== null && _b !== void 0 ? _b : true;\n                    // manual debounce\n                    if (timer) {\n                        return [2 /*return*/, true]; // side effects already triggered in this tick, exit\n                    }\n                    timer = setTimeout(function () {\n                        timer = undefined;\n                    }, 0);\n                    redirectTo = errorFromCheckError_1 &&\n                        errorFromCheckError_1.redirectTo != null\n                        ? errorFromCheckError_1.redirectTo\n                        : errorFromCheckAuth && errorFromCheckAuth.redirectTo\n                            ? errorFromCheckAuth.redirectTo\n                            : undefined;\n                    shouldNotify = !((errorFromCheckError_1 &&\n                        errorFromCheckError_1.message === false) ||\n                        (errorFromCheckAuth &&\n                            errorFromCheckAuth.message === false) ||\n                        (redirectTo === null || redirectTo === void 0 ? void 0 : redirectTo.startsWith('http')));\n                    if (!shouldNotify) return [3 /*break*/, 7];\n                    _c.label = 4;\n                case 4:\n                    _c.trys.push([4, 6, , 7]);\n                    // notify only if not yet logged out\n                    return [4 /*yield*/, authProvider.checkAuth({})];\n                case 5:\n                    // notify only if not yet logged out\n                    _c.sent();\n                    if (logoutUser) {\n                        notify(getErrorMessage(errorFromCheckError_1, 'ra.notification.logged_out'), { type: 'error' });\n                    }\n                    else {\n                        notify(getErrorMessage(errorFromCheckError_1, 'ra.notification.not_authorized'), { type: 'error' });\n                    }\n                    return [3 /*break*/, 7];\n                case 6:\n                    _a = _c.sent();\n                    return [3 /*break*/, 7];\n                case 7:\n                    if (logoutUser) {\n                        logout({}, redirectTo);\n                    }\n                    else if (redirectTo) {\n                        handleRedirect(redirectTo);\n                    }\n                    return [2 /*return*/, true];\n                case 8: return [2 /*return*/];\n            }\n        });\n    }); }, [authProvider, logout, notify, handleRedirect]);\n    return logoutIfAccessDenied;\n};\nvar logoutIfAccessDeniedWithoutProvider = function () { return __awaiter(void 0, void 0, void 0, function () { return __generator(this, function (_a) {\n    return [2 /*return*/, false];\n}); }); };\nvar getErrorMessage = function (error, defaultMessage) {\n    return typeof error === 'string'\n        ? error\n        : typeof error === 'undefined' || !error.message\n            ? defaultMessage\n            : error.message;\n};\nexport default useLogoutIfAccessDenied;\n//# sourceMappingURL=useLogoutIfAccessDenied.js.map","/**\n * Populate react-query's query cache with a data dictionary\n *\n * @example\n * const data = {\n *    posts: [{ id: 1, title: 'Hello, world' }, { id: 2, title: 'FooBar' }],\n *    comments: [{ id: 1, post_id: 1, body: 'Nice post!' }],\n * };\n * populateQueryCache({ data, queryClient });\n * // setQueryData(['posts', 'getOne', { id: '1' }], { id: 1, title: 'Hello, world' });\n * // setQueryData(['posts', 'getOne', { id: '2' }], { id: 2, title: 'FooBar' });\n * // setQueryData(['posts', 'getMany', { ids: ['1', '2'] }], [{ id: 1, title: 'Hello, world' }, { id: 2, title: 'FooBar' }]);\n * // setQueryData(['comments', 'getOne', { id: '1' }], { id: 1, post_id: 1, body: 'Nice post!' });\n * // setQueryData(['comments', 'getMany', { ids: ['1'] }], [{ id: 1, post_id: 1, body: 'Nice post!' });\n */\nexport var populateQueryCache = function (_a) {\n    var data = _a.data, queryClient = _a.queryClient, _b = _a.staleTime, staleTime = _b === void 0 ? 1000 : _b;\n    // setQueryData doesn't accept a stale time option\n    // So we set an updatedAt in the future to make sure the data isn't considered stale\n    var updatedAt = Date.now() + staleTime;\n    Object.keys(data).forEach(function (resource) {\n        data[resource].forEach(function (record) {\n            if (!record || record.id == null)\n                return;\n            queryClient.setQueryData([resource, 'getOne', { id: String(record.id) }], record, { updatedAt: updatedAt });\n        });\n        var recordIds = data[resource].map(function (record) { return String(record.id); });\n        queryClient.setQueryData([resource, 'getMany', { ids: recordIds }], data[resource], { updatedAt: updatedAt });\n    });\n};\n//# sourceMappingURL=populateQueryCache.js.map","import { useContext, useMemo } from 'react';\nimport { useQueryClient } from '@tanstack/react-query';\nimport DataProviderContext from \"./DataProviderContext.js\";\nimport { defaultDataProvider } from \"./defaultDataProvider.js\";\nimport validateResponseFormat from \"./validateResponseFormat.js\";\nimport useLogoutIfAccessDenied from \"../auth/useLogoutIfAccessDenied.js\";\nimport { reactAdminFetchActions } from \"./dataFetchActions.js\";\nimport { populateQueryCache } from \"./populateQueryCache.js\";\n/**\n * Hook for getting a dataProvider\n *\n * Gets a dataProvider object, which behaves just like the real dataProvider\n * (same methods returning a Promise). But it's actually a Proxy object,\n * which validates the response format, and logs the user out upon error\n * if authProvider.checkError() rejects.\n *\n * @return dataProvider\n *\n * @example Basic usage\n *\n * import * as React from 'react';\n * import { useState } from 'react';\n * import { useDataProvider } from 'react-admin';\n *\n * const PostList = () => {\n *      const [posts, setPosts] = useState([])\n *      const dataProvider = useDataProvider();\n *      useEffect(() => {\n *          dataProvider.getList('posts', { filter: { status: 'pending' }})\n *            .then(({ data }) => setPosts(data));\n *      }, [])\n *\n *      return (\n *          <Fragment>\n *              {posts.map((post, key) => <PostDetail post={post} key={key} />)}\n *          </Fragment>\n *     );\n * }\n *\n * @example Handling all states (loading, error, success)\n *\n * import { useState, useEffect } from 'react';\n * import { useDataProvider } from 'react-admin';\n *\n * const UserProfile = ({ userId }) => {\n *     const dataProvider = useDataProvider();\n *     const [user, setUser] = useState();\n *     const [loading, setLoading] = useState(true);\n *     const [error, setError] = useState();\n *     useEffect(() => {\n *         dataProvider.getOne('users', { id: userId })\n *             .then(({ data }) => {\n *                 setUser(data);\n *                 setLoading(false);\n *             })\n *             .catch(error => {\n *                 setError(error);\n *                 setLoading(false);\n *             })\n *     }, []);\n *\n *     if (loading) return <Loading />;\n *     if (error) return <Error />\n *     if (!user) return null;\n *\n *     return (\n *         <ul>\n *             <li>Name: {user.name}</li>\n *             <li>Email: {user.email}</li>\n *         </ul>\n *     )\n * }\n */\nvar arrayReturnTypes = ['getList', 'getMany', 'getManyReference'];\nexport var useDataProvider = function () {\n    var dataProvider = (useContext(DataProviderContext) ||\n        defaultDataProvider);\n    var queryClient = useQueryClient();\n    var logoutIfAccessDenied = useLogoutIfAccessDenied();\n    var dataProviderProxy = useMemo(function () {\n        return new Proxy(dataProvider, {\n            get: function (_, name) {\n                if (typeof name === 'symbol' || name === 'then') {\n                    return;\n                }\n                if (name === 'supportAbortSignal') {\n                    return dataProvider.supportAbortSignal;\n                }\n                return function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    var type = name.toString();\n                    if (typeof dataProvider[type] !== 'function') {\n                        throw new Error(\"Unknown dataProvider function: \".concat(type));\n                    }\n                    try {\n                        return dataProvider[type]\n                            .apply(dataProvider, args)\n                            .then(function (response) {\n                            var _a;\n                            if (process.env.NODE_ENV === 'development' &&\n                                reactAdminFetchActions.includes(type)) {\n                                validateResponseFormat(response, type);\n                            }\n                            if ((_a = response === null || response === void 0 ? void 0 : response.meta) === null || _a === void 0 ? void 0 : _a.prefetched) {\n                                populateQueryCache({\n                                    data: response === null || response === void 0 ? void 0 : response.meta.prefetched,\n                                    queryClient: queryClient,\n                                });\n                            }\n                            return response;\n                        })\n                            .catch(function (error) {\n                            if (process.env.NODE_ENV !== 'production' &&\n                                // do not log AbortErrors\n                                !isAbortError(error)) {\n                                console.error(error);\n                            }\n                            return logoutIfAccessDenied(error).then(function (loggedOut) {\n                                if (loggedOut)\n                                    return {\n                                        data: arrayReturnTypes.includes(type)\n                                            ? []\n                                            : {},\n                                    };\n                                throw error;\n                            });\n                        });\n                    }\n                    catch (e) {\n                        if (process.env.NODE_ENV !== 'production') {\n                            console.error(e);\n                        }\n                        throw new Error('The dataProvider threw an error. It should return a rejected Promise instead.');\n                    }\n                };\n            },\n        });\n    }, [dataProvider, logoutIfAccessDenied, queryClient]);\n    return dataProviderProxy;\n};\nvar isAbortError = function (error) {\n    return error instanceof DOMException &&\n        error.name === 'AbortError';\n};\n//# sourceMappingURL=useDataProvider.js.map","import React from 'react';\nimport { notifyManager, useQueryClient } from '@tanstack/react-query';\n/**\n * Get the state of the dataProvider connection.\n *\n * Returns true if a query or a mutation is pending.\n *\n * Custom implementation because react-query's useIsFetching and useIsMutating\n * render each time the number of active queries changes, which is too often.\n *\n * @see useIsFetching\n * @see useIsMutating\n */\nexport var useLoading = function () {\n    var client = useQueryClient();\n    var mountedRef = React.useRef(false);\n    var isFetchingRef = React.useRef(client.isFetching() > 0);\n    var isMutatingRef = React.useRef(client.isMutating() > 0);\n    var _a = React.useState(isFetchingRef.current || isMutatingRef.current), isLoading = _a[0], setIsLoading = _a[1];\n    React.useEffect(function () {\n        mountedRef.current = true;\n        var unsubscribeQueryCache = client.getQueryCache().subscribe(notifyManager.batchCalls(function () {\n            if (mountedRef.current) {\n                isFetchingRef.current = client.isFetching() > 0;\n                setIsLoading(isFetchingRef.current || isMutatingRef.current);\n            }\n        }));\n        var unsubscribeMutationCache = client.getMutationCache().subscribe(notifyManager.batchCalls(function () {\n            if (mountedRef.current) {\n                isMutatingRef.current = client.isMutating() > 0;\n                setIsLoading(isFetchingRef.current || isMutatingRef.current);\n            }\n        }));\n        return function () {\n            mountedRef.current = false;\n            unsubscribeQueryCache();\n            unsubscribeMutationCache();\n        };\n    }, [client]);\n    return isLoading;\n};\n//# sourceMappingURL=useLoading.js.map","import { useCallback } from 'react';\nimport { useQueryClient } from '@tanstack/react-query';\n/**\n * Hook for triggering a page refresh. Returns a callback function.\n *\n * The callback invalidates all queries and refetches the active ones.\n * Any component depending on react-query data will be re-rendered.\n *\n * @example\n *\n * const refresh = useRefresh();\n * const handleClick = () => {\n *     refresh();\n * };\n */\nexport var useRefresh = function () {\n    var queryClient = useQueryClient();\n    return useCallback(function () {\n        queryClient.invalidateQueries();\n    }, [queryClient]);\n};\n//# sourceMappingURL=useRefresh.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useQuery, } from '@tanstack/react-query';\nimport { useDataProvider } from \"./useDataProvider.js\";\nimport { useEffect } from 'react';\nimport { useEvent } from \"../util/index.js\";\n/**\n * Call the dataProvider.getOne() method and return the resolved value\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { isPending: true, isFetching: true, refetch }\n * - success: { data: [data from response], isPending: false, refetch }\n * - error: { error: [error from response], isPending: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param resource The resource name, e.g. 'posts'\n * @param {Params} params The getOne parameters { id, meta }, e.g. { id: 123 }\n * @param {Options} options Options object to pass to the react-query queryClient.\n *\n * @typedef Params\n * @prop id a resource identifier, e.g. 123\n *\n * @typedef Options\n * @prop enabled Flag to conditionally run the query. If it's false, the query will not run\n * @prop onSuccess Side effect function to be executed upon success, e.g. { onSuccess: { refresh: true } }\n * @prop onError Side effect function to be executed upon failure, e.g. { onError: error => notify(error.message) }\n *\n * @returns The current request state. Destructure as { data, error, isPending, refetch }.\n *\n * @example\n *\n * import { useGetOne, useRecordContext } from 'react-admin';\n *\n * const UserProfile = () => {\n *     const record = useRecordContext();\n *     const { data, isPending, error } = useGetOne('users', { id: record.id });\n *     if (isPending) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <div>User {data.username}</div>;\n * };\n */\nexport var useGetOne = function (resource, _a, options) {\n    var id = _a.id, meta = _a.meta;\n    if (options === void 0) { options = {}; }\n    var dataProvider = useDataProvider();\n    var _b = options.onError, onError = _b === void 0 ? noop : _b, _c = options.onSuccess, onSuccess = _c === void 0 ? noop : _c, _d = options.onSettled, onSettled = _d === void 0 ? noop : _d, enabled = options.enabled, queryOptions = __rest(options, [\"onError\", \"onSuccess\", \"onSettled\", \"enabled\"]);\n    var onSuccessEvent = useEvent(onSuccess);\n    var onErrorEvent = useEvent(onError);\n    var onSettledEvent = useEvent(onSettled);\n    var result = useQuery(__assign({ \n        // Sometimes the id comes as a string (e.g. when read from the URL in a Show view).\n        // Sometimes the id comes as a number (e.g. when read from a Record in useGetList response).\n        // As the react-query cache is type-sensitive, we always stringify the identifier to get a match\n        queryKey: [resource, 'getOne', { id: String(id), meta: meta }], queryFn: function (queryParams) {\n            return id == null\n                ? Promise.reject('useGetOne: id cannot be null')\n                : dataProvider\n                    .getOne(resource, {\n                    id: id,\n                    meta: meta,\n                    signal: dataProvider.supportAbortSignal === true\n                        ? queryParams.signal\n                        : undefined,\n                })\n                    .then(function (_a) {\n                    var data = _a.data;\n                    return data;\n                });\n        }, enabled: enabled !== null && enabled !== void 0 ? enabled : id != null }, queryOptions));\n    useEffect(function () {\n        if (result.data === undefined ||\n            result.error != null ||\n            result.isFetching)\n            return;\n        onSuccessEvent(result.data);\n    }, [onSuccessEvent, result.data, result.error, result.isFetching]);\n    useEffect(function () {\n        if (result.error == null || result.isFetching)\n            return;\n        onErrorEvent(result.error);\n    }, [onErrorEvent, result.error, result.isFetching]);\n    useEffect(function () {\n        if (result.status === 'pending' || result.isFetching)\n            return;\n        onSettledEvent(result.data, result.error);\n    }, [\n        onSettledEvent,\n        result.data,\n        result.error,\n        result.status,\n        result.isFetching,\n    ]);\n    return result;\n};\nvar noop = function () { return undefined; };\n//# sourceMappingURL=useGetOne.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useEffect, useMemo, useRef } from 'react';\nimport { useQuery, useQueryClient, } from '@tanstack/react-query';\nimport { useDataProvider } from \"./useDataProvider.js\";\nimport { useEvent } from \"../util/index.js\";\nvar MAX_DATA_LENGTH_TO_CACHE = 100;\n/**\n * Call the dataProvider.getList() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { isPending: true, refetch }\n * - success: { data: [data from store], total: [total from response], isPending: false, refetch }\n * - error: { error: [error from response], isPending: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {Params} params The getList parameters { pagination, sort, filter, meta }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n *\n * @typedef Params\n * @prop params.pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\n * @prop params.sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\n * @prop params.filter The request filters, e.g. { title: 'hello, world' }\n * @prop params.meta Optional meta parameters\n *\n * @returns The current request state. Destructure as { data, total, error, isPending, refetch }.\n *\n * @example\n *\n * import { useGetList } from 'react-admin';\n *\n * const LatestNews = () => {\n *     const { data, total, isPending, error } = useGetList(\n *         'posts',\n *         { pagination: { page: 1, perPage: 10 }, sort: { field: 'published_at', order: 'DESC' } }\n *     );\n *     if (isPending) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{data.map(item =>\n *         <li key={item.id}>{item.title}</li>\n *     )}</ul>;\n * };\n */\nexport var useGetList = function (resource, params, options) {\n    if (params === void 0) { params = {}; }\n    if (options === void 0) { options = {}; }\n    var _a = params.pagination, pagination = _a === void 0 ? { page: 1, perPage: 25 } : _a, _b = params.sort, sort = _b === void 0 ? { field: 'id', order: 'DESC' } : _b, _c = params.filter, filter = _c === void 0 ? {} : _c, meta = params.meta;\n    var dataProvider = useDataProvider();\n    var queryClient = useQueryClient();\n    var _d = options.onError, onError = _d === void 0 ? noop : _d, _e = options.onSuccess, onSuccess = _e === void 0 ? noop : _e, _f = options.onSettled, onSettled = _f === void 0 ? noop : _f, queryOptions = __rest(options, [\"onError\", \"onSuccess\", \"onSettled\"]);\n    var onSuccessEvent = useEvent(onSuccess);\n    var onErrorEvent = useEvent(onError);\n    var onSettledEvent = useEvent(onSettled);\n    var result = useQuery(__assign({ queryKey: [resource, 'getList', { pagination: pagination, sort: sort, filter: filter, meta: meta }], queryFn: function (queryParams) {\n            return dataProvider\n                .getList(resource, {\n                pagination: pagination,\n                sort: sort,\n                filter: filter,\n                meta: meta,\n                signal: dataProvider.supportAbortSignal === true\n                    ? queryParams.signal\n                    : undefined,\n            })\n                .then(function (_a) {\n                var data = _a.data, total = _a.total, pageInfo = _a.pageInfo, meta = _a.meta;\n                return ({\n                    data: data,\n                    total: total,\n                    pageInfo: pageInfo,\n                    meta: meta,\n                });\n            });\n        } }, queryOptions));\n    var metaValue = useRef(meta);\n    var resourceValue = useRef(resource);\n    useEffect(function () {\n        metaValue.current = meta;\n    }, [meta]);\n    useEffect(function () {\n        resourceValue.current = resource;\n    }, [resource]);\n    useEffect(function () {\n        var _a;\n        if (result.data === undefined ||\n            result.error != null ||\n            result.isFetching)\n            return;\n        // optimistically populate the getOne cache\n        if (((_a = result.data) === null || _a === void 0 ? void 0 : _a.data) &&\n            result.data.data.length <= MAX_DATA_LENGTH_TO_CACHE) {\n            result.data.data.forEach(function (record) {\n                queryClient.setQueryData([\n                    resourceValue.current,\n                    'getOne',\n                    { id: String(record.id), meta: metaValue.current },\n                ], function (oldRecord) { return oldRecord !== null && oldRecord !== void 0 ? oldRecord : record; });\n            });\n        }\n        onSuccessEvent(result.data);\n    }, [\n        onSuccessEvent,\n        queryClient,\n        result.data,\n        result.error,\n        result.isFetching,\n    ]);\n    useEffect(function () {\n        if (result.error == null || result.isFetching)\n            return;\n        onErrorEvent(result.error);\n    }, [onErrorEvent, result.error, result.isFetching]);\n    useEffect(function () {\n        if (result.status === 'pending' || result.isFetching)\n            return;\n        onSettledEvent(result.data, result.error);\n    }, [\n        onSettledEvent,\n        result.data,\n        result.error,\n        result.status,\n        result.isFetching,\n    ]);\n    return useMemo(function () {\n        return result.data\n            ? __assign(__assign({}, result), result.data) : result;\n    }, [result]);\n};\nvar noop = function () { return undefined; };\n//# sourceMappingURL=useGetList.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useEffect, useRef } from 'react';\nimport { useQuery, useQueryClient, } from '@tanstack/react-query';\nimport { useDataProvider } from \"./useDataProvider.js\";\nimport { useEvent } from \"../util/index.js\";\n/**\n * Call the dataProvider.getMany() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { isPending: true, refetch }\n * - success: { data: [data from store], isPending: false, refetch }\n * - error: { error: [error from response], isPending: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {Params} params The getMany parameters { ids, meta }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n *\n * @typedef Params\n * @prop params.ids The ids to get, e.g. [123, 456, 789]\n * @prop params.meta Optional meta parameters\n *\n * @returns The current request state. Destructure as { data, error, isPending, refetch }.\n *\n * @example\n *\n * import { useGetMany } from 'react-admin';\n *\n * const PostTags = ({ post }) => {\n *     const { data, isPending, error } = useGetMany(\n *         'tags',\n *         { ids: post.tags },\n *     );\n *     if (isPending) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{data.map(tag =>\n *         <li key={tag.id}>{tag.name}</li>\n *     )}</ul>;\n * };\n */\nexport var useGetMany = function (resource, params, options) {\n    if (options === void 0) { options = {}; }\n    var ids = params.ids, meta = params.meta;\n    var dataProvider = useDataProvider();\n    var queryClient = useQueryClient();\n    var _a = options.onError, onError = _a === void 0 ? noop : _a, _b = options.onSuccess, onSuccess = _b === void 0 ? noop : _b, _c = options.onSettled, onSettled = _c === void 0 ? noop : _c, enabled = options.enabled, queryOptions = __rest(options, [\"onError\", \"onSuccess\", \"onSettled\", \"enabled\"]);\n    var onSuccessEvent = useEvent(onSuccess);\n    var onErrorEvent = useEvent(onError);\n    var onSettledEvent = useEvent(onSettled);\n    var result = useQuery(__assign({ queryKey: [\n            resource,\n            'getMany',\n            {\n                ids: !ids || ids.length === 0 ? [] : ids.map(function (id) { return String(id); }),\n                meta: meta,\n            },\n        ], queryFn: function (queryParams) {\n            if (!ids || ids.length === 0) {\n                // no need to call the dataProvider\n                return Promise.resolve([]);\n            }\n            return dataProvider\n                .getMany(resource, {\n                ids: ids,\n                meta: meta,\n                signal: dataProvider.supportAbortSignal === true\n                    ? queryParams.signal\n                    : undefined,\n            })\n                .then(function (_a) {\n                var data = _a.data;\n                return data;\n            });\n        }, placeholderData: function () {\n            var records = !ids || ids.length === 0\n                ? []\n                : ids.map(function (id) {\n                    return queryClient.getQueryData([\n                        resource,\n                        'getOne',\n                        { id: String(id), meta: meta },\n                    ]);\n                });\n            if (records.some(function (record) { return record === undefined; })) {\n                return undefined;\n            }\n            else {\n                return records;\n            }\n        }, retry: false, enabled: enabled !== null && enabled !== void 0 ? enabled : ids != null }, queryOptions));\n    var metaValue = useRef(meta);\n    var resourceValue = useRef(resource);\n    useEffect(function () {\n        metaValue.current = meta;\n    }, [meta]);\n    useEffect(function () {\n        resourceValue.current = resource;\n    }, [resource]);\n    useEffect(function () {\n        if (result.data === undefined ||\n            result.error != null ||\n            result.isFetching)\n            return;\n        // optimistically populate the getOne cache\n        result.data.forEach(function (record) {\n            queryClient.setQueryData([\n                resourceValue.current,\n                'getOne',\n                { id: String(record.id), meta: metaValue.current },\n            ], function (oldRecord) { return oldRecord !== null && oldRecord !== void 0 ? oldRecord : record; });\n        });\n        onSuccessEvent(result.data);\n    }, [\n        queryClient,\n        onSuccessEvent,\n        result.data,\n        result.error,\n        result.isFetching,\n    ]);\n    useEffect(function () {\n        if (result.error == null || result.isFetching)\n            return;\n        onErrorEvent(result.error);\n    }, [onErrorEvent, result.error, result.isFetching]);\n    useEffect(function () {\n        if (result.status === 'pending' || result.isFetching)\n            return;\n        onSettledEvent(result.data, result.error);\n    }, [\n        onSettledEvent,\n        result.data,\n        result.error,\n        result.status,\n        result.isFetching,\n    ]);\n    return result;\n};\nvar noop = function () { return undefined; };\n//# sourceMappingURL=useGetMany.js.map","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","var baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    baseUniq = require('./_baseUniq'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of unique values, in order, from all given arrays using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.union([2], [1, 2]);\n * // => [2, 1]\n */\nvar union = baseRest(function(arrays) {\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n});\n\nmodule.exports = union;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useEffect, useMemo, useRef } from 'react';\nimport { useQueryClient, useQuery, } from '@tanstack/react-query';\nimport union from 'lodash/union.js';\nimport { useDataProvider } from \"./useDataProvider.js\";\nimport { useEvent } from \"../util/index.js\";\n/**\n * Call the dataProvider.getMany() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { isPending: true, isFetching: true, refetch }\n * - success: { data: [data from response], isPending: false, isFetching: false, refetch }\n * - error: { error: [error from response], isPending: false, isFetching: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * This hook aggregates and deduplicates calls to the same resource, so for instance, if an app calls:\n *\n * useGetManyAggregate('tags', [1, 2, 3]);\n * useGetManyAggregate('tags', [3, 4]);\n *\n * during the same tick, the hook will only call the dataProvider once with the following parameters:\n *\n * dataProvider.getMany('tags', [1, 2, 3, 4])\n *\n * @param resource The resource name, e.g. 'posts'\n * @param {Params} params The getMany parameters { ids, meta }\n * @param {Object} options Options object to pass to the dataProvider.\n * @param {boolean} options.enabled Flag to conditionally run the query. If it's false, the query will not run\n * @param {Function} options.onSuccess Side effect function to be executed upon success, e.g. { onSuccess: { refresh: true } }\n * @param {Function} options.onError Side effect function to be executed upon failure, e.g. { onError: error => notify(error.message) }\n *\n * @typedef Params\n * @prop params.ids The ids to get, e.g. [123, 456, 789]\n * @prop params.meta Optional meta parameters\n\n * @returns The current request state. Destructure as { data, error, isPending, isFetching, refetch }.\n *\n * @example\n *\n * import { useGetManyAggregate, useRecordContext } from 'react-admin';\n *\n * const PostTags = () => {\n *     const record = useRecordContext();\n *     const { data, isPending, error } = useGetManyAggregate('tags', { ids: record.tagIds });\n *     if (isPending) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return (\n *          <ul>\n *              {data.map(tag => (\n *                  <li key={tag.id}>{tag.name}</li>\n *              ))}\n *          </ul>\n *      );\n * };\n */\nexport var useGetManyAggregate = function (resource, params, options) {\n    if (options === void 0) { options = {}; }\n    var dataProvider = useDataProvider();\n    var queryClient = useQueryClient();\n    var _a = options.onError, onError = _a === void 0 ? noop : _a, _b = options.onSuccess, onSuccess = _b === void 0 ? noop : _b, _c = options.onSettled, onSettled = _c === void 0 ? noop : _c, enabled = options.enabled, queryOptions = __rest(options, [\"onError\", \"onSuccess\", \"onSettled\", \"enabled\"]);\n    var onSuccessEvent = useEvent(onSuccess);\n    var onErrorEvent = useEvent(onError);\n    var onSettledEvent = useEvent(onSettled);\n    var ids = params.ids, meta = params.meta;\n    var placeholderData = useMemo(function () {\n        var records = (Array.isArray(ids) ? ids : [ids]).map(function (id) {\n            return queryClient.getQueryData([\n                resource,\n                'getOne',\n                { id: String(id), meta: meta },\n            ]);\n        });\n        if (records.some(function (record) { return record === undefined; })) {\n            return undefined;\n        }\n        else {\n            return records;\n        }\n    }, [ids, queryClient, resource, meta]);\n    var result = useQuery(__assign({ queryKey: [\n            resource,\n            'getMany',\n            {\n                ids: (Array.isArray(ids) ? ids : [ids]).map(function (id) { return String(id); }),\n                meta: meta,\n            },\n        ], queryFn: function (queryParams) {\n            return new Promise(function (resolve, reject) {\n                if (!ids || ids.length === 0) {\n                    // no need to call the dataProvider\n                    return resolve([]);\n                }\n                // debounced / batched fetch\n                return callGetManyQueries({\n                    resource: resource,\n                    ids: ids,\n                    meta: meta,\n                    resolve: resolve,\n                    reject: reject,\n                    dataProvider: dataProvider,\n                    queryClient: queryClient,\n                    signal: dataProvider.supportAbortSignal === true\n                        ? queryParams.signal\n                        : undefined,\n                });\n            });\n        }, placeholderData: placeholderData, enabled: enabled !== null && enabled !== void 0 ? enabled : ids != null, retry: false }, queryOptions));\n    var metaValue = useRef(meta);\n    var resourceValue = useRef(resource);\n    useEffect(function () {\n        metaValue.current = meta;\n    }, [meta]);\n    useEffect(function () {\n        resourceValue.current = resource;\n    }, [resource]);\n    useEffect(function () {\n        var _a;\n        if (result.data === undefined ||\n            result.error != null ||\n            result.isFetching)\n            return;\n        // optimistically populate the getOne cache\n        ((_a = result.data) !== null && _a !== void 0 ? _a : []).forEach(function (record) {\n            queryClient.setQueryData([\n                resourceValue.current,\n                'getOne',\n                { id: String(record.id), meta: metaValue.current },\n            ], function (oldRecord) { return oldRecord !== null && oldRecord !== void 0 ? oldRecord : record; });\n        });\n        onSuccessEvent(result.data);\n    }, [\n        queryClient,\n        onSuccessEvent,\n        result.data,\n        result.error,\n        result.isFetching,\n    ]);\n    useEffect(function () {\n        if (result.error == null || result.isFetching)\n            return;\n        onErrorEvent(result.error);\n    }, [onErrorEvent, result.error, result.isFetching]);\n    useEffect(function () {\n        if (result.status === 'pending' || result.isFetching)\n            return;\n        onSettledEvent(result.data, result.error);\n    }, [\n        onSettledEvent,\n        result.data,\n        result.error,\n        result.status,\n        result.isFetching,\n    ]);\n    return result;\n};\n/**\n * Batch all calls to a function into one single call with the arguments of all the calls.\n *\n * @example\n * let sum = 0;\n * const add = (args) => { sum = args.reduce((arg, total) => total + arg, 0); };\n * const addBatched = batch(add);\n * addBatched(2);\n * addBatched(8);\n * // add will be called once with arguments [2, 8]\n * // and sum will be equal to 10\n */\nvar batch = function (fn) {\n    var capturedArgs = [];\n    var timeout = null;\n    return function (arg) {\n        capturedArgs.push(arg);\n        if (timeout)\n            clearTimeout(timeout);\n        timeout = setTimeout(function () {\n            timeout = null;\n            fn(__spreadArray([], capturedArgs, true));\n            capturedArgs = [];\n        }, 0);\n    };\n};\n/**\n * Group and execute all calls to the dataProvider.getMany() method for the current tick\n *\n * Thanks to batch(), this function executes at most once per tick,\n * whatever the number of calls to useGetManyAggregate().\n */\nvar callGetManyQueries = batch(function (calls) {\n    var dataProvider = calls[0].dataProvider;\n    var queryClient = calls[0].queryClient;\n    /**\n     * Aggregate calls by resource and meta\n     *\n     * callsByResourceAndMeta will look like:\n     * {\n     *     'posts|{\"test\":true}': [{ resource, ids, resolve, reject, dataProvider, queryClient }, ...],\n     *     'posts|{\"test\":false}': [{ resource, ids, resolve, reject, dataProvider, queryClient }, ...],\n     *     tags: [{ resource, ids, resolve, reject, dataProvider, queryClient }, ...],\n     * }\n     */\n    var callsByResourceAndMeta = calls.reduce(function (acc, callArgs) {\n        var key = \"\".concat(callArgs.resource, \"|\").concat(JSON.stringify(callArgs.meta));\n        if (!acc[key]) {\n            acc[key] = [];\n        }\n        acc[key].push(callArgs);\n        return acc;\n    }, {});\n    /**\n     * For each resource/meta association, aggregate ids and call dataProvider.getMany() once\n     */\n    Object.keys(callsByResourceAndMeta).forEach(function (resource) {\n        var callsForResource = callsByResourceAndMeta[resource];\n        var uniqueResource = callsForResource.reduce(function (acc, _a) {\n            var resource = _a.resource;\n            return resource || acc;\n        }, '' // Should never happen as we always have a resource in callArgs but makes TS happy\n        );\n        /**\n         * Extract ids from queries, aggregate and deduplicate them\n         *\n         * @example from [[1, 2], [2, null, 3], [4, null]] to [1, 2, 3, 4]\n         */\n        var aggregatedIds = callsForResource\n            .reduce(function (acc, _a) {\n            var ids = _a.ids;\n            return union(acc, ids);\n        }, []) // concat + unique\n            .filter(function (v) { return v != null && v !== ''; }); // remove null values\n        var uniqueMeta = callsForResource.reduce(function (acc, _a) {\n            var meta = _a.meta;\n            return meta || acc;\n        }, undefined);\n        if (aggregatedIds.length === 0) {\n            // no need to call the data provider if all the ids are null\n            callsForResource.forEach(function (_a) {\n                var resolve = _a.resolve;\n                resolve([]);\n            });\n            return;\n        }\n        var callThatHasAllAggregatedIds = callsForResource.find(function (_a) {\n            var ids = _a.ids, signal = _a.signal;\n            return JSON.stringify(ids) === JSON.stringify(aggregatedIds) &&\n                !(signal === null || signal === void 0 ? void 0 : signal.aborted);\n        });\n        if (callThatHasAllAggregatedIds) {\n            // There is only one call (no aggregation), or one of the calls has the same ids as the sum of all calls.\n            // Either way, we can't trigger a new fetchQuery with the same signature, as it's already pending.\n            // Therefore, we reply with the dataProvider\n            var dataProvider_1 = callThatHasAllAggregatedIds.dataProvider, resource_1 = callThatHasAllAggregatedIds.resource, ids = callThatHasAllAggregatedIds.ids, meta = callThatHasAllAggregatedIds.meta, signal = callThatHasAllAggregatedIds.signal;\n            dataProvider_1\n                .getMany(resource_1, { ids: ids, meta: meta, signal: signal })\n                .then(function (_a) {\n                var data = _a.data;\n                return data;\n            })\n                .then(function (data) {\n                // We must then resolve all the pending calls with the data they requested\n                callsForResource.forEach(function (_a) {\n                    var ids = _a.ids, resolve = _a.resolve;\n                    resolve(data.filter(function (record) {\n                        return ids\n                            .map(function (id) { return String(id); })\n                            .includes(String(record.id));\n                    }));\n                });\n            }, function (error) {\n                // All pending calls must also receive the error\n                callsForResource.forEach(function (_a) {\n                    var reject = _a.reject;\n                    reject(error);\n                });\n            });\n            return;\n        }\n        /**\n         * Call dataProvider.getMany() with the aggregatedIds,\n         * and resolve each of the promises using the results\n         */\n        queryClient\n            .fetchQuery({\n            queryKey: [\n                uniqueResource,\n                'getMany',\n                {\n                    ids: aggregatedIds.map(function (id) { return String(id); }),\n                    meta: uniqueMeta,\n                },\n            ],\n            queryFn: function (queryParams) {\n                return dataProvider\n                    .getMany(uniqueResource, {\n                    ids: aggregatedIds,\n                    meta: uniqueMeta,\n                    signal: dataProvider.supportAbortSignal === true\n                        ? queryParams.signal\n                        : undefined,\n                })\n                    .then(function (_a) {\n                    var data = _a.data;\n                    return data;\n                });\n            },\n        })\n            .then(function (data) {\n            callsForResource.forEach(function (_a) {\n                var ids = _a.ids, resolve = _a.resolve;\n                resolve(data.filter(function (record) {\n                    return ids\n                        .map(function (id) { return String(id); })\n                        .includes(String(record.id));\n                }));\n            });\n        })\n            .catch(function (error) {\n            return callsForResource.forEach(function (_a) {\n                var reject = _a.reject;\n                return reject(error);\n            });\n        });\n    });\n});\nvar noop = function () { return undefined; };\n//# sourceMappingURL=useGetManyAggregate.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useEffect, useMemo } from 'react';\nimport { useQuery, useQueryClient, } from '@tanstack/react-query';\nimport { useDataProvider } from \"./useDataProvider.js\";\nimport { useEvent } from \"../util/index.js\";\n/**\n * Call the dataProvider.getManyReference() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { isPending: true, refetch }\n * - success: { data: [data from store], total: [total from response], isPending: false, refetch }\n * - error: { error: [error from response], isPending: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {Params} params The getManyReference parameters { target, id, pagination, sort, filter, meta }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n *\n * @typedef Params\n * @prop params.target The target resource key, e.g. 'post_id'\n * @prop params.id The identifier of the record to look for in target, e.g. '123'\n * @prop params.pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\n * @prop params.sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\n * @prop params.filter The request filters, e.g. { title: 'hello, world' }\n * @prop params.meta Optional meta parameters\n *\n * @returns The current request state. Destructure as { data, total, error, isPending, refetch }.\n *\n * @example\n *\n * import { useGetManyReference, useRecordContext } from 'react-admin';\n *\n * const PostComments = () => {\n *     const record = useRecordContext();\n *     // fetch all comments related to the current record\n *     const { data, isPending, error } = useGetManyReference(\n *         'comments',\n *         { target: 'post_id', id: record.id, pagination: { page: 1, perPage: 10 }, sort: { field: 'published_at', order: 'DESC' } }\n *     );\n *     if (isPending) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{data.map(comment =>\n *         <li key={comment.id}>{comment.body}</li>\n *     )}</ul>;\n * };\n */\nexport var useGetManyReference = function (resource, params, options) {\n    if (params === void 0) { params = {}; }\n    if (options === void 0) { options = {}; }\n    var target = params.target, id = params.id, _a = params.pagination, pagination = _a === void 0 ? { page: 1, perPage: 25 } : _a, _b = params.sort, sort = _b === void 0 ? { field: 'id', order: 'DESC' } : _b, _c = params.filter, filter = _c === void 0 ? {} : _c, meta = params.meta;\n    var dataProvider = useDataProvider();\n    var queryClient = useQueryClient();\n    var _d = options.onError, onError = _d === void 0 ? noop : _d, _e = options.onSuccess, onSuccess = _e === void 0 ? noop : _e, _f = options.onSettled, onSettled = _f === void 0 ? noop : _f, queryOptions = __rest(options, [\"onError\", \"onSuccess\", \"onSettled\"]);\n    var onSuccessEvent = useEvent(onSuccess);\n    var onErrorEvent = useEvent(onError);\n    var onSettledEvent = useEvent(onSettled);\n    var result = useQuery(__assign({ queryKey: [\n            resource,\n            'getManyReference',\n            { target: target, id: id, pagination: pagination, sort: sort, filter: filter, meta: meta },\n        ], queryFn: function (queryParams) {\n            if (!target || id == null) {\n                // check at runtime to support partial parameters with the enabled option\n                return Promise.reject(new Error('target and id are required'));\n            }\n            return dataProvider\n                .getManyReference(resource, {\n                target: target,\n                id: id,\n                pagination: pagination,\n                sort: sort,\n                filter: filter,\n                meta: meta,\n                signal: dataProvider.supportAbortSignal === true\n                    ? queryParams.signal\n                    : undefined,\n            })\n                .then(function (_a) {\n                var data = _a.data, total = _a.total, pageInfo = _a.pageInfo, meta = _a.meta;\n                return ({\n                    data: data,\n                    total: total,\n                    pageInfo: pageInfo,\n                    meta: meta,\n                });\n            });\n        } }, queryOptions));\n    useEffect(function () {\n        var _a, _b;\n        if (result.data === undefined)\n            return;\n        // optimistically populate the getOne cache\n        (_b = (_a = result.data) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.forEach(function (record) {\n            queryClient.setQueryData([resource, 'getOne', { id: String(record.id), meta: meta }], function (oldRecord) { return oldRecord !== null && oldRecord !== void 0 ? oldRecord : record; });\n        });\n        onSuccessEvent(result.data);\n    }, [queryClient, meta, onSuccessEvent, resource, result.data]);\n    useEffect(function () {\n        if (result.error == null)\n            return;\n        onErrorEvent(result.error);\n    }, [onErrorEvent, result.error]);\n    useEffect(function () {\n        if (result.status === 'pending')\n            return;\n        onSettledEvent(result.data, result.error);\n    }, [onSettledEvent, result.data, result.error, result.status]);\n    return useMemo(function () {\n        return result.data\n            ? __assign(__assign({}, result), result.data) : result;\n    }, [result]);\n};\nvar noop = function () { return undefined; };\n//# sourceMappingURL=useGetManyReference.js.map","function is(x, y) {\n    if (x === y) {\n        return x !== 0 || y !== 0 || 1 / x === 1 / y;\n    }\n    else {\n        return x !== x && y !== y;\n    }\n}\nexport var shallowEqual = function (objA, objB) {\n    if (is(objA, objB))\n        return true;\n    if (typeof objA !== 'object' ||\n        objA === null ||\n        typeof objB !== 'object' ||\n        objB === null) {\n        return false;\n    }\n    var keysA = Object.keys(objA);\n    var keysB = Object.keys(objB);\n    if (keysA.length !== keysB.length)\n        return false;\n    for (var i = 0; i < keysA.length; i++) {\n        if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) ||\n            !is(objA[keysA[i]], objB[keysA[i]])) {\n            return false;\n        }\n    }\n    return true;\n};\n//# sourceMappingURL=shallowEqual.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { shallowEqual } from \"./shallowEqual.js\";\nvar isObject = function (obj) {\n    return obj && Object.prototype.toString.call(obj) === '[object Object]';\n};\nvar isEmpty = function (obj) {\n    return obj instanceof Date\n        ? false\n        : obj === '' ||\n            obj === null ||\n            obj === undefined ||\n            shallowEqual(obj, {});\n};\nvar removeEmpty = function (object) {\n    return Object.keys(object).reduce(function (acc, key) {\n        var _a;\n        var child = object[key];\n        if (isObject(object[key])) {\n            child = removeEmpty(object[key]);\n        }\n        return isEmpty(child) ? acc : __assign(__assign({}, acc), (_a = {}, _a[key] = child, _a));\n    }, {});\n};\nexport default removeEmpty;\n//# sourceMappingURL=removeEmpty.js.map","var removeKey = function (target, path) {\n    return Object.keys(target).reduce(function (acc, key) {\n        var _a;\n        if (key !== path) {\n            return Object.assign({}, acc, (_a = {}, _a[key] = target[key], _a));\n        }\n        return acc;\n    }, {});\n};\nvar deepRemoveKey = function (target, path) {\n    var _a;\n    var paths = path.split('.');\n    if (paths.length === 1) {\n        return removeKey(target, path);\n    }\n    var deepKey = paths[0];\n    if (target[deepKey] === undefined) {\n        return target;\n    }\n    var deep = deepRemoveKey(target[deepKey], paths.slice(1).join('.'));\n    if (Object.keys(deep).length === 0) {\n        return removeKey(target, deepKey);\n    }\n    return Object.assign({}, target, (_a = {}, _a[deepKey] = deep, _a));\n};\nexport default deepRemoveKey;\n//# sourceMappingURL=removeKey.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport set from 'lodash/set.js';\nimport removeEmpty from \"../../util/removeEmpty.js\";\nimport removeKey from \"../../util/removeKey.js\";\nexport var SET_SORT = 'SET_SORT';\nexport var SORT_ASC = 'ASC';\nexport var SORT_DESC = 'DESC';\nexport var SET_PAGE = 'SET_PAGE';\nexport var SET_PER_PAGE = 'SET_PER_PAGE';\nexport var SET_FILTER = 'SET_FILTER';\nexport var SHOW_FILTER = 'SHOW_FILTER';\nexport var HIDE_FILTER = 'HIDE_FILTER';\nvar oppositeOrder = function (direction) {\n    return direction === SORT_DESC ? SORT_ASC : SORT_DESC;\n};\n/**\n * This reducer is for the react-router query string.\n */\nexport var queryReducer = function (previousState, action) {\n    var _a;\n    var _b;\n    switch (action.type) {\n        case SET_SORT:\n            if (action.payload.field === previousState.sort) {\n                return __assign(__assign({}, previousState), { order: (_b = action.payload.order) !== null && _b !== void 0 ? _b : oppositeOrder(previousState.order), page: 1 });\n            }\n            return __assign(__assign({}, previousState), { sort: action.payload.field, order: action.payload.order || SORT_ASC, page: 1 });\n        case SET_PAGE:\n            return __assign(__assign({}, previousState), { page: action.payload });\n        case SET_PER_PAGE:\n            return __assign(__assign({}, previousState), { page: 1, perPage: action.payload });\n        case SET_FILTER: {\n            return __assign(__assign({}, previousState), { page: 1, filter: action.payload.filter, displayedFilters: action.payload.displayedFilters\n                    ? action.payload.displayedFilters\n                    : previousState.displayedFilters });\n        }\n        case SHOW_FILTER: {\n            if (previousState.displayedFilters &&\n                previousState.displayedFilters[action.payload.filterName]) {\n                // the filter is already shown\n                return previousState;\n            }\n            return __assign(__assign({}, previousState), { filter: typeof action.payload.defaultValue !== 'undefined'\n                    ? set(previousState.filter, action.payload.filterName, action.payload.defaultValue)\n                    : previousState.filter, \n                // we don't use lodash.set() for displayed filters\n                // to avoid problems with compound filter names (e.g. 'author.name')\n                displayedFilters: __assign(__assign({}, previousState.displayedFilters), (_a = {}, _a[action.payload.filterName] = true, _a)) });\n        }\n        case HIDE_FILTER: {\n            return __assign(__assign({}, previousState), { filter: removeEmpty(removeKey(previousState.filter, action.payload)), \n                // we don't use lodash.set() for displayed filters\n                // to avoid problems with compound filter names (e.g. 'author.name')\n                displayedFilters: previousState.displayedFilters\n                    ? Object.keys(previousState.displayedFilters).reduce(function (filters, filter) {\n                        var _a;\n                        return filter !== action.payload\n                            ? __assign(__assign({}, filters), (_a = {}, _a[filter] = true, _a)) : filters;\n                    }, {})\n                    : previousState.displayedFilters });\n        }\n        default:\n            return previousState;\n    }\n};\nexport default queryReducer;\n//# sourceMappingURL=queryReducer.js.map","import { useReducer, useEffect, useRef, useCallback } from 'react';\nimport { SORT_ASC, SORT_DESC } from \"./list/queryReducer.js\";\nvar sortReducer = function (state, action) {\n    switch (action.type) {\n        case 'SET_SORT':\n            return action.payload;\n        case 'SET_SORT_FIELD': {\n            var field = action.payload;\n            var order = state.field === field\n                ? state.order === SORT_ASC\n                    ? SORT_DESC\n                    : SORT_ASC\n                : SORT_ASC;\n            return { field: field, order: order };\n        }\n        case 'SET_SORT_ORDER': {\n            var order = action.payload;\n            if (!state.field) {\n                throw new Error('cannot change the order on an undefined sort field');\n            }\n            return {\n                field: state.field,\n                order: order,\n            };\n        }\n        default:\n            return state;\n    }\n};\nexport var defaultSort = { field: '', order: 'ASC' };\n/**\n * Set the sort { field, order }\n * @name setSort\n * @function\n * @param {SortPayload} sort the sort object\n */\n/**\n * Set the sort field, swap the order if the field is the same\n * @name setSortField\n * @function\n * @param {string} field the sort field\n */\n/**\n * Set the sort order\n * @name setSortOrder\n * @function\n * @param {string} order The sort order, either ASC or DESC\n */\n/**\n * @typedef SortProps\n * @type {Object}\n * @property {Object} sort: the sort object.\n * @property {string} sort.field: the sort object.\n * @property {'ASC' | 'DESC'} sort.order: the sort object.\n * @property {setSort} setSort\n * @property {setSortField} setSortField\n * @property {setSortOrder} setSortOrder\n */\n/**\n * Hooks to provide sort state\n *\n * @example\n *\n * const { sort, setSort, setSortField, setSortOrder } = useSort({\n *      field: 'name',\n *      order: 'ASC',\n * });\n *\n * setSort({ field: 'name', order: 'ASC' });\n * // is the same as\n * setSortField('name');\n * setSortOrder('ASC');\n *\n * @param {Object} initialSort\n * @param {string} initialSort.field The initial sort field\n * @param {string} initialSort.order The initial sort order\n * @returns {SortProps} The sort props\n */\nvar useSortState = function (initialSort) {\n    if (initialSort === void 0) { initialSort = defaultSort; }\n    var _a = useReducer(sortReducer, initialSort), sort = _a[0], dispatch = _a[1];\n    var isFirstRender = useRef(true);\n    useEffect(function () {\n        if (isFirstRender.current) {\n            isFirstRender.current = false;\n            return;\n        }\n        dispatch({ type: 'SET_SORT', payload: initialSort });\n    }, [initialSort.field, initialSort.order]); // eslint-disable-line react-hooks/exhaustive-deps\n    return {\n        setSort: useCallback(function (sort) {\n            return dispatch({ type: 'SET_SORT', payload: sort });\n        }, [dispatch]),\n        setSortField: useCallback(function (field) {\n            return dispatch({ type: 'SET_SORT_FIELD', payload: field });\n        }, [dispatch]),\n        setSortOrder: useCallback(function (order) {\n            return dispatch({ type: 'SET_SORT_ORDER', payload: order });\n        }, [dispatch]),\n        sort: sort,\n    };\n};\nexport default useSortState;\n//# sourceMappingURL=useSortState.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useEffect, useReducer, useCallback, useRef } from 'react';\nvar paginationReducer = function (prevState, nextState) {\n    return __assign(__assign({}, prevState), nextState);\n};\nvar defaultPagination = {\n    page: 1,\n    perPage: 25,\n};\n/**\n * Hooks to provide pagination state (page and perPage)\n *\n * @example\n *\n * const { page, setPage, perPage, setPerPage } = usePagination(initialPerPage);\n *\n * @param {number} initialPagination the initial value per page\n * @returns {PaginationHookResult} The pagination props\n */\nexport default (function (initialPagination) {\n    if (initialPagination === void 0) { initialPagination = {}; }\n    var _a = useReducer(paginationReducer, __assign(__assign({}, defaultPagination), initialPagination)), pagination = _a[0], setPagination = _a[1];\n    var isFirstRender = useRef(true);\n    var setPerPage = useCallback(function (perPage) { return setPagination({ perPage: perPage, page: 1 }); }, []);\n    var setPage = useCallback(function (page) { return setPagination({ page: page }); }, []);\n    useEffect(function () {\n        if (isFirstRender.current) {\n            isFirstRender.current = false;\n            return;\n        }\n        setPerPage(initialPagination.perPage || 25);\n    }, [initialPagination.perPage, setPerPage]);\n    return {\n        page: pagination.page,\n        perPage: pagination.perPage,\n        pagination: pagination,\n        setPage: setPage,\n        setPerPage: setPerPage,\n        setPagination: setPagination,\n    };\n});\n//# sourceMappingURL=usePaginationState.js.map","import { createContext } from 'react';\nexport var AddUndoableMutationContext = createContext(function () { });\n//# sourceMappingURL=AddUndoableMutationContext.js.map","import { useContext } from 'react';\nimport { AddUndoableMutationContext } from \"./AddUndoableMutationContext.js\";\nexport var useAddUndoableMutation = function () {\n    return useContext(AddUndoableMutationContext);\n};\n//# sourceMappingURL=useAddUndoableMutation.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useEffect, useMemo, useRef } from 'react';\nimport { useMutation, useQueryClient, } from '@tanstack/react-query';\nimport { useAddUndoableMutation } from \"./undo/useAddUndoableMutation.js\";\nimport { useEvent } from \"../util/index.js\";\nexport var useMutationWithMutationMode = function (params, options) {\n    if (params === void 0) { params = {}; }\n    var queryClient = useQueryClient();\n    var addUndoableMutation = useAddUndoableMutation();\n    var mutationKey = options.mutationKey, _a = options.mutationMode, mutationMode = _a === void 0 ? 'pessimistic' : _a, mutationFn = options.mutationFn, getMutateWithMiddlewares = options.getMutateWithMiddlewares, updateCache = options.updateCache, getQueryKeys = options.getQueryKeys, onUndo = options.onUndo, mutationOptions = __rest(options, [\"mutationKey\", \"mutationMode\", \"mutationFn\", \"getMutateWithMiddlewares\", \"updateCache\", \"getQueryKeys\", \"onUndo\"]);\n    if (mutationFn == null) {\n        throw new Error('useMutationWithMutationMode mutation requires a mutationFn');\n    }\n    var mutationFnEvent = useEvent(mutationFn);\n    var updateCacheEvent = useEvent(updateCache);\n    var getQueryKeysEvent = useEvent(getQueryKeys);\n    var getSnapshotEvent = useEvent(\n    /**\n     * Snapshot the previous values via queryClient.getQueriesData()\n     *\n     * The snapshotData ref will contain an array of tuples [query key, associated data]\n     *\n     * @example\n     * [\n     *   [['posts', 'getList'], { data: [{ id: 1, title: 'Hello' }], total: 1 }],\n     *   [['posts', 'getMany'], [{ id: 1, title: 'Hello' }]],\n     * ]\n     *\n     * @see https://tanstack.com/query/v5/docs/react/reference/QueryClient#queryclientgetqueriesdata\n     */\n    function (queryKeys) {\n        return queryKeys.reduce(function (prev, queryKey) {\n            return prev.concat(queryClient.getQueriesData({ queryKey: queryKey }));\n        }, []);\n    });\n    var onUndoEvent = useEvent(onUndo !== null && onUndo !== void 0 ? onUndo : noop);\n    var getMutateWithMiddlewaresEvent = useEvent(getMutateWithMiddlewares !== null && getMutateWithMiddlewares !== void 0 ? getMutateWithMiddlewares : noop);\n    var mode = useRef(mutationMode);\n    useEffect(function () {\n        mode.current = mutationMode;\n    }, [mutationMode]);\n    // This ref won't be updated when params change in an effect, only when the mutate callback is called (See L247)\n    // This ensures that for undoable and optimistic mutations, the params are not changed by side effects (unselectAll for instance)\n    // _after_ the mutate function has been called, while keeping the ability to change declaration time params _until_ the mutation is called.\n    var paramsRef = useRef(params);\n    // Ref that stores the snapshot of the state before the mutation to allow reverting it\n    var snapshot = useRef([]);\n    // Ref that stores the mutation with middlewares to avoid losing them if the calling component is unmounted\n    var mutateWithMiddlewares = useRef(mutationFnEvent);\n    // We need to store the call-time onError and onSettled in refs to be able to call them in the useMutation hook even\n    // when the calling component is unmounted\n    var callTimeOnError = useRef();\n    var callTimeOnSettled = useRef();\n    // We don't need to keep a ref on the onSuccess callback as we call it ourselves for optimistic and\n    // undoable mutations. There is a limitation though: if one of the side effects applied by the onSuccess callback\n    // unmounts the component that called the useUpdate hook (redirect for instance), it must be the last one applied,\n    // otherwise the other side effects may not applied.\n    var hasCallTimeOnSuccess = useRef(false);\n    var mutation = useMutation(__assign(__assign({ mutationKey: mutationKey, mutationFn: function (params) { return __awaiter(void 0, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (params == null) {\n                    throw new Error('useMutationWithMutationMode mutation requires parameters');\n                }\n                return [2 /*return*/, (mutateWithMiddlewares\n                        .current(params)\n                        // Middlewares expect the data property of the dataProvider response\n                        .then(function (_a) {\n                        var data = _a.data;\n                        return data;\n                    }))];\n            });\n        }); } }, mutationOptions), { onMutate: function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return __awaiter(void 0, void 0, void 0, function () {\n                var userContext;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!mutationOptions.onMutate) return [3 /*break*/, 2];\n                            return [4 /*yield*/, mutationOptions.onMutate.apply(mutationOptions, args)];\n                        case 1:\n                            userContext = (_a.sent()) || {};\n                            return [2 /*return*/, __assign({ snapshot: snapshot.current }, userContext)];\n                        case 2: \n                        // Return a context object with the snapshot value\n                        return [2 /*return*/, { snapshot: snapshot.current }];\n                    }\n                });\n            });\n        }, onError: function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            if (mode.current === 'optimistic' ||\n                mode.current === 'undoable') {\n                var onMutateResult = args[2];\n                // If the mutation fails, use the context returned from onMutate to rollback\n                onMutateResult.snapshot.forEach(function (_a) {\n                    var key = _a[0], value = _a[1];\n                    queryClient.setQueryData(key, value);\n                });\n            }\n            if (callTimeOnError.current) {\n                return callTimeOnError.current.apply(callTimeOnError, args);\n            }\n            if (mutationOptions.onError) {\n                return mutationOptions.onError.apply(mutationOptions, args);\n            }\n            // call-time error callback is executed by react-query\n        }, onSuccess: function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            if (mode.current === 'pessimistic') {\n                var data = args[0], variables = args[1];\n                // update the getOne and getList query cache with the new result\n                updateCacheEvent(__assign(__assign({}, paramsRef.current), variables), {\n                    mutationMode: mode.current,\n                }, data);\n                if (mutationOptions.onSuccess &&\n                    !hasCallTimeOnSuccess.current) {\n                    mutationOptions.onSuccess.apply(mutationOptions, args);\n                }\n            }\n        }, onSettled: function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            if (mode.current === 'optimistic' ||\n                mode.current === 'undoable') {\n                var variables = args[2];\n                // Always refetch after error or success:\n                getQueryKeysEvent(__assign(__assign({}, paramsRef.current), variables), {\n                    mutationMode: mode.current,\n                }).forEach(function (queryKey) {\n                    queryClient.invalidateQueries({ queryKey: queryKey });\n                });\n            }\n            if (callTimeOnSettled.current) {\n                return callTimeOnSettled.current.apply(callTimeOnSettled, args);\n            }\n            if (mutationOptions.onSettled) {\n                return mutationOptions.onSettled.apply(mutationOptions, args);\n            }\n        } }));\n    var mutate = function () {\n        var args_1 = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args_1[_i] = arguments[_i];\n        }\n        return __awaiter(void 0, __spreadArray([], args_1, true), void 0, function (callTimeParams, callTimeOptions) {\n            var mutationMode, _a, returnPromise, onError, onSettled, onSuccess, otherCallTimeOptions, optimisticResult;\n            if (callTimeParams === void 0) { callTimeParams = {}; }\n            if (callTimeOptions === void 0) { callTimeOptions = {}; }\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        mutationMode = callTimeOptions.mutationMode, _a = callTimeOptions.returnPromise, returnPromise = _a === void 0 ? mutationOptions.returnPromise : _a, onError = callTimeOptions.onError, onSettled = callTimeOptions.onSettled, onSuccess = callTimeOptions.onSuccess, otherCallTimeOptions = __rest(callTimeOptions, [\"mutationMode\", \"returnPromise\", \"onError\", \"onSettled\", \"onSuccess\"]);\n                        // store the hook time params *at the moment of the call*\n                        // because they may change afterwards, which would break the undoable mode\n                        // as the previousData would be overwritten by the optimistic update\n                        paramsRef.current = params;\n                        // Store the mutation with middlewares to avoid losing them if the calling component is unmounted\n                        if (getMutateWithMiddlewares) {\n                            mutateWithMiddlewares.current = getMutateWithMiddlewaresEvent(function (params) {\n                                return mutationFnEvent(params);\n                            });\n                        }\n                        else {\n                            mutateWithMiddlewares.current = mutationFnEvent;\n                        }\n                        // We need to keep the onSuccess callback here and not in the useMutation for undoable mutations\n                        hasCallTimeOnSuccess.current = !!onSuccess;\n                        // We need to store the onError and onSettled callbacks here to be able to call them in the useMutation hook\n                        // so that they are called even when the calling component is unmounted\n                        callTimeOnError.current = onError;\n                        callTimeOnSettled.current = onSettled;\n                        if (mutationMode) {\n                            mode.current = mutationMode;\n                        }\n                        if (returnPromise && mode.current !== 'pessimistic') {\n                            console.warn('The returnPromise parameter can only be used if the mutationMode is set to pessimistic');\n                        }\n                        snapshot.current = getSnapshotEvent(getQueryKeysEvent(__assign(__assign({}, paramsRef.current), callTimeParams), {\n                            mutationMode: mode.current,\n                        }));\n                        if (mode.current === 'pessimistic') {\n                            if (returnPromise) {\n                                return [2 /*return*/, mutation.mutateAsync(__assign(__assign({}, paramsRef.current), callTimeParams), __assign({ onSuccess: onSuccess }, otherCallTimeOptions))];\n                            }\n                            return [2 /*return*/, mutation.mutate(__assign(__assign({}, paramsRef.current), callTimeParams), __assign({ onSuccess: onSuccess }, otherCallTimeOptions))];\n                        }\n                        // Cancel any outgoing re-fetches (so they don't overwrite our optimistic update)\n                        return [4 /*yield*/, Promise.all(snapshot.current.map(function (_a) {\n                                var queryKey = _a[0];\n                                return queryClient.cancelQueries({ queryKey: queryKey });\n                            }))];\n                    case 1:\n                        // Cancel any outgoing re-fetches (so they don't overwrite our optimistic update)\n                        _b.sent();\n                        optimisticResult = updateCacheEvent(__assign(__assign({}, paramsRef.current), callTimeParams), {\n                            mutationMode: mode.current,\n                        }, undefined);\n                        // run the success callbacks during the next tick\n                        setTimeout(function () {\n                            if (onSuccess) {\n                                onSuccess(optimisticResult, __assign(__assign({}, paramsRef.current), callTimeParams), {\n                                    snapshot: snapshot.current,\n                                }, {\n                                    client: queryClient,\n                                    mutationKey: mutationKey,\n                                    meta: mutationOptions.meta,\n                                });\n                            }\n                            else if (mutationOptions.onSuccess &&\n                                !hasCallTimeOnSuccess.current) {\n                                mutationOptions.onSuccess(optimisticResult, __assign(__assign({}, paramsRef.current), callTimeParams), {\n                                    snapshot: snapshot.current,\n                                }, {\n                                    client: queryClient,\n                                    mutationKey: mutationKey,\n                                    meta: mutationOptions.meta,\n                                });\n                            }\n                        }, 0);\n                        if (mode.current === 'optimistic') {\n                            // call the mutate method without success side effects\n                            return [2 /*return*/, mutation.mutate(__assign(__assign({}, paramsRef.current), callTimeParams))];\n                        }\n                        else {\n                            // Undoable mutation: add the mutation to the undoable queue.\n                            // The Notification component will dequeue it when the user confirms or cancels the message.\n                            addUndoableMutation(function (_a) {\n                                var isUndo = _a.isUndo;\n                                if (isUndo) {\n                                    if (onUndo) {\n                                        onUndoEvent(__assign(__assign({}, paramsRef.current), callTimeParams), {\n                                            mutationMode: mode.current,\n                                        });\n                                    }\n                                    // rollback\n                                    snapshot.current.forEach(function (_a) {\n                                        var key = _a[0], value = _a[1];\n                                        queryClient.setQueryData(key, value);\n                                    });\n                                }\n                                else {\n                                    // call the mutate method without success side effects\n                                    mutation.mutate(__assign(__assign({}, paramsRef.current), callTimeParams));\n                                }\n                            });\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    var mutationResult = useMemo(function () { return (__assign({ isLoading: mutation.isPending }, mutation)); }, [mutation]);\n    return [useEvent(mutate), mutationResult];\n};\nvar noop = function () { };\n//# sourceMappingURL=useMutationWithMutationMode.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useQueryClient, } from '@tanstack/react-query';\nimport { useDataProvider } from \"./useDataProvider.js\";\nimport { useMutationWithMutationMode, } from \"./useMutationWithMutationMode.js\";\nimport { useEvent } from \"../util/index.js\";\n/**\n * Get a callback to call the dataProvider.delete() method, the result and the loading state.\n *\n * @param {string} resource\n * @param {Params} params The delete parameters { id, previousData }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n * May include a mutation mode (optimistic/pessimistic/undoable), e.g. { mutationMode: 'undoable' }\n *\n * @typedef Params\n * @prop params.id The resource identifier, e.g. 123\n * @prop params.previousData The record before the update is applied\n *\n * @returns The current mutation state. Destructure as [deleteOne, { data, error, isPending }].\n *\n * The return value updates according to the request state:\n *\n * - initial: [deleteOne, { isPending: false, isIdle: true }]\n * - start:   [deleteOne, { isPending: true }]\n * - success: [deleteOne, { data: [data from response], isPending: false, isSuccess: true }]\n * - error:   [deleteOne, { error: [error from response], isPending: false, isError: true }]\n *\n * The deleteOne() function must be called with a resource and a parameter object: deleteOne(resource, { id, previousData, meta }, options)\n *\n * This hook uses react-query useMutation under the hood.\n * This means the state object contains mutate, isIdle, reset and other react-query methods.\n *\n * @see https://tanstack.com/query/v5/docs/react/reference/useMutation\n *\n * @example // set params when calling the deleteOne callback\n *\n * import { useDelete, useRecordContext } from 'react-admin';\n *\n * const DeleteButton = () => {\n *     const record = useRecordContext();\n *     const [deleteOne, { isPending, error }] = useDelete();\n *     const handleClick = () => {\n *         deleteOne('likes', { id: record.id, previousData: record })\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isPending} onClick={handleClick}>Delete</div>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useDelete, useRecordContext } from 'react-admin';\n *\n * const DeleteButton = () => {\n *     const record = useRecordContext();\n *     const [deleteOne, { isPending, error }] = useDelete('likes', { id: record.id, previousData: record });\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isPending} onClick={() => deleteOne()}>Delete</button>;\n * };\n *\n * @example // TypeScript\n * const [delete, { data }] = useDelete<Product>('products', { id, previousData: product });\n *                    \\-- data is Product\n */\nexport var useDelete = function (resource, params, options) {\n    if (params === void 0) { params = {}; }\n    if (options === void 0) { options = {}; }\n    var dataProvider = useDataProvider();\n    var queryClient = useQueryClient();\n    var _a = options.mutationMode, mutationMode = _a === void 0 ? 'pessimistic' : _a, mutationOptions = __rest(options, [\"mutationMode\"]);\n    var _b = useMutationWithMutationMode(__assign({ resource: resource }, params), __assign(__assign({}, mutationOptions), { mutationKey: [resource, 'delete', params], mutationMode: mutationMode, mutationFn: function (_a) {\n            var resource = _a.resource, params = __rest(_a, [\"resource\"]);\n            if (resource == null) {\n                throw new Error('useDelete mutation requires a resource');\n            }\n            if (params.id == null) {\n                throw new Error('useDelete mutation requires a non-empty id');\n            }\n            return dataProvider.delete(resource, params);\n        }, updateCache: function (_a, _b) {\n            var resource = _a.resource, params = __rest(_a, [\"resource\"]);\n            var mutationMode = _b.mutationMode;\n            // hack: only way to tell react-query not to fetch this query for the next 5 seconds\n            // because setQueryData doesn't accept a stale time option\n            var now = Date.now();\n            var updatedAt = mutationMode === 'undoable' ? now + 5 * 1000 : now;\n            var updateColl = function (old) {\n                if (!old)\n                    return old;\n                var index = old.findIndex(\n                // eslint-disable-next-line eqeqeq\n                function (record) { return record.id == params.id; });\n                if (index === -1) {\n                    return old;\n                }\n                return __spreadArray(__spreadArray([], old.slice(0, index), true), old.slice(index + 1), true);\n            };\n            queryClient.setQueriesData({ queryKey: [resource, 'getList'] }, function (res) {\n                if (!res || !res.data)\n                    return res;\n                var newCollection = updateColl(res.data);\n                var recordWasFound = newCollection.length < res.data.length;\n                return recordWasFound\n                    ? {\n                        data: newCollection,\n                        total: res.total ? res.total - 1 : undefined,\n                        pageInfo: res.pageInfo,\n                    }\n                    : res;\n            }, { updatedAt: updatedAt });\n            queryClient.setQueriesData({ queryKey: [resource, 'getInfiniteList'] }, function (res) {\n                if (!res || !res.pages)\n                    return res;\n                return __assign(__assign({}, res), { pages: res.pages.map(function (page) {\n                        var newCollection = updateColl(page.data);\n                        var recordWasFound = newCollection.length < page.data.length;\n                        return recordWasFound\n                            ? __assign(__assign({}, page), { data: newCollection, total: page.total\n                                    ? page.total - 1\n                                    : undefined, pageInfo: page.pageInfo }) : page;\n                    }) });\n            }, { updatedAt: updatedAt });\n            queryClient.setQueriesData({ queryKey: [resource, 'getMany'] }, function (coll) {\n                return coll && coll.length > 0 ? updateColl(coll) : coll;\n            }, { updatedAt: updatedAt });\n            queryClient.setQueriesData({ queryKey: [resource, 'getManyReference'] }, function (res) {\n                if (!res || !res.data)\n                    return res;\n                var newCollection = updateColl(res.data);\n                var recordWasFound = newCollection.length < res.data.length;\n                return recordWasFound\n                    ? __assign(__assign({}, res), { data: newCollection, total: res.total - 1 }) : res;\n            }, { updatedAt: updatedAt });\n            return params.previousData;\n        }, getQueryKeys: function (_a) {\n            var resource = _a.resource;\n            var queryKeys = [\n                [resource, 'getList'],\n                [resource, 'getInfiniteList'],\n                [resource, 'getMany'],\n                [resource, 'getManyReference'],\n            ];\n            return queryKeys;\n        }, onSettled: function (result, error, variables, context) {\n            // For deletion, we always refetch after error or success:\n            context.snapshot.forEach(function (_a) {\n                var queryKey = _a[0];\n                queryClient.invalidateQueries({ queryKey: queryKey });\n            });\n        } })), mutate = _b[0], mutationResult = _b[1];\n    var deleteOne = useEvent(function (callTimeResource, callTimeParams, callTimeOptions) {\n        if (callTimeResource === void 0) { callTimeResource = resource; }\n        if (callTimeParams === void 0) { callTimeParams = {}; }\n        if (callTimeOptions === void 0) { callTimeOptions = {}; }\n        return mutate(__assign({ resource: callTimeResource }, callTimeParams), callTimeOptions);\n    });\n    return [deleteOne, mutationResult];\n};\n//# sourceMappingURL=useDelete.js.map","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useEffect, useMemo, useState } from 'react';\nimport { useStore, useStoreContext } from \"../../store/index.js\";\n/**\n * Get the list of selected items for a resource, and callbacks to change the selection\n *\n * @param args.resource The resource name, e.g. 'posts'\n * @param args.storeKey The key to use to store selected items. Pass false to disable synchronization with the store.\n * @param args.disableSyncWithStore Controls the selection synchronization with the store\n *\n * @returns {Object} Destructure as [selectedIds, { select, unselect, toggle, clearSelection }].\n */\nexport var useRecordSelection = function (args) {\n    var _a = args.resource, resource = _a === void 0 ? '' : _a, storeKey = args.storeKey, disableSyncWithStore = args.disableSyncWithStore;\n    var finalStoreKey = \"\".concat(storeKey || resource, \".selectedIds\");\n    var _b = useState(defaultIds), localSelectionStore = _b[0], setLocalSelectionStore = _b[1];\n    // As we can't conditionally call a hook, if the disableSyncWithStore is true,\n    // we'll ignore the useStore values later on and won't call set functions either.\n    var _c = useStore(finalStoreKey, defaultIds), selectionStore = _c[0], setSelectionStore = _c[1];\n    var _d = useStore(\"\".concat(resource, \".selectedIds.storeKeys\"), defaultStoreKeys), storeKeys = _d[0], setStoreKeys = _d[1];\n    useEffect(function addStoreKeyToStore() {\n        if (!disableSyncWithStore && storeKey) {\n            setStoreKeys(function (storeKeys) {\n                if (!storeKeys.includes(finalStoreKey)) {\n                    return __spreadArray(__spreadArray([], storeKeys, true), [finalStoreKey], false);\n                }\n                else {\n                    return storeKeys;\n                }\n            });\n        }\n    }, [disableSyncWithStore, finalStoreKey, setStoreKeys, storeKey]);\n    var _e = useStoreContext(), getItem = _e.getItem, setItem = _e.setItem;\n    var ids = disableSyncWithStore ? localSelectionStore : selectionStore;\n    var setStore = useMemo(function () {\n        return disableSyncWithStore ? setLocalSelectionStore : setSelectionStore;\n    }, [disableSyncWithStore, setSelectionStore]);\n    var selectionModifiers = useMemo(function () { return ({\n        select: function (idsToSelect) {\n            if (!idsToSelect)\n                return;\n            setStore(idsToSelect);\n        },\n        unselect: function (idsToRemove, fromAllStoreKeys) {\n            if (!idsToRemove || idsToRemove.length === 0)\n                return;\n            setStore(function (ids) { return ids.filter(function (id) { return !idsToRemove.includes(id); }); });\n            if (!disableSyncWithStore && fromAllStoreKeys) {\n                storeKeys\n                    .filter(function (storeKey) { return storeKey !== finalStoreKey; })\n                    .forEach(function (storeKey) {\n                    var ids = getItem(storeKey);\n                    if (ids) {\n                        setItem(storeKey, ids.filter(function (id) { return !idsToRemove.includes(id); }));\n                    }\n                });\n            }\n        },\n        toggle: function (id) {\n            if (typeof id === 'undefined')\n                return;\n            setStore(function (ids) {\n                if (!Array.isArray(ids))\n                    return __spreadArray([], ids, true);\n                var index = ids.indexOf(id);\n                var hasId = index > -1;\n                return hasId\n                    ? __spreadArray(__spreadArray([], ids.slice(0, index), true), ids.slice(index + 1), true) : __spreadArray(__spreadArray([], ids, true), [id], false);\n            });\n        },\n        clearSelection: function (fromAllStoreKeys) {\n            setStore(defaultIds);\n            if (!disableSyncWithStore && fromAllStoreKeys) {\n                storeKeys\n                    .filter(function (storeKey) { return storeKey !== finalStoreKey; })\n                    .forEach(function (storeKey) {\n                    var ids = getItem(storeKey);\n                    if (ids) {\n                        setItem(storeKey, defaultIds);\n                    }\n                });\n            }\n        },\n    }); }, [\n        disableSyncWithStore,\n        finalStoreKey,\n        getItem,\n        setItem,\n        setStore,\n        storeKeys,\n    ]);\n    return [ids, selectionModifiers];\n};\nvar defaultIds = [];\nvar defaultStoreKeys = [];\n//# sourceMappingURL=useRecordSelection.js.map","import { useCallback } from 'react';\nimport { useRecordSelection } from \"./useRecordSelection.js\";\n/**\n * Hook to Unselect the rows of a datagrid\n *\n * @example\n *\n * const unselect = useUnselect('posts');\n * unselect([123, 456]);\n */\nexport var useUnselect = function (resource, storeKey) {\n    var _a = useRecordSelection(resource\n        ? { resource: resource, storeKey: storeKey }\n        : { disableSyncWithStore: true, storeKey: storeKey }), unselect = _a[1].unselect;\n    return useCallback(function (ids, fromAllStoreKeys) {\n        if (fromAllStoreKeys === void 0) { fromAllStoreKeys = false; }\n        unselect(ids, fromAllStoreKeys);\n    }, [unselect]);\n};\n//# sourceMappingURL=useUnselect.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useCallback, useMemo } from 'react';\nimport { useDelete } from \"../../dataProvider/useDelete.js\";\nimport { useUnselect } from \"../list/useUnselect.js\";\nimport { useRecordContext } from \"../record/useRecordContext.js\";\nimport { useRedirect } from \"../../routing/useRedirect.js\";\nimport { useNotify } from \"../../notification/useNotify.js\";\nimport { useResourceContext } from \"../../core/useResourceContext.js\";\nimport { useTranslate } from \"../../i18n/useTranslate.js\";\n/**\n * Prepare a set of callbacks for a delete button\n *\n * @example\n * const DeleteButton = ({\n *     redirect,\n *     ...rest\n * }) => {\n *     const {\n *         isPending,\n *         handleDelete,\n *     } = useDeleteController({\n *         mutationMode: 'pessimistic',\n *         redirect,\n *     });\n *\n *     const [open, setOpen] = useState(false);\n *\n *     return (\n *         <Fragment>\n *             <Button\n *                 onClick={() => setOpen(true)}\n *                 label=\"ra.action.delete\"\n *                 {...rest}\n *             >\n *                 {icon}\n *             </Button>\n *             <Confirm\n *                 isOpen={open}\n *                 loading={isPending}\n *                 title=\"ra.message.delete_title\"\n *                 content=\"ra.message.delete_content\"\n *                 titleTranslateOptions={{\n *                     name: resource,\n *                     id: record.id,\n *                 }}\n *                 contentTranslateOptions={{\n *                     name: resource,\n *                     id: record.id,\n *                 }}\n *                 onConfirm={() => handleDelete()}\n *                 onClose={() => setOpen(false)}\n *             />\n *         </Fragment>\n *     );\n * };\n */\nexport var useDeleteController = function (props) {\n    var _a = props.redirect, redirectTo = _a === void 0 ? 'list' : _a, _b = props.mutationMode, mutationMode = _b === void 0 ? 'undoable' : _b, _c = props.mutationOptions, mutationOptions = _c === void 0 ? {} : _c, successMessage = props.successMessage;\n    var mutationMeta = mutationOptions.meta, otherMutationOptions = __rest(mutationOptions, [\"meta\"]);\n    var record = useRecordContext(props);\n    var resource = useResourceContext(props);\n    var notify = useNotify();\n    var unselect = useUnselect(resource);\n    var redirect = useRedirect();\n    var translate = useTranslate();\n    var _d = useDelete(resource, undefined, {\n        onSuccess: function () {\n            notify(successMessage !== null && successMessage !== void 0 ? successMessage : \"resources.\".concat(resource, \".notifications.deleted\"), {\n                type: 'info',\n                messageArgs: {\n                    smart_count: 1,\n                    _: translate('ra.notification.deleted', {\n                        smart_count: 1,\n                    }),\n                },\n                undoable: mutationMode === 'undoable',\n            });\n            record && unselect([record.id], true);\n            redirect(redirectTo, resource);\n        },\n        onError: function (error) {\n            notify(typeof error === 'string'\n                ? error\n                : (error === null || error === void 0 ? void 0 : error.message) || 'ra.notification.http_error', {\n                type: 'error',\n                messageArgs: {\n                    _: typeof error === 'string'\n                        ? error\n                        : error === null || error === void 0 ? void 0 : error.message,\n                },\n            });\n        },\n    }), deleteOne = _d[0], isPending = _d[1].isPending;\n    var handleDelete = useCallback(function () {\n        if (!record) {\n            throw new Error('The record cannot be deleted because no record has been passed');\n        }\n        deleteOne(resource, {\n            id: record.id,\n            previousData: record,\n            meta: mutationMeta,\n        }, __assign({ mutationMode: mutationMode }, otherMutationOptions));\n    }, [\n        deleteOne,\n        mutationMeta,\n        mutationMode,\n        otherMutationOptions,\n        record,\n        resource,\n    ]);\n    return useMemo(function () { return ({\n        isPending: isPending,\n        isLoading: isPending,\n        handleDelete: handleDelete,\n    }); }, [isPending, handleDelete]);\n};\n//# sourceMappingURL=useDeleteController.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useDeleteController, } from \"./useDeleteController.js\";\nimport { useEvent } from \"../../util/index.js\";\n/**\n * Prepare callback for a Delete button with undo support\n * @deprecated prefer the useDeleteController hook instead\n * @example\n *\n * import React from 'react';\n * import ActionDelete from '@mui/icons-material/Delete';\n * import { Button, useDeleteWithUndoController } from 'react-admin';\n *\n * const DeleteButton = ({\n *     resource,\n *     record,\n *     redirect,\n *     onClick,\n *     ...rest\n * }) => {\n *     const { isPending, handleDelete } = useDeleteWithUndoController({\n *         resource,\n *         record,\n *         redirect,\n *         onClick,\n *     });\n *\n *     return (\n *         <Button\n *             onClick={handleDelete}\n *             disabled={isPending}\n *             label=\"ra.action.delete\"\n *             {...rest}\n *         >\n *             <ActionDelete />\n *         </Button>\n *     );\n * };\n */\nvar useDeleteWithUndoController = function (props) {\n    var onClick = props.onClick;\n    var _a = useDeleteController(__assign(__assign({}, props), { mutationMode: 'undoable' })), isPending = _a.isPending, controllerHandleDelete = _a.handleDelete;\n    var handleDelete = useEvent(function (event) {\n        if (event && event.stopPropagation) {\n            event.stopPropagation();\n        }\n        controllerHandleDelete();\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    });\n    return { isPending: isPending, isLoading: isPending, handleDelete: handleDelete };\n};\nexport default useDeleteWithUndoController;\n//# sourceMappingURL=useDeleteWithUndoController.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useQueryClient, } from '@tanstack/react-query';\nimport { useDataProvider } from \"./useDataProvider.js\";\nimport { useEvent } from \"../util/index.js\";\nimport { useMutationWithMutationMode, } from \"./useMutationWithMutationMode.js\";\n/**\n * Get a callback to call the dataProvider.delete() method, the result and the loading state.\n *\n * @param {string} resource\n * @param {Params} params The delete parameters { ids }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n * May include a mutation mode (optimistic/pessimistic/undoable), e.g. { mutationMode: 'undoable' }\n *\n * @typedef Params\n * @prop params.ids The resource identifiers, e.g. [123, 456]\n *\n * @returns The current mutation state. Destructure as [deleteMany, { data, error, isPending }].\n *\n * The return value updates according to the request state:\n *\n * - initial: [deleteMany, { isPending: false, isIdle: true }]\n * - start:   [deleteMany, { isPending: true }]\n * - success: [deleteMany, { data: [data from response], isPending: false, isSuccess: true }]\n * - error:   [deleteMany, { error: [error from response], isPending: false, isError: true }]\n *\n * The deleteMany() function must be called with a resource and a parameter object: deleteMany(resource, { ids, meta }, options)\n *\n * This hook uses react-query useMutation under the hood.\n * This means the state object contains mutate, isIdle, reset and other react-query methods.\n *\n * @see https://tanstack.com/query/v5/docs/react/reference/useMutation\n *\n * @example // set params when calling the deleteMany callback\n *\n * import { useDeleteMany } from 'react-admin';\n *\n * const BulkDeletePostsButton = ({ selectedIds }) => {\n *     const [deleteMany, { isPending, error }] = useDeleteMany();\n *     const handleClick = () => {\n *         deleteMany('posts', { ids: selectedIds })\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isPending} onClick={handleClick}>Delete selected posts</button>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useDeleteMany } from 'react-admin';\n *\n * const BulkDeletePostsButton = ({ selectedIds }) => {\n *     const [deleteMany, { isPending, error }] = useDeleteMany('posts', { ids: selectedIds });\n *     const handleClick = () => {\n *         deleteMany()\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isPending} onClick={handleClick}>Delete selected posts</button>;\n * };\n *\n * @example // TypeScript\n * const [deleteMany, { data }] = useDeleteMany<Product>('products', { ids });\n *                        \\-- data is Product\n */\nexport var useDeleteMany = function (resource, params, options) {\n    if (params === void 0) { params = {}; }\n    if (options === void 0) { options = {}; }\n    var dataProvider = useDataProvider();\n    var queryClient = useQueryClient();\n    var _a = options.mutationMode, mutationMode = _a === void 0 ? 'pessimistic' : _a, mutationOptions = __rest(options, [\"mutationMode\"]);\n    var _b = useMutationWithMutationMode(__assign({ resource: resource }, params), __assign(__assign({}, mutationOptions), { mutationKey: [resource, 'deleteMany', params], mutationMode: mutationMode, mutationFn: function (_a) {\n            var resource = _a.resource, params = __rest(_a, [\"resource\"]);\n            if (resource == null) {\n                throw new Error('useDeleteMany mutation requires a resource');\n            }\n            if (params.ids == null) {\n                throw new Error('useDeleteMany mutation requires an array of ids');\n            }\n            return dataProvider.deleteMany(resource, params);\n        }, updateCache: function (_a, _b) {\n            var resource = _a.resource, params = __rest(_a, [\"resource\"]);\n            var mutationMode = _b.mutationMode;\n            // hack: only way to tell react-query not to fetch this query for the next 5 seconds\n            // because setQueryData doesn't accept a stale time option\n            var now = Date.now();\n            var updatedAt = mutationMode === 'undoable' ? now + 5 * 1000 : now;\n            var updateColl = function (old) {\n                var _a;\n                if (!old)\n                    return old;\n                var newCollection = __spreadArray([], old, true);\n                (_a = params.ids) === null || _a === void 0 ? void 0 : _a.forEach(function (id) {\n                    var index = newCollection.findIndex(\n                    // eslint-disable-next-line eqeqeq\n                    function (record) { return record.id == id; });\n                    if (index === -1) {\n                        return;\n                    }\n                    newCollection = __spreadArray(__spreadArray([], newCollection.slice(0, index), true), newCollection.slice(index + 1), true);\n                });\n                return newCollection;\n            };\n            queryClient.setQueriesData({ queryKey: [resource, 'getList'] }, function (res) {\n                if (!res || !res.data)\n                    return res;\n                var newCollection = updateColl(res.data);\n                var recordWasFound = newCollection.length < res.data.length;\n                return recordWasFound\n                    ? __assign(__assign({}, res), { data: newCollection, total: res.total\n                            ? res.total -\n                                (res.data.length - newCollection.length)\n                            : undefined }) : res;\n            }, { updatedAt: updatedAt });\n            queryClient.setQueriesData({ queryKey: [resource, 'getInfiniteList'] }, function (res) {\n                if (!res || !res.pages)\n                    return res;\n                return __assign(__assign({}, res), { pages: res.pages.map(function (page) {\n                        var newCollection = updateColl(page.data);\n                        var recordWasFound = newCollection.length < page.data.length;\n                        return recordWasFound\n                            ? __assign(__assign({}, page), { data: newCollection, total: page.total\n                                    ? page.total -\n                                        (page.data.length -\n                                            newCollection.length)\n                                    : undefined }) : page;\n                    }) });\n            }, { updatedAt: updatedAt });\n            queryClient.setQueriesData({ queryKey: [resource, 'getMany'] }, function (coll) {\n                return coll && coll.length > 0 ? updateColl(coll) : coll;\n            }, { updatedAt: updatedAt });\n            queryClient.setQueriesData({ queryKey: [resource, 'getManyReference'] }, function (res) {\n                if (!res || !res.data)\n                    return res;\n                var newCollection = updateColl(res.data);\n                var recordWasFound = newCollection.length < res.data.length;\n                if (!recordWasFound) {\n                    return res;\n                }\n                if (res.total) {\n                    return __assign(__assign({}, res), { data: newCollection, total: res.total -\n                            (res.data.length - newCollection.length) });\n                }\n                if (res.pageInfo) {\n                    return __assign(__assign({}, res), { data: newCollection });\n                }\n                throw new Error('Found getManyReference result in cache without total or pageInfo');\n            }, { updatedAt: updatedAt });\n            return params.ids;\n        }, getQueryKeys: function (_a) {\n            var resource = _a.resource;\n            var queryKeys = [\n                [resource, 'getList'],\n                [resource, 'getInfiniteList'],\n                [resource, 'getMany'],\n                [resource, 'getManyReference'],\n            ];\n            return queryKeys;\n        }, onSettled: function (result, error, variables, context) {\n            // For deletion, we always refetch after error or success:\n            context.snapshot.forEach(function (_a) {\n                var queryKey = _a[0];\n                queryClient.invalidateQueries({ queryKey: queryKey });\n            });\n        } })), mutate = _b[0], mutationResult = _b[1];\n    var deleteMany = useEvent(function (callTimeResource, callTimeParams, callTimeOptions) {\n        if (callTimeResource === void 0) { callTimeResource = resource; }\n        if (callTimeParams === void 0) { callTimeParams = {}; }\n        if (callTimeOptions === void 0) { callTimeOptions = {}; }\n        return mutate(__assign({ resource: callTimeResource }, callTimeParams), callTimeOptions);\n    });\n    return [deleteMany, mutationResult];\n};\n//# sourceMappingURL=useDeleteMany.js.map","import { createContext } from 'react';\n/**\n * Context to store the result of the useListController() hook.\n *\n * Use the useListContext() hook to read the context. That's what many\n * List components do in react-admin (e.g. <Datagrid>, <FilterForm>, <Pagination>).\n *\n * @typedef {Object} ListControllerProps\n * @prop {Array}    data an array of the list records, e.g. [{ id: 123, title: 'hello world' }, { ... }]\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {boolean}  isFetching boolean that is true on mount, and false once the data was fetched\n * @prop {boolean}  isLoading boolean that is false until the data is available\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {Object}   sort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort({ field: 'name', order: 'ASC' })\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {Array}    selectedIds an array listing the ids of the selected rows, e.g. [123, 456]\n * @prop {Function} onSelect callback to change the list of selected rows, e.g. onSelect([456, 789])\n * @prop {Function} onSelectAll callback to select all the records, e.g. onSelectAll()\n * @prop {Function} onToggleItem callback to toggle the selection of a given record based on its id, e.g. onToggleItem(456)\n * @prop {Function} onUnselectItems callback to clear the selection, e.g. onUnselectItems();\n * @prop {string}   defaultTitle the translated title based on the resource, e.g. 'Posts'\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n * @prop {Function} refetch a function for triggering a refetch of the list data\n *\n * @typedef Props\n * @prop {ListControllerResult} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListContext\n *\n * @example\n *\n * import { useListController, ListContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListContext.Provider value={controllerProps}>\n *             ...\n *         </ListContext.Provider>\n *     );\n * };\n */\nexport var ListContext = createContext(null);\nListContext.displayName = 'ListContext';\n//# sourceMappingURL=ListContext.js.map","import { useContext } from 'react';\nimport { ListContext } from \"./ListContext.js\";\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Used within a <ListContextProvider> (e.g. as a descendent of <List>).\n *\n * @returns {ListControllerResult} list controller props\n *\n * @see useListController for how it is filled\n *\n * @example // custom list view\n *\n * import { useListContext } from 'react-admin';\n *\n * const MyList = () => {\n *     const { data, isPending } = useListContext();\n *     if (isPending) {\n *         return <>Loading...</>;\n *     }\n *     return (\n *         <ul>\n *             {data.map(record => (\n *                 <li key={record.id}>{record.name}</li>\n *             ))}\n *         </ul>\n *     );\n * }\n *\n * @example // custom pagination\n *\n * import { useListContext } from 'react-admin';\n * import { Button, Toolbar } from '@mui/material';\n * import ChevronLeft from '@mui/icons-material/ChevronLeft';\n * import ChevronRight from '@mui/icons-material/ChevronRight';\n *\n * const PrevNextPagination = () => {\n *     const { page, perPage, total, setPage } = useListContext();\n *     const nbPages = Math.ceil(total / perPage) || 1;\n *     return (\n *         nbPages > 1 &&\n *             <Toolbar>\n *                 {page > 1 &&\n *                     <Button color=\"primary\" key=\"prev\" onClick={() => setPage(page - 1)}>\n *                         <ChevronLeft />\n *                         Prev\n *                     </Button>\n *                 }\n *                 {page !== nbPages &&\n *                     <Button color=\"primary\" key=\"next\" onClick={() => setPage(page + 1)}>\n *                         Next\n *                         <ChevronRight />\n *                     </Button>\n *                 }\n *             </Toolbar>\n *     );\n * }\n */\nexport var useListContext = function () {\n    var context = useContext(ListContext);\n    if (!context) {\n        throw new Error('useListContext must be used inside a ListContextProvider');\n    }\n    return context;\n};\n//# sourceMappingURL=useListContext.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useCallback, useMemo } from 'react';\nimport { useDeleteMany, } from \"../../dataProvider/useDeleteMany.js\";\nimport { useRefresh } from \"../../dataProvider/useRefresh.js\";\nimport { useListContext } from \"../list/useListContext.js\";\nimport { useNotify } from \"../../notification/useNotify.js\";\nimport { useResourceContext } from \"../../core/useResourceContext.js\";\nimport { useTranslate } from \"../../i18n/useTranslate.js\";\nexport var useBulkDeleteController = function (props) {\n    var _a = props.mutationMode, mutationMode = _a === void 0 ? 'undoable' : _a, _b = props.mutationOptions, mutationOptions = _b === void 0 ? {} : _b, successMessage = props.successMessage;\n    var mutationMeta = mutationOptions.meta, otherMutationOptions = __rest(mutationOptions, [\"meta\"]);\n    var resource = useResourceContext(props);\n    var notify = useNotify();\n    var refresh = useRefresh();\n    var translate = useTranslate();\n    var _c = useListContext(), selectedIds = _c.selectedIds, onUnselectItems = _c.onUnselectItems;\n    var _d = useDeleteMany(resource, undefined, {\n        onSuccess: function () {\n            notify(successMessage !== null && successMessage !== void 0 ? successMessage : \"resources.\".concat(resource, \".notifications.deleted\"), {\n                type: 'info',\n                messageArgs: {\n                    smart_count: selectedIds.length,\n                    _: translate('ra.notification.deleted', {\n                        smart_count: selectedIds.length,\n                    }),\n                },\n                undoable: mutationMode === 'undoable',\n            });\n            onUnselectItems(true);\n        },\n        onError: function (error) {\n            notify(typeof error === 'string'\n                ? error\n                : (error === null || error === void 0 ? void 0 : error.message) || 'ra.notification.http_error', {\n                type: 'error',\n                messageArgs: {\n                    _: typeof error === 'string'\n                        ? error\n                        : error === null || error === void 0 ? void 0 : error.message,\n                },\n            });\n            refresh();\n        },\n    }), deleteMany = _d[0], isPending = _d[1].isPending;\n    var handleDelete = useCallback(function () {\n        deleteMany(resource, {\n            ids: selectedIds,\n            meta: mutationMeta,\n        }, __assign({ mutationMode: mutationMode }, otherMutationOptions));\n    }, [\n        deleteMany,\n        mutationMeta,\n        mutationMode,\n        otherMutationOptions,\n        resource,\n        selectedIds,\n    ]);\n    return useMemo(function () { return ({\n        isPending: isPending,\n        isLoading: isPending,\n        handleDelete: handleDelete,\n    }); }, [isPending, handleDelete]);\n};\n//# sourceMappingURL=useBulkDeleteController.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useQueryClient, } from '@tanstack/react-query';\nimport { useDataProvider } from \"./useDataProvider.js\";\nimport { useMutationWithMutationMode } from \"./useMutationWithMutationMode.js\";\nimport { useEvent } from \"../util/index.js\";\n/**\n * Get a callback to call the dataProvider.update() method, the result and the loading state.\n *\n * @param {string} resource\n * @param {Params} params The update parameters { id, data, previousData, meta }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n * May include a mutation mode (optimistic/pessimistic/undoable), e.g. { mutationMode: 'undoable' }\n *\n * @typedef Params\n * @prop params.id The resource identifier, e.g. 123\n * @prop params.data The updates to merge into the record, e.g. { views: 10 }\n * @prop params.previousData The record before the update is applied\n * @prop params.meta Optional meta data\n *\n * @returns The current mutation state. Destructure as [update, { data, error, isPending }].\n *\n * The return value updates according to the request state:\n *\n * - initial: [update, { isPending: false, isIdle: true }]\n * - start:   [update, { isPending: true }]\n * - success: [update, { data: [data from response], isPending: false, isSuccess: true }]\n * - error:   [update, { error: [error from response], isPending: false, isError: true }]\n *\n * The update() function must be called with a resource and a parameter object: update(resource, { id, data, previousData }, options)\n *\n * This hook uses react-query useMutation under the hood.\n * This means the state object contains mutate, isIdle, reset and other react-query methods.\n *\n * @see https://react-query-v3.tanstack.com/reference/useMutation\n *\n * @example // set params when calling the update callback\n *\n * import { useUpdate, useRecordContext } from 'react-admin';\n *\n * const IncreaseLikeButton = () => {\n *     const record = useRecordContext();\n *     const diff = { likes: record.likes + 1 };\n *     const [update, { isPending, error }] = useUpdate();\n *     const handleClick = () => {\n *         update('likes', { id: record.id, data: diff, previousData: record })\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isPending} onClick={handleClick}>Like</div>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useUpdate, useRecordContext } from 'react-admin';\n *\n * const IncreaseLikeButton = () => {\n *     const record = useRecordContext();\n *     const diff = { likes: record.likes + 1 };\n *     const [update, { isPending, error }] = useUpdate('likes', { id: record.id, data: diff, previousData: record });\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isPending} onClick={() => update()}>Like</button>;\n * };\n *\n * @example // TypeScript\n * const [update, { data }] = useUpdate<Product>('products', { id, data: diff, previousData: product });\n *                    \\-- data is Product\n */\nexport var useUpdate = function (resource, params, options) {\n    if (params === void 0) { params = {}; }\n    if (options === void 0) { options = {}; }\n    var dataProvider = useDataProvider();\n    var queryClient = useQueryClient();\n    var _a = options.mutationMode, mutationMode = _a === void 0 ? 'pessimistic' : _a, getMutateWithMiddlewares = options.getMutateWithMiddlewares, mutationOptions = __rest(options, [\"mutationMode\", \"getMutateWithMiddlewares\"]);\n    var dataProviderUpdate = useEvent(function (resource, params) {\n        return dataProvider.update(resource, params);\n    });\n    var _b = useMutationWithMutationMode(__assign({ resource: resource }, params), __assign(__assign({}, mutationOptions), { mutationKey: [resource, 'update', params], mutationMode: mutationMode, mutationFn: function (_a) {\n            var resource = _a.resource, params = __rest(_a, [\"resource\"]);\n            if (resource == null) {\n                throw new Error('useUpdate mutation requires a resource');\n            }\n            if (params.id == null) {\n                throw new Error('useUpdate mutation requires a non-empty id');\n            }\n            if (!params.data) {\n                throw new Error('useUpdate mutation requires a non-empty data object');\n            }\n            return dataProviderUpdate(resource, params);\n        }, updateCache: function (_a, _b, result) {\n            var resource = _a.resource, params = __rest(_a, [\"resource\"]);\n            var mutationMode = _b.mutationMode;\n            // hack: only way to tell react-query not to fetch this query for the next 5 seconds\n            // because setQueryData doesn't accept a stale time option\n            var now = Date.now();\n            var updatedAt = mutationMode === 'undoable' ? now + 5 * 1000 : now;\n            // Stringify and parse the data to remove undefined values.\n            // If we don't do this, an update with { id: undefined } as payload\n            // would remove the id from the record, which no real data provider does.\n            var clonedData = JSON.parse(JSON.stringify(mutationMode === 'pessimistic' ? result : params === null || params === void 0 ? void 0 : params.data));\n            var updateColl = function (old) {\n                if (!old)\n                    return old;\n                var index = old.findIndex(\n                // eslint-disable-next-line eqeqeq\n                function (record) { return record.id == (params === null || params === void 0 ? void 0 : params.id); });\n                if (index === -1) {\n                    return old;\n                }\n                return __spreadArray(__spreadArray(__spreadArray([], old.slice(0, index), true), [\n                    __assign(__assign({}, old[index]), clonedData)\n                ], false), old.slice(index + 1), true);\n            };\n            var previousRecord = queryClient.getQueryData([\n                resource,\n                'getOne',\n                { id: String(params === null || params === void 0 ? void 0 : params.id), meta: params === null || params === void 0 ? void 0 : params.meta },\n            ]);\n            queryClient.setQueryData([\n                resource,\n                'getOne',\n                { id: String(params === null || params === void 0 ? void 0 : params.id), meta: params === null || params === void 0 ? void 0 : params.meta },\n            ], function (record) { return (__assign(__assign({}, record), clonedData)); }, { updatedAt: updatedAt });\n            queryClient.setQueriesData({ queryKey: [resource, 'getList'] }, function (res) {\n                return res && res.data\n                    ? __assign(__assign({}, res), { data: updateColl(res.data) }) : res;\n            }, { updatedAt: updatedAt });\n            queryClient.setQueriesData({ queryKey: [resource, 'getInfiniteList'] }, function (res) {\n                return res && res.pages\n                    ? __assign(__assign({}, res), { pages: res.pages.map(function (page) { return (__assign(__assign({}, page), { data: updateColl(page.data) })); }) }) : res;\n            }, { updatedAt: updatedAt });\n            queryClient.setQueriesData({ queryKey: [resource, 'getMany'] }, function (coll) {\n                return coll && coll.length > 0 ? updateColl(coll) : coll;\n            }, { updatedAt: updatedAt });\n            queryClient.setQueriesData({ queryKey: [resource, 'getManyReference'] }, function (res) {\n                return res && res.data\n                    ? __assign(__assign({}, res), { data: updateColl(res.data) }) : res;\n            }, { updatedAt: updatedAt });\n            var optimisticResult = __assign(__assign({}, previousRecord), clonedData);\n            return optimisticResult;\n        }, getQueryKeys: function (_a) {\n            var resource = _a.resource, params = __rest(_a, [\"resource\"]);\n            var queryKeys = [\n                [\n                    resource,\n                    'getOne',\n                    { id: String(params === null || params === void 0 ? void 0 : params.id), meta: params === null || params === void 0 ? void 0 : params.meta },\n                ],\n                [resource, 'getList'],\n                [resource, 'getInfiniteList'],\n                [resource, 'getMany'],\n                [resource, 'getManyReference'],\n            ];\n            return queryKeys;\n        }, getMutateWithMiddlewares: function (mutationFn) {\n            if (getMutateWithMiddlewares) {\n                // Immediately get the function with middlewares applied so that even if the middlewares gets unregistered (because of a redirect for instance),\n                // we still have them applied when users have called the mutate function.\n                var mutateWithMiddlewares_1 = getMutateWithMiddlewares(dataProviderUpdate.bind(dataProvider));\n                return function (args) {\n                    // This is necessary to avoid breaking changes in useUpdate:\n                    // The mutation function must have the same signature as before (resource, params) and not ({ resource, params })\n                    var resource = args.resource, params = __rest(args, [\"resource\"]);\n                    return mutateWithMiddlewares_1(resource, params);\n                };\n            }\n            return function (args) { return mutationFn(args); };\n        } })), mutate = _b[0], mutationResult = _b[1];\n    var update = useEvent(function (callTimeResource, callTimeParams, callTimeOptions) {\n        if (callTimeResource === void 0) { callTimeResource = resource; }\n        if (callTimeParams === void 0) { callTimeParams = {}; }\n        if (callTimeOptions === void 0) { callTimeOptions = {}; }\n        return mutate(__assign({ resource: callTimeResource }, callTimeParams), callTimeOptions);\n    });\n    return [update, mutationResult];\n};\n//# sourceMappingURL=useUpdate.js.map","import { createContext } from 'react';\nexport var SaveContext = createContext({});\n//# sourceMappingURL=SaveContext.js.map","import * as React from 'react';\nimport { SaveContext } from \"./SaveContext.js\";\nexport var SaveContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(SaveContext.Provider, { value: value }, children));\n};\n//# sourceMappingURL=SaveContextProvider.js.map","var baseGet = require('./_baseGet'),\n    baseSet = require('./_baseSet'),\n    castPath = require('./_castPath');\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = basePickBy;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","var basePickBy = require('./_basePickBy'),\n    hasIn = require('./hasIn');\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nmodule.exports = basePick;\n","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","var flatten = require('./flatten'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nmodule.exports = flatRest;\n","var basePick = require('./_basePick'),\n    flatRest = require('./_flatRest');\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nmodule.exports = pick;\n","import { useMemo } from 'react';\nimport pick from 'lodash/pick.js';\n/**\n * This hook extracts the `save`, `saving` and mutationMode properties from either the `CreateContext` or `EditContext`. This ensures the `SaveContext` doesn't rerender when those two contexts have other properties changes.\n */\nexport var usePickSaveContext = function (context) {\n    var value = useMemo(function () {\n        return pick(context, [\n            'save',\n            'saving',\n            'mutationMode',\n            'registerMutationMiddleware',\n            'unregisterMutationMiddleware',\n        ]);\n    }, \n    /* eslint-disable react-hooks/exhaustive-deps */\n    [\n        context.save,\n        context.saving,\n        context.mutationMode,\n        context.registerMutationMiddleware,\n        context.unregisterMutationMiddleware,\n    ]\n    /* eslint-enable react-hooks/exhaustive-deps */\n    );\n    return value;\n};\n//# sourceMappingURL=usePickSaveContext.js.map","import { useContext } from 'react';\nimport { SaveContext } from \"./SaveContext.js\";\n/**\n * Get the save() function and its status\n *\n * Used in forms.\n *\n * @example\n *\n * const {\n *     save,\n *     saving\n * } = useSaveContext();\n */\nexport var useSaveContext = function (_props) {\n    return useContext(SaveContext);\n};\n//# sourceMappingURL=useSaveContext.js.map","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useCallback, useMemo, useRef } from 'react';\n/**\n * Internal hook used to handle mutation middlewares.\n *\n * @example\n * // We have a form creating an order for a new customer.\n * // The form contains the customer fields in addition to the order fields\n * // but they should be saved as a new customer resource record\n * // and the order should only reference this new customer\n * type Order = { id: string; reference: string };\n * type OrderCreateFormData = { id: string; reference: string; customer: Customer };\n * type Customer = { id: string; email: string; firstName: string; lastName: string };\n *\n * const CustomerForm = props => {\n *     const [createCustomer] = useCreate<Customer>();\n *     const middleware: Middleware<UseCreateResult<OrderCreateFormData>[0]> = useCallback(async (resource, params, next) => {\n *         const { data } = params;\n *         const { user, ...orderData } = data;\n *         const { data = newCustomer } = await createCustomer('customers', { data: user });\n *         const orderDataWithCustomer = { ...orderData, customerId: newCustomer.id };\n *         next(resource, { data: orderDataWithCustomer });\n *     }, [createCustomer]);\n *     useRegisterMutationMiddleware(middleware);\n *\n *     return (\n *         <>\n *             <TextInput source=\"user.email\" />\n *             <TextInput source=\"user.firstName\" />\n *             <TextInput source=\"user.lastName\" />\n *         </>\n *     );\n * }\n */\nexport var useMutationMiddlewares = function () {\n    var callbacks = useRef([]);\n    var registerMutationMiddleware = useCallback(function (callback) {\n        callbacks.current.push(callback);\n    }, []);\n    var unregisterMutationMiddleware = useCallback(function (callback) {\n        callbacks.current = callbacks.current.filter(function (cb) { return cb !== callback; });\n    }, []);\n    var getMutateWithMiddlewares = useCallback(function (fn) {\n        // Stores the current callbacks in a closure to avoid losing them if the calling component is unmounted\n        var currentCallbacks = __spreadArray([], callbacks.current, true);\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var index = currentCallbacks.length - 1;\n            // Called by middlewares to call the next middleware function\n            // Should take the same arguments as the original mutation function\n            var next = function () {\n                var newArgs = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    newArgs[_i] = arguments[_i];\n                }\n                // Decrement the middlewares counter so that when next is called again, we\n                // call the next middleware\n                index--;\n                // If there are no more middlewares, we call the original mutation function\n                if (index >= 0) {\n                    return currentCallbacks[index].apply(currentCallbacks, __spreadArray(__spreadArray([], newArgs, false), [next], false));\n                }\n                else {\n                    return fn.apply(void 0, newArgs);\n                }\n            };\n            if (currentCallbacks.length > 0) {\n                // Call the first middleware with the same args as the original mutation function\n                // with an additional next function\n                return currentCallbacks[index].apply(currentCallbacks, __spreadArray(__spreadArray([], args, false), [next], false));\n            }\n            return fn.apply(void 0, args);\n        };\n    }, []);\n    var functions = useMemo(function () { return ({\n        registerMutationMiddleware: registerMutationMiddleware,\n        getMutateWithMiddlewares: getMutateWithMiddlewares,\n        unregisterMutationMiddleware: unregisterMutationMiddleware,\n    }); }, [\n        registerMutationMiddleware,\n        getMutateWithMiddlewares,\n        unregisterMutationMiddleware,\n    ]);\n    return functions;\n};\n//# sourceMappingURL=useMutationMiddlewares.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useCallback } from 'react';\nimport { useAuthenticated, useRequireAccess } from \"../../auth/index.js\";\nimport { HttpError, useCreate, } from \"../../dataProvider/index.js\";\nimport { useRedirect } from \"../../routing/index.js\";\nimport { useNotify } from \"../../notification/index.js\";\nimport { useMutationMiddlewares, } from \"../saveContext/index.js\";\nimport { useTranslate } from \"../../i18n/index.js\";\nimport { useResourceContext, useResourceDefinition, useGetResourceLabel, } from \"../../core/index.js\";\n/**\n * Prepare data for the Create view\n *\n * @param {Object} props The props passed to the Create component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Create view\n *\n * @example\n *\n * import { useCreateController } from 'react-admin';\n * import CreateView from './CreateView';\n *\n * const MyCreate = props => {\n *     const controllerProps = useCreateController(props);\n *     return <CreateView {...controllerProps} {...props} />;\n * }\n */\nexport var useCreateController = function (props) {\n    if (props === void 0) { props = {}; }\n    var disableAuthentication = props.disableAuthentication, record = props.record, redirectTo = props.redirect, transform = props.transform, _a = props.mutationMode, mutationMode = _a === void 0 ? 'pessimistic' : _a, _b = props.mutationOptions, mutationOptions = _b === void 0 ? {} : _b;\n    var resource = useResourceContext(props);\n    if (!resource) {\n        throw new Error('useCreateController requires a non-empty resource prop or context');\n    }\n    var isPendingAuthenticated = useAuthenticated({\n        enabled: !disableAuthentication,\n    }).isPending;\n    var isPendingCanAccess = useRequireAccess({\n        action: 'create',\n        resource: resource,\n        enabled: !disableAuthentication && !isPendingAuthenticated,\n    }).isPending;\n    var _c = useResourceDefinition(props), hasEdit = _c.hasEdit, hasShow = _c.hasShow;\n    var finalRedirectTo = redirectTo !== null && redirectTo !== void 0 ? redirectTo : getDefaultRedirectRoute(hasShow, hasEdit);\n    var translate = useTranslate();\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var onSuccess = mutationOptions.onSuccess, onError = mutationOptions.onError, meta = mutationOptions.meta, otherMutationOptions = __rest(mutationOptions, [\"onSuccess\", \"onError\", \"meta\"]);\n    var _d = useMutationMiddlewares(), registerMutationMiddleware = _d.registerMutationMiddleware, getMutateWithMiddlewares = _d.getMutateWithMiddlewares, unregisterMutationMiddleware = _d.unregisterMutationMiddleware;\n    var _e = useCreate(resource, undefined, __assign(__assign({ onSuccess: function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return __awaiter(void 0, void 0, void 0, function () {\n                var data;\n                return __generator(this, function (_a) {\n                    if (onSuccess) {\n                        return [2 /*return*/, onSuccess.apply(void 0, args)];\n                    }\n                    data = args[0];\n                    notify(\"resources.\".concat(resource, \".notifications.created\"), {\n                        type: 'info',\n                        messageArgs: {\n                            smart_count: 1,\n                            _: translate(\"ra.notification.created\", {\n                                smart_count: 1,\n                            }),\n                        },\n                        undoable: mutationMode === 'undoable',\n                    });\n                    redirect(finalRedirectTo, resource, data.id, data);\n                    return [2 /*return*/];\n                });\n            });\n        }, onError: function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            if (onError) {\n                return onError.apply(void 0, args);\n            }\n            var error = args[0];\n            // Don't trigger a notification if this is a validation error\n            // (notification will be handled by the useNotifyIsFormInvalid hook)\n            var validationErrors = (_a = error === null || error === void 0 ? void 0 : error.body) === null || _a === void 0 ? void 0 : _a.errors;\n            var hasValidationErrors = !!validationErrors && Object.keys(validationErrors).length > 0;\n            if (!hasValidationErrors || mutationMode !== 'pessimistic') {\n                notify(typeof error === 'string'\n                    ? error\n                    : error.message ||\n                        'ra.notification.http_error', {\n                    type: 'error',\n                    messageArgs: {\n                        _: typeof error === 'string'\n                            ? error\n                            : error instanceof Error ||\n                                (typeof error === 'object' &&\n                                    error !== null &&\n                                    error.hasOwnProperty('message'))\n                                ? // @ts-ignore\n                                    error.message\n                                : undefined,\n                    },\n                });\n            }\n        } }, otherMutationOptions), { mutationMode: mutationMode, returnPromise: mutationMode === 'pessimistic', getMutateWithMiddlewares: getMutateWithMiddlewares })), create = _e[0], saving = _e[1].isPending;\n    var save = useCallback(function (data, _a) {\n        var _b = _a === void 0 ? {} : _a, onSuccessFromSave = _b.onSuccess, onErrorFromSave = _b.onError, transformFromSave = _b.transform, metaFromSave = _b.meta;\n        return Promise.resolve(transformFromSave\n            ? transformFromSave(data)\n            : transform\n                ? transform(data)\n                : data).then(function (data) { return __awaiter(void 0, void 0, void 0, function () {\n            var error_1;\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _b.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, create(resource, { data: data, meta: metaFromSave !== null && metaFromSave !== void 0 ? metaFromSave : meta }, {\n                                onError: onErrorFromSave,\n                                onSuccess: onSuccessFromSave,\n                            })];\n                    case 1:\n                        _b.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        error_1 = _b.sent();\n                        if ((error_1 instanceof HttpError ||\n                            (typeof error_1 === 'object' &&\n                                error_1 !== null &&\n                                error_1.hasOwnProperty('body'))) &&\n                            ((_a = error_1.body) === null || _a === void 0 ? void 0 : _a.errors) != null) {\n                            return [2 /*return*/, error_1.body.errors];\n                        }\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        }); });\n    }, [create, meta, resource, transform]);\n    var getResourceLabel = useGetResourceLabel();\n    var defaultTitle = translate(\"resources.\".concat(resource, \".page.create\"), {\n        _: translate('ra.page.create', {\n            name: getResourceLabel(resource, 1),\n        }),\n    });\n    return {\n        isFetching: false,\n        isLoading: false,\n        isPending: disableAuthentication ? false : isPendingCanAccess,\n        mutationMode: mutationMode,\n        saving: saving,\n        defaultTitle: defaultTitle,\n        save: save,\n        record: record,\n        resource: resource,\n        redirect: finalRedirectTo,\n        registerMutationMiddleware: registerMutationMiddleware,\n        unregisterMutationMiddleware: unregisterMutationMiddleware,\n    };\n};\nvar getDefaultRedirectRoute = function (hasShow, hasEdit) {\n    if (hasEdit) {\n        return 'edit';\n    }\n    if (hasShow) {\n        return 'show';\n    }\n    return 'list';\n};\n//# sourceMappingURL=useCreateController.js.map","import { createContext } from 'react';\n/**\n * Context to store the result of the useCreateController() hook.\n *\n * Use the useCreateContext() hook to read the context. That's what the Create components do in react-admin.\n *\n * @example\n *\n * import { useCreateController, CreateContextProvider } from 'ra-core';\n *\n * const Create = props => {\n *     const controllerProps = useCreateController(props);\n *     return (\n *         <CreateContextProvider value={controllerProps}>\n *             ...\n *         </CreateContextProvider>\n *     );\n * };\n */\nexport var CreateContext = createContext(null);\nCreateContext.displayName = 'CreateContext';\n//# sourceMappingURL=CreateContext.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { RecordContextProvider } from \"../record/RecordContext.js\";\nimport { CreateContext } from \"./CreateContext.js\";\nimport { SaveContextProvider, usePickSaveContext } from \"../saveContext/index.js\";\n/**\n * Create a Create Context.\n *\n * @example\n *\n * const MyCreate = (props) => {\n *     const controllerProps = useCreateController(props);\n *     return (\n *         <CreateContextProvider value={controllerProps}>\n *             <MyCreateView>\n *         </CreateContextProvider>\n *     );\n * };\n *\n * const MyCreateView = () => {\n *     const record = useRecordContext();\n *     // or, to rerender only when the save operation change but not data\n *     const { saving } = useCreateContext();\n * }\n *\n * @see CreateContext\n * @see RecordContext\n */\nexport var CreateContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(CreateContext.Provider, { value: value },\n        React.createElement(SaveContextProvider, { value: __assign(__assign({}, usePickSaveContext(value)), { mutationMode: 'pessimistic' }) },\n            React.createElement(RecordContextProvider, { value: value && value.record }, children))));\n};\n//# sourceMappingURL=CreateContextProvider.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCreateController, } from \"./useCreateController.js\";\nimport { CreateContextProvider } from \"./CreateContextProvider.js\";\nimport { OptionalResourceContextProvider } from \"../../core/index.js\";\nimport { useIsAuthPending } from \"../../auth/index.js\";\n/**\n * Call useCreateController and put the value in a CreateContext\n *\n * Base class for <Create> components, without UI.\n *\n * Accepts any props accepted by useCreateController:\n * - id: The record identifier\n * - resource: The resource\n *\n * @example // Custom edit layout\n *\n * const PostCreate = () => (\n *     <CreateBase>\n *         <Grid container>\n *             <Grid item xs={8}>\n *                 <SimpleForm>\n *                     ...\n *                 </SimpleForm>\n *             </Grid>\n *             <Grid item xs={4}>\n *                 Create instructions...\n *             </Grid>\n *         </Grid>\n *         <div>\n *             Post related links...\n *         </div>\n *     </CreateBase>\n * );\n */\nexport var CreateBase = function (_a) {\n    var children = _a.children, render = _a.render, loading = _a.loading, _b = _a.authLoading, authLoading = _b === void 0 ? loading : _b, props = __rest(_a, [\"children\", \"render\", \"loading\", \"authLoading\"]);\n    var controllerProps = useCreateController(props);\n    var isAuthPending = useIsAuthPending({\n        resource: controllerProps.resource,\n        action: 'create',\n    });\n    if (!render && !children) {\n        throw new Error('<CreateBase> requires either a `render` prop or `children` prop');\n    }\n    var showAuthLoading = isAuthPending &&\n        !props.disableAuthentication &&\n        authLoading !== false &&\n        authLoading !== undefined;\n    return (\n    // We pass props.resource here as we don't need to create a new ResourceContext if the props is not provided\n    React.createElement(OptionalResourceContextProvider, { value: props.resource },\n        React.createElement(CreateContextProvider, { value: controllerProps }, showAuthLoading\n            ? authLoading\n            : render\n                ? render(controllerProps)\n                : children)));\n};\n//# sourceMappingURL=CreateBase.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useCallback } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useAuthenticated, useRequireAccess } from \"../../auth/index.js\";\nimport { useRedirect } from \"../../routing/index.js\";\nimport { useNotify } from \"../../notification/index.js\";\nimport { useGetOne, useUpdate, } from \"../../dataProvider/index.js\";\nimport { useTranslate } from \"../../i18n/index.js\";\nimport { useResourceContext, useGetResourceLabel, useGetRecordRepresentation, } from \"../../core/index.js\";\nimport { useMutationMiddlewares, } from \"../saveContext/index.js\";\n/**\n * Prepare data for the Edit view.\n *\n * useEditController does a few things:\n * - it grabs the id from the URL and the resource name from the ResourceContext,\n * - it fetches the record via useGetOne,\n * - it prepares the page title.\n *\n * @param {Object} props The props passed to the Edit component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Edit view\n *\n * @example\n *\n * import { useEditController } from 'react-admin';\n * import EditView from './EditView';\n *\n * const MyEdit = () => {\n *     const controllerProps = useEditController({ resource: 'posts', id: 123 });\n *     return <EditView {...controllerProps} {...props} />;\n * }\n */\nexport var useEditController = function (props) {\n    if (props === void 0) { props = {}; }\n    var _a = props.disableAuthentication, disableAuthentication = _a === void 0 ? false : _a, propsId = props.id, _b = props.mutationMode, mutationMode = _b === void 0 ? 'undoable' : _b, _c = props.mutationOptions, mutationOptions = _c === void 0 ? {} : _c, _d = props.queryOptions, queryOptions = _d === void 0 ? {} : _d, _e = props.redirect, redirectTo = _e === void 0 ? DefaultRedirect : _e, _f = props.redirectOnError, redirectOnError = _f === void 0 ? DefaultRedirectOnError : _f, transform = props.transform;\n    var resource = useResourceContext(props);\n    if (!resource) {\n        throw new Error('useEditController requires a non-empty resource prop or context');\n    }\n    var isPendingAuthenticated = useAuthenticated({\n        enabled: !disableAuthentication,\n    }).isPending;\n    var isPendingCanAccess = useRequireAccess({\n        action: 'edit',\n        resource: resource,\n        enabled: !disableAuthentication && !isPendingAuthenticated,\n    }).isPending;\n    var getRecordRepresentation = useGetRecordRepresentation(resource);\n    var translate = useTranslate();\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var routeId = useParams().id;\n    if (!routeId && !propsId) {\n        throw new Error('useEditController requires an id prop or a route with an /:id? parameter.');\n    }\n    var id = propsId !== null && propsId !== void 0 ? propsId : routeId;\n    var queryMeta = queryOptions.meta, otherQueryOptions = __rest(queryOptions, [\"meta\"]);\n    var mutationMeta = mutationOptions.meta, onSuccess = mutationOptions.onSuccess, onError = mutationOptions.onError, otherMutationOptions = __rest(mutationOptions, [\"meta\", \"onSuccess\", \"onError\"]);\n    if ((queryMeta || mutationMeta) &&\n        JSON.stringify(queryMeta) !== JSON.stringify(mutationMeta) &&\n        redirectTo === false) {\n        console.warn('When not redirecting after editing, query meta and mutation meta should be the same, or you will have data update issues.');\n    }\n    var _g = useMutationMiddlewares(), registerMutationMiddleware = _g.registerMutationMiddleware, getMutateWithMiddlewares = _g.getMutateWithMiddlewares, unregisterMutationMiddleware = _g.unregisterMutationMiddleware;\n    var _h = useGetOne(resource, { id: id, meta: queryMeta }, __assign({ enabled: (!isPendingAuthenticated && !isPendingCanAccess) ||\n            disableAuthentication, onError: function () {\n            notify('ra.notification.item_doesnt_exist', {\n                type: 'error',\n            });\n            redirect(redirectOnError, resource, id);\n        }, refetchOnReconnect: false, refetchOnWindowFocus: false, retry: false }, otherQueryOptions)), record = _h.data, error = _h.error, isLoading = _h.isLoading, isFetching = _h.isFetching, isPaused = _h.isPaused, isPending = _h.isPending, isPlaceholderData = _h.isPlaceholderData, refetch = _h.refetch;\n    // eslint-disable-next-line eqeqeq\n    if (record && record.id && record.id != id) {\n        throw new Error(\"useEditController: Fetched record's id attribute (\".concat(record.id, \") must match the requested 'id' (\").concat(id, \")\"));\n    }\n    var getResourceLabel = useGetResourceLabel();\n    var recordRepresentation = getRecordRepresentation(record);\n    var defaultTitle = translate(\"resources.\".concat(resource, \".page.edit\"), {\n        id: id,\n        record: record,\n        recordRepresentation: typeof recordRepresentation === 'string'\n            ? recordRepresentation\n            : '',\n        _: translate('ra.page.edit', {\n            name: getResourceLabel(resource, 1),\n            id: id,\n            record: record,\n            recordRepresentation: typeof recordRepresentation === 'string'\n                ? recordRepresentation\n                : '',\n        }),\n    });\n    var recordCached = { id: id, previousData: record };\n    var _j = useUpdate(resource, recordCached, __assign(__assign({ onSuccess: function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return __awaiter(void 0, void 0, void 0, function () {\n                var data;\n                return __generator(this, function (_a) {\n                    if (onSuccess) {\n                        return [2 /*return*/, onSuccess.apply(void 0, args)];\n                    }\n                    data = args[0];\n                    notify(\"resources.\".concat(resource, \".notifications.updated\"), {\n                        type: 'info',\n                        messageArgs: {\n                            smart_count: 1,\n                            _: translate('ra.notification.updated', {\n                                smart_count: 1,\n                            }),\n                        },\n                        undoable: mutationMode === 'undoable',\n                    });\n                    redirect(redirectTo, resource, data.id, data);\n                    return [2 /*return*/];\n                });\n            });\n        }, onError: function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            if (onError) {\n                return onError.apply(void 0, args);\n            }\n            var error = args[0];\n            // Don't trigger a notification if this is a validation error\n            // (notification will be handled by the useNotifyIsFormInvalid hook)\n            var validationErrors = (_a = error === null || error === void 0 ? void 0 : error.body) === null || _a === void 0 ? void 0 : _a.errors;\n            var hasValidationErrors = !!validationErrors &&\n                Object.keys(validationErrors).length > 0;\n            if (!hasValidationErrors || mutationMode !== 'pessimistic') {\n                notify(typeof error === 'string'\n                    ? error\n                    : error.message ||\n                        'ra.notification.http_error', {\n                    type: 'error',\n                    messageArgs: {\n                        _: typeof error === 'string'\n                            ? error\n                            : error instanceof Error ||\n                                (typeof error === 'object' &&\n                                    error !== null &&\n                                    error.hasOwnProperty('message'))\n                                ? // @ts-ignore\n                                    error.message\n                                : undefined,\n                    },\n                });\n            }\n        } }, otherMutationOptions), { mutationMode: mutationMode, returnPromise: mutationMode === 'pessimistic', getMutateWithMiddlewares: getMutateWithMiddlewares })), update = _j[0], saving = _j[1].isPending;\n    var save = useCallback(function (data, _a) {\n        var _b = _a === void 0 ? {} : _a, onSuccessFromSave = _b.onSuccess, onErrorFromSave = _b.onError, transformFromSave = _b.transform, metaFromSave = _b.meta;\n        return Promise.resolve(transformFromSave\n            ? transformFromSave(data, {\n                previousData: recordCached.previousData,\n            })\n            : transform\n                ? transform(data, {\n                    previousData: recordCached.previousData,\n                })\n                : data).then(function (data) { return __awaiter(void 0, void 0, void 0, function () {\n            var error_1;\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _b.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, update(resource, {\n                                id: id,\n                                data: data,\n                                meta: metaFromSave !== null && metaFromSave !== void 0 ? metaFromSave : mutationMeta,\n                                previousData: record,\n                            }, {\n                                onError: onErrorFromSave,\n                                onSuccess: onSuccessFromSave,\n                            })];\n                    case 1:\n                        _b.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        error_1 = _b.sent();\n                        if (((_a = error_1.body) === null || _a === void 0 ? void 0 : _a.errors) != null) {\n                            return [2 /*return*/, error_1.body.errors];\n                        }\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        }); });\n    }, [\n        id,\n        mutationMeta,\n        record,\n        resource,\n        transform,\n        update,\n        recordCached.previousData,\n    ]);\n    return {\n        defaultTitle: defaultTitle,\n        error: error,\n        isFetching: isFetching,\n        isLoading: isLoading,\n        isPaused: isPaused,\n        isPending: isPending,\n        isPlaceholderData: isPlaceholderData,\n        mutationMode: mutationMode,\n        record: record,\n        redirect: redirectTo,\n        redirectOnError: redirectOnError,\n        refetch: refetch,\n        registerMutationMiddleware: registerMutationMiddleware,\n        resource: resource,\n        save: save,\n        saving: saving,\n        unregisterMutationMiddleware: unregisterMutationMiddleware,\n    };\n};\nvar DefaultRedirect = 'list';\nvar DefaultRedirectOnError = 'list';\n//# sourceMappingURL=useEditController.js.map","import * as React from 'react';\nimport { useRecordContext } from \"./useRecordContext.js\";\n/**\n * Render prop version of useRecordContext\n *\n * @example\n * const BookShow = () => (\n *    <Show>\n *       <SimpleShowLayout>\n *          <WithRecord render={record => <span>{record.title}</span>} />\n *      </SimpleShowLayout>\n *   </Show>\n * );\n */\nexport var WithRecord = function (_a) {\n    var render = _a.render, _b = _a.empty, empty = _b === void 0 ? null : _b;\n    var record = useRecordContext();\n    return record ? React.createElement(React.Fragment, null, render(record)) : empty;\n};\n//# sourceMappingURL=WithRecord.js.map","import * as React from 'react';\nimport { RecordContextProvider } from \"./RecordContext.js\";\n/**\n * Wrap children with a RecordContext provider only if the value is defined.\n *\n * Allows a component to work outside of a record context.\n *\n * @example\n *\n * import { OptionalRecordContextProvider, TextField } from 'react-admin';\n *\n * const RecordTitle = ({ record }) => (\n *     <OptionalRecordContextProvider value={record}>\n *         <TextField source=\"title\" />\n *     </OptionalRecordContextProvider>\n * );\n */\nexport var OptionalRecordContextProvider = function (_a) {\n    var value = _a.value, children = _a.children;\n    return value ? (React.createElement(RecordContextProvider, { value: value }, children)) : (children);\n};\n//# sourceMappingURL=OptionalRecordContextProvider.js.map","import * as React from 'react';\nimport { useGetRecordRepresentation, useResourceContext } from \"../../core/index.js\";\nimport { useRecordContext } from \"./useRecordContext.js\";\n/**\n * Render the record representation as specified on its parent <Resource>.\n * @param props The component props\n * @param {string} props.resource The resource name\n * @param {RaRecord} props.record The record to render\n */\nexport var RecordRepresentation = function (props) {\n    var record = useRecordContext(props);\n    var resource = useResourceContext(props);\n    var getRecordRepresentation = useGetRecordRepresentation(resource);\n    return React.createElement(React.Fragment, null, getRecordRepresentation(record));\n};\n//# sourceMappingURL=RecordRepresentation.js.map","import { createContext } from 'react';\n/**\n * Context to store the result of the useEditController() hook.\n *\n * Use the useEditContext() hook to read the context. That's what the Edit components do in react-admin.\n *\n * @example\n *\n * import { useEditController, EditContextProvider } from 'ra-core';\n *\n * const Edit = props => {\n *     const controllerProps = useEditController(props);\n *     return (\n *         <EditContextProvider value={controllerProps}>\n *             ...\n *         </EditContextProvider>\n *     );\n * };\n */\nexport var EditContext = createContext(null);\nEditContext.displayName = 'EditContext';\n//# sourceMappingURL=EditContext.js.map","import * as React from 'react';\nimport { RecordContextProvider } from \"../record/index.js\";\nimport { SaveContextProvider, usePickSaveContext } from \"../saveContext/index.js\";\nimport { EditContext } from \"./EditContext.js\";\n/**\n * Create an Edit Context.\n *\n * @example\n *\n * const MyEdit = (props) => {\n *     const controllerProps = useEditController(props);\n *     return (\n *         <EditContextProvider value={controllerProps}>\n *             <MyEditView>\n *         </EditContextProvider>\n *     );\n * };\n *\n * const MyEditView = () => {\n *     const record = useRecordContext();\n *     // or, to rerender only when the save operation change but not data\n *     const { saving } = useEditContext();\n * }\n *\n * @see EditContext\n * @see RecordContext\n */\nexport var EditContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(EditContext.Provider, { value: value },\n        React.createElement(SaveContextProvider, { value: usePickSaveContext(value) },\n            React.createElement(RecordContextProvider, { value: value && value.record }, children))));\n};\n//# sourceMappingURL=EditContextProvider.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useEditController, } from \"./useEditController.js\";\nimport { EditContextProvider } from \"./EditContextProvider.js\";\nimport { OptionalResourceContextProvider } from \"../../core/index.js\";\nimport { useIsAuthPending } from \"../../auth/index.js\";\n/**\n * Call useEditController and put the value in a EditContext\n *\n * Base class for <Edit> components, without UI.\n *\n * Accepts any props accepted by useEditController:\n * - id: The record identifier\n * - resource: The resource\n *\n * @example // Custom edit layout\n *\n * const PostEdit = () => (\n *     <EditBase resource=\"posts\">\n *         <Grid container>\n *             <Grid item xs={8}>\n *                 <SimpleForm>\n *                     ...\n *                 </SimpleForm>\n *             </Grid>\n *             <Grid item xs={4}>\n *                 Edit instructions...\n *             </Grid>\n *         </Grid>\n *         <div>\n *             Post related links...\n *         </div>\n *     </EditBase>\n * );\n */\nexport var EditBase = function (_a) {\n    var authLoading = _a.authLoading, loading = _a.loading, offline = _a.offline, error = _a.error, redirectOnError = _a.redirectOnError, children = _a.children, render = _a.render, props = __rest(_a, [\"authLoading\", \"loading\", \"offline\", \"error\", \"redirectOnError\", \"children\", \"render\"]);\n    var hasError = error !== false && error !== undefined;\n    var controllerProps = useEditController(__assign(__assign({}, props), { redirectOnError: redirectOnError !== null && redirectOnError !== void 0 ? redirectOnError : (hasError ? false : undefined) }));\n    var isAuthPending = useIsAuthPending({\n        resource: controllerProps.resource,\n        action: 'edit',\n    });\n    if (!render && !children) {\n        throw new Error(\"<EditBase> requires either a 'render' prop or 'children' prop\");\n    }\n    var isPaused = controllerProps.isPaused, isPending = controllerProps.isPending, errorState = controllerProps.error;\n    var showAuthLoading = isAuthPending &&\n        !props.disableAuthentication &&\n        authLoading !== false &&\n        authLoading !== undefined;\n    var showLoading = !isPaused &&\n        ((!props.disableAuthentication && isAuthPending) || isPending) &&\n        loading !== false &&\n        loading !== undefined;\n    var showOffline = isPaused && isPending && offline !== false && offline !== undefined;\n    var showError = errorState && hasError;\n    return (\n    // We pass props.resource here as we don't need to create a new ResourceContext if the props is not provided\n    React.createElement(OptionalResourceContextProvider, { value: props.resource },\n        React.createElement(EditContextProvider, { value: controllerProps }, showAuthLoading\n            ? authLoading\n            : showLoading\n                ? loading\n                : showOffline\n                    ? offline\n                    : showError\n                        ? error\n                        : render\n                            ? render(controllerProps)\n                            : children)));\n};\n//# sourceMappingURL=EditBase.js.map","import { useContext } from 'react';\nimport { EditContext } from \"./EditContext.js\";\n/**\n * Hook to read the edit controller props from the EditContext.\n *\n * Used within a <EditContextProvider> (e.g. as a descendent of <Edit>).\n *\n * @returns {EditControllerResult} edit controller props\n *\n * @see useEditController for how it is filled\n */\nexport var useEditContext = function () {\n    var context = useContext(EditContext);\n    if (!context) {\n        throw new Error('useEditContext must be used inside an EditContextProvider');\n    }\n    return context;\n};\n//# sourceMappingURL=useEditContext.js.map","import { createContext, useContext } from 'react';\nexport var ReferenceFieldContext = createContext(null);\nexport var ReferenceFieldContextProvider = ReferenceFieldContext.Provider;\nexport var useReferenceFieldContext = function () {\n    var context = useContext(ReferenceFieldContext);\n    if (!context) {\n        throw new Error('useReferenceFieldContext must be used inside a ReferenceFieldContextProvider');\n    }\n    return context;\n};\n//# sourceMappingURL=ReferenceFieldContext.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useGetManyAggregate } from \"../dataProvider/index.js\";\n/**\n * @typedef UseReferenceResult\n * @type {Object}\n * @property {boolean} isFetching: boolean indicating if the reference is loading\n * @property {boolean} isLoading: boolean indicating if the reference has loaded at least once\n * @property {Object} referenceRecord: the referenced record.\n */\n/**\n * Fetch reference record, and return it when available\n *\n * The reference prop should be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n *\n * const { isLoading, referenceRecord } = useReference({\n *     id: 7,\n *     reference: 'users',\n * });\n *\n * @param {Object} option\n * @param {string} option.reference The linked resource name\n * @param {string} option.id The id of the reference\n * @param {Object} option.options Options passed to the dataProvider\n *\n * @returns {UseReferenceResult} The reference record\n */\nexport var useReference = function (_a) {\n    var reference = _a.reference, id = _a.id, _b = _a.options, options = _b === void 0 ? {} : _b;\n    var meta = options.meta, otherQueryOptions = __rest(options, [\"meta\"]);\n    var _c = useGetManyAggregate(reference, { ids: [id], meta: meta }, otherQueryOptions), data = _c.data, error = _c.error, isLoading = _c.isLoading, isFetching = _c.isFetching, isPaused = _c.isPaused, isPending = _c.isPending, isPlaceholderData = _c.isPlaceholderData, refetch = _c.refetch;\n    return {\n        referenceRecord: error ? undefined : data ? data[0] : undefined,\n        refetch: refetch,\n        error: error,\n        isLoading: isLoading,\n        isFetching: isFetching,\n        isPaused: isPaused,\n        isPending: isPending,\n        isPlaceholderData: isPlaceholderData,\n    };\n};\n//# sourceMappingURL=useReference.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useMemo } from 'react';\nimport { useGetPathForRecord } from \"../../routing/index.js\";\nimport { useReference } from \"../useReference.js\";\nimport { useFieldValue } from \"../../util/index.js\";\nexport var useReferenceFieldController = function (options) {\n    var link = options.link, reference = options.reference, queryOptions = options.queryOptions;\n    if (!reference) {\n        throw new Error('useReferenceFieldController: missing reference prop. You must provide a reference, e.g. reference=\"posts\".');\n    }\n    var id = useFieldValue(options);\n    var referenceRecordQuery = useReference({\n        reference: reference,\n        id: id,\n        options: __assign(__assign({}, queryOptions), { enabled: ((queryOptions === null || queryOptions === void 0 ? void 0 : queryOptions.enabled) == null ||\n                (queryOptions === null || queryOptions === void 0 ? void 0 : queryOptions.enabled) === true) &&\n                id != null }),\n    });\n    var path = useGetPathForRecord({\n        record: referenceRecordQuery.referenceRecord,\n        resource: reference,\n        link: link,\n    });\n    var result = useMemo(function () {\n        return (__assign(__assign({}, referenceRecordQuery), { link: path }));\n    }, [path, referenceRecordQuery]);\n    return result;\n};\n//# sourceMappingURL=useReferenceFieldController.js.map","import * as React from 'react';\nimport { ReferenceFieldContextProvider } from \"./ReferenceFieldContext.js\";\nimport { useReferenceFieldController, } from \"./useReferenceFieldController.js\";\nimport { ResourceContextProvider } from \"../../core/index.js\";\nimport { RecordContextProvider } from \"../record/index.js\";\nimport { useFieldValue } from \"../../util/index.js\";\n/**\n * Fetch reference record, and render its representation, or delegate rendering to child component.\n *\n * The reference prop should be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example // using recordRepresentation\n * <ReferenceFieldBase source=\"userId\" reference=\"users\" />\n *\n * @example // using a Field component to represent the record\n * <ReferenceFieldBase source=\"userId\" reference=\"users\">\n *     <TextField source=\"name\" />\n * </ReferenceFieldBase>\n *\n * @example // By default, includes a link to the <Edit> page of the related record\n * // (`/users/:userId` in the previous example).\n * // Set the `link` prop to \"show\" to link to the <Show> page instead.\n * <ReferenceFieldBase source=\"userId\" reference=\"users\" link=\"show\" />\n *\n * @example // You can also prevent `<ReferenceFieldBase>` from adding link to children\n * // by setting `link` to false.\n * <ReferenceFieldBase source=\"userId\" reference=\"users\" link={false} />\n *\n * @example // Alternatively, you can also pass a custom function to `link`.\n * // It must take reference and record as arguments and return a string\n * <ReferenceFieldBase source=\"userId\" reference=\"users\" link={(record, reference) => \"/path/to/${reference}/${record}\"} />\n *\n * @default\n * In previous versions of React-Admin, the prop `linkType` was used. It is now deprecated and replaced with `link`. However\n * backward-compatibility is still kept\n */\nexport var ReferenceFieldBase = function (props) {\n    var children = props.children, render = props.render, loading = props.loading, error = props.error, empty = props.empty, offline = props.offline;\n    var id = useFieldValue(props);\n    var controllerProps = useReferenceFieldController(props);\n    if (!render && !children) {\n        throw new Error(\"<ReferenceFieldBase> requires either a 'render' prop or 'children' prop\");\n    }\n    var controllerError = controllerProps.error, isPending = controllerProps.isPending, isPaused = controllerProps.isPaused, referenceRecord = controllerProps.referenceRecord;\n    var shouldRenderLoading = id != null &&\n        !isPaused &&\n        isPending &&\n        loading !== false &&\n        loading !== undefined;\n    var shouldRenderOffline = isPaused && isPending && offline !== false && offline !== undefined;\n    var shouldRenderError = !!controllerError && error !== false && error !== undefined;\n    var shouldRenderEmpty = !isPaused &&\n        (!id ||\n            (!referenceRecord &&\n                !controllerError &&\n                !isPending &&\n                empty !== false &&\n                empty !== undefined));\n    return (React.createElement(ResourceContextProvider, { value: props.reference },\n        React.createElement(ReferenceFieldContextProvider, { value: controllerProps },\n            React.createElement(RecordContextProvider, { value: referenceRecord }, shouldRenderLoading\n                ? loading\n                : shouldRenderOffline\n                    ? offline\n                    : shouldRenderError\n                        ? error\n                        : shouldRenderEmpty\n                            ? empty\n                            : render\n                                ? render(controllerProps)\n                                : children))));\n};\n//# sourceMappingURL=ReferenceFieldBase.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { useQueryClient } from '@tanstack/react-query';\nimport get from 'lodash/get.js';\nimport isEqual from 'lodash/isEqual.js';\nimport lodashDebounce from 'lodash/debounce.js';\nimport { removeEmpty, useEvent } from \"../../util/index.js\";\nimport { useDataProvider, useGetManyReference } from \"../../dataProvider/index.js\";\nimport { useNotify } from \"../../notification/index.js\";\nimport usePaginationState from \"../usePaginationState.js\";\nimport { useRecordSelection } from \"../list/useRecordSelection.js\";\nimport useSortState from \"../useSortState.js\";\nimport { useResourceContext } from \"../../core/index.js\";\nimport { useRecordContext } from \"../record/index.js\";\n/**\n * Fetch reference records, and return them when available\n *\n * Uses dataProvider.getManyReference() internally.\n *\n * @example // fetch the comments related to the current post\n * const { isPending, data } = useReferenceManyFieldController({\n *     reference: 'comments',\n *     target: 'post_id',\n *     record: { id: 123, title: 'hello, world' },\n *     resource: 'posts',\n * });\n *\n * @param {Object} props\n * @param {string} props.reference The linked resource name. Required.\n * @param {string} props.target The target resource key. Required.\n * @param {Object} props.filter The filter applied on the recorded records list\n * @param {number} props.page the page number\n * @param {number} props.perPage the number of item per page\n * @param {Object} props.record The current resource record\n * @param {string} props.resource The current resource name\n * @param {Object} props.sort the sort to apply to the referenced records\n * @param {string} props.source The key of the linked resource identifier\n * @param {UseQuery Options} props.queryOptions `react-query` options`\n *\n * @returns {ListControllerResult} The reference many props\n */\nexport var useReferenceManyFieldController = function (props) {\n    var _a;\n    var _b = props.debounce, debounce = _b === void 0 ? 500 : _b, reference = props.reference, target = props.target, _c = props.filter, filter = _c === void 0 ? defaultFilter : _c, _d = props.source, source = _d === void 0 ? 'id' : _d, initialPage = props.page, initialPerPage = props.perPage, _e = props.sort, initialSort = _e === void 0 ? { field: 'id', order: 'DESC' } : _e, _f = props.queryOptions, queryOptions = _f === void 0 ? {} : _f;\n    var notify = useNotify();\n    var record = useRecordContext(props);\n    var resource = useResourceContext(props);\n    var dataProvider = useDataProvider();\n    var queryClient = useQueryClient();\n    var meta = queryOptions.meta, otherQueryOptions = __rest(queryOptions, [\"meta\"]);\n    // pagination logic\n    var _g = usePaginationState({\n        page: initialPage,\n        perPage: initialPerPage,\n    }), page = _g.page, setPage = _g.setPage, perPage = _g.perPage, setPerPage = _g.setPerPage;\n    // sort logic\n    var _h = useSortState(initialSort), sort = _h.sort, setSortState = _h.setSort;\n    var setSort = useCallback(function (sort) {\n        setSortState(sort);\n        setPage(1);\n    }, [setPage, setSortState]);\n    // selection logic\n    var _j = useRecordSelection({\n        resource: reference,\n        storeKey: (_a = props.storeKey) !== null && _a !== void 0 ? _a : \"\".concat(resource, \".\").concat(record === null || record === void 0 ? void 0 : record.id, \".\").concat(reference),\n    }), selectedIds = _j[0], selectionModifiers = _j[1];\n    var onUnselectItems = useCallback(function (fromAllStoreKeys) {\n        return selectionModifiers.unselect(selectedIds, fromAllStoreKeys);\n    }, [selectedIds, selectionModifiers]);\n    // filter logic\n    var filterRef = useRef(filter);\n    var _k = useState({}), displayedFilters = _k[0], setDisplayedFilters = _k[1];\n    var _l = useState(filter), filterValues = _l[0], setFilterValues = _l[1];\n    var hideFilter = useCallback(function (filterName) {\n        setDisplayedFilters(function (previousState) {\n            var _a = previousState, _b = filterName, _ = _a[_b], newState = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\n            return newState;\n        });\n        setFilterValues(function (previousState) {\n            var _a = previousState, _b = filterName, _ = _a[_b], newState = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\n            return newState;\n        });\n    }, [setDisplayedFilters, setFilterValues]);\n    var showFilter = useCallback(function (filterName, defaultValue) {\n        setDisplayedFilters(function (previousState) {\n            var _a;\n            return (__assign(__assign({}, previousState), (_a = {}, _a[filterName] = true, _a)));\n        });\n        setFilterValues(function (previousState) {\n            var _a;\n            return (__assign(__assign({}, previousState), (_a = {}, _a[filterName] = defaultValue, _a)));\n        });\n    }, [setDisplayedFilters, setFilterValues]);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    var debouncedSetFilters = useCallback(lodashDebounce(function (filters, displayedFilters) {\n        setFilterValues(removeEmpty(filters));\n        setDisplayedFilters(displayedFilters);\n        setPage(1);\n    }, debounce), [setDisplayedFilters, setFilterValues, setPage]);\n    var setFilters = useCallback(function (filters, displayedFilters, debounce) {\n        if (debounce === void 0) { debounce = false; }\n        if (debounce) {\n            debouncedSetFilters(filters, displayedFilters);\n        }\n        else {\n            setFilterValues(removeEmpty(filters));\n            setDisplayedFilters(displayedFilters);\n            setPage(1);\n        }\n    }, [setDisplayedFilters, setFilterValues, setPage, debouncedSetFilters]);\n    // handle filter prop change\n    useEffect(function () {\n        if (!isEqual(filter, filterRef.current)) {\n            filterRef.current = filter;\n            setFilterValues(filter);\n        }\n    }, [filter]);\n    var recordValue = get(record, source);\n    var _m = useGetManyReference(reference, {\n        target: target,\n        id: recordValue,\n        pagination: { page: page, perPage: perPage },\n        sort: sort,\n        filter: filterValues,\n        meta: meta,\n    }, __assign({ enabled: recordValue != null, placeholderData: function (previousData) { return previousData; }, onError: function (error) {\n            return notify(typeof error === 'string'\n                ? error\n                : (error === null || error === void 0 ? void 0 : error.message) ||\n                    'ra.notification.http_error', {\n                type: 'error',\n                messageArgs: {\n                    _: typeof error === 'string'\n                        ? error\n                        : (error === null || error === void 0 ? void 0 : error.message)\n                            ? error.message\n                            : undefined,\n                },\n            });\n        } }, otherQueryOptions)), data = _m.data, total = _m.total, responseMeta = _m.meta, pageInfo = _m.pageInfo, error = _m.error, isFetching = _m.isFetching, isLoading = _m.isLoading, isPaused = _m.isPaused, isPending = _m.isPending, isPlaceholderData = _m.isPlaceholderData, refetch = _m.refetch;\n    var onSelectAll = useEvent(function () {\n        var args_1 = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args_1[_i] = arguments[_i];\n        }\n        return __awaiter(void 0, __spreadArray([], args_1, true), void 0, function (_a) {\n            var meta, onSuccess, onError, results, allIds, error_1;\n            var _b;\n            var _c = _a === void 0 ? {} : _a, _d = _c.limit, limit = _d === void 0 ? 250 : _d, _e = _c.queryOptions, queryOptions = _e === void 0 ? {} : _e;\n            return __generator(this, function (_f) {\n                switch (_f.label) {\n                    case 0:\n                        meta = queryOptions.meta, onSuccess = queryOptions.onSuccess, onError = queryOptions.onError;\n                        _f.label = 1;\n                    case 1:\n                        _f.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, queryClient.fetchQuery({\n                                queryKey: [\n                                    resource,\n                                    'getManyReference',\n                                    {\n                                        target: target,\n                                        id: get(record, source),\n                                        pagination: { page: 1, perPage: limit },\n                                        sort: sort,\n                                        filter: filter,\n                                        meta: meta,\n                                    },\n                                ],\n                                queryFn: function () {\n                                    return dataProvider.getManyReference(reference, {\n                                        target: target,\n                                        id: get(record, source),\n                                        pagination: { page: 1, perPage: limit },\n                                        sort: sort,\n                                        filter: filter,\n                                        meta: meta,\n                                    });\n                                },\n                            })];\n                    case 2:\n                        results = _f.sent();\n                        allIds = ((_b = results.data) === null || _b === void 0 ? void 0 : _b.map(function (_a) {\n                            var id = _a.id;\n                            return id;\n                        })) || [];\n                        selectionModifiers.select(allIds);\n                        if (allIds.length === limit) {\n                            notify('ra.message.select_all_limit_reached', {\n                                messageArgs: { max: limit },\n                                type: 'warning',\n                            });\n                        }\n                        if (onSuccess) {\n                            onSuccess(results);\n                        }\n                        return [2 /*return*/, results.data];\n                    case 3:\n                        error_1 = _f.sent();\n                        if (onError) {\n                            onError(error_1);\n                        }\n                        notify('ra.notification.http_error', { type: 'warning' });\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    });\n    return {\n        sort: sort,\n        data: data,\n        meta: responseMeta,\n        defaultTitle: undefined,\n        displayedFilters: displayedFilters,\n        error: error,\n        filterValues: filterValues,\n        hideFilter: hideFilter,\n        isFetching: isFetching,\n        isLoading: isLoading,\n        isPaused: isPaused,\n        isPending: isPending,\n        isPlaceholderData: isPlaceholderData,\n        onSelect: selectionModifiers.select,\n        onSelectAll: onSelectAll,\n        onToggleItem: selectionModifiers.toggle,\n        onUnselectItems: onUnselectItems,\n        page: page,\n        perPage: perPage,\n        refetch: refetch,\n        resource: reference,\n        selectedIds: selectedIds,\n        setFilters: setFilters,\n        setPage: setPage,\n        setPerPage: setPerPage,\n        hasNextPage: pageInfo\n            ? pageInfo.hasNextPage\n            : total != null\n                ? page * perPage < total\n                : undefined,\n        hasPreviousPage: pageInfo ? pageInfo.hasPreviousPage : page > 1,\n        setSort: setSort,\n        showFilter: showFilter,\n        total: total,\n    };\n};\nvar defaultFilter = {};\n//# sourceMappingURL=useReferenceManyFieldController.js.map","import { useRef, useEffect, useState, useCallback } from 'react';\nimport isEqual from 'lodash/isEqual.js';\n// thanks Kent C Dodds for the following helpers\n/**\n * @deprecated use `useState` instead, since React no longer\n * issues warnings when calling setState on unmounted components.\n */\nexport function useSafeSetState(initialState) {\n    var _a = useState(initialState), state = _a[0], setState = _a[1];\n    var mountedRef = useRef(false);\n    useEffect(function () {\n        mountedRef.current = true;\n        return function () {\n            mountedRef.current = false;\n        };\n    }, []);\n    var safeSetState = useCallback(function (args) {\n        if (mountedRef.current) {\n            return setState(args);\n        }\n    }, [mountedRef, setState]);\n    return [state, safeSetState];\n}\nexport function usePrevious(value) {\n    var ref = useRef();\n    useEffect(function () {\n        ref.current = value;\n    });\n    return ref.current;\n}\nexport function useDeepCompareEffect(callback, inputs) {\n    var cleanupRef = useRef();\n    useEffect(function () {\n        if (!isEqual(previousInputs, inputs)) {\n            cleanupRef.current = callback();\n        }\n        return cleanupRef.current;\n    });\n    var previousInputs = usePrevious(inputs);\n}\n/**\n * A hook that returns true once a delay has expired.\n * @param ms The delay in milliseconds\n * @param key A key that can be used to reset the timer\n * @returns true if the delay has expired, false otherwise\n */\nexport function useTimeout(ms, key) {\n    if (ms === void 0) { ms = 0; }\n    if (key === void 0) { key = ''; }\n    var _a = useState(false), ready = _a[0], setReady = _a[1];\n    useEffect(function () {\n        setReady(false);\n        var timer = setTimeout(function () {\n            setReady(true);\n        }, ms);\n        return function () {\n            clearTimeout(timer);\n        };\n    }, [key, ms, setReady]);\n    return ready;\n}\nexport function useIsMounted() {\n    var isMounted = useRef(true);\n    useEffect(function () {\n        isMounted.current = true;\n        return function () {\n            isMounted.current = false;\n        };\n    }, []);\n    return isMounted;\n}\n//# sourceMappingURL=hooks.js.map","import { createContext, useMemo } from 'react';\nimport pick from 'lodash/pick.js';\n/**\n * Context to store the filter part of the useListController() result.\n *\n * Use the useListFilterContext() hook to read the context. That's what many\n * List components do in react-admin (e.g. <FilterForm>, <FilterListItem>).\n *\n * @typedef {Object} ListFilterContextValue\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @typedef Props\n * @prop {ListFilterContextValue} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListFilterContext\n *\n * @example\n *\n * import { useListController, usePickFilterContext, ListFilterContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListFilterContext.Provider value={usePickFilterContext(controllerProps)}>\n *             ...\n *         </ListFilterContext.Provider>\n *     );\n * };\n */\nexport var ListFilterContext = createContext(undefined);\nexport var usePickFilterContext = function (context) {\n    return useMemo(function () {\n        return pick(context, [\n            'displayedFilters',\n            'filterValues',\n            'hideFilter',\n            'setFilters',\n            'showFilter',\n            'resource',\n        ]);\n    }, \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        context.displayedFilters,\n        context.filterValues,\n        context.hideFilter,\n        context.setFilters,\n        context.showFilter,\n    ]);\n};\nListFilterContext.displayName = 'ListFilterContext';\n//# sourceMappingURL=ListFilterContext.js.map","import { createContext, useMemo } from 'react';\nimport pick from 'lodash/pick.js';\n/**\n * Context to store the sort part of the useListController() result.\n *\n * Use the useListSortContext() hook to read the context. That's what many\n * List components do in react-admin (e.g. <SortButton>).\n *\n * @typedef {Object} ListSortContextValue\n * @prop {Object}   sort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort({ field: 'name', order: 'ASC' })\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @typedef Props\n * @prop {ListSortContextValue} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListSortContext\n *\n * @example\n *\n * import { useListController, usePickSortContext, ListSortContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListSortContext.Provider value={usePickSortContext(controllerProps)}>\n *             ...\n *         </ListSortContext.Provider>\n *     );\n * };\n */\nexport var ListSortContext = createContext(undefined);\nexport var usePickSortContext = function (context) {\n    return useMemo(function () { return pick(context, ['sort', 'setSort', 'resource']); }, \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [context.sort, context.setSort]);\n};\nListSortContext.displayName = 'ListSortContext';\n//# sourceMappingURL=ListSortContext.js.map","import { createContext, useMemo } from 'react';\nimport pick from 'lodash/pick.js';\n/**\n * Context to store the pagination part of the useListController() result.\n *\n * Use the useListPaginationContext() hook to read the pagination information.\n * That's what List components do in react-admin (e.g. <Pagination>).\n *\n * @typedef {Object} ListPaginationContextValue\n * @prop {boolean}  isLoading boolean that is false until the data is available\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {Boolean}  hasPreviousPage true if the current page is not the first one\n * @prop {Boolean}  hasNextPage true if the current page is not the last one\n\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @typedef Props\n * @prop {ListPaginationContextValue} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListContext\n *\n * @example\n *\n * import { useListController, ListPaginationContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListPaginationContext.Provider value={controllerProps}>\n *             ...\n *         </ListPaginationContext.Provider>\n *     );\n * };\n */\nexport var ListPaginationContext = createContext(undefined);\nListPaginationContext.displayName = 'ListPaginationContext';\nexport var usePickPaginationContext = function (context) {\n    return useMemo(function () {\n        return pick(context, [\n            'isLoading',\n            'isPending',\n            'hasPreviousPage',\n            'hasNextPage',\n            'page',\n            'perPage',\n            'setPage',\n            'setPerPage',\n            'total',\n            'resource',\n        ]);\n    }, \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        context.isLoading,\n        context.isPending,\n        context.hasPreviousPage,\n        context.hasNextPage,\n        context.page,\n        context.perPage,\n        context.setPage,\n        context.setPerPage,\n        context.total,\n    ]);\n};\n//# sourceMappingURL=ListPaginationContext.js.map","import * as React from 'react';\nimport { ListContext } from \"./ListContext.js\";\nimport { ListFilterContext, usePickFilterContext } from \"./ListFilterContext.js\";\nimport { ListSortContext, usePickSortContext } from \"./ListSortContext.js\";\nimport { ListPaginationContext, usePickPaginationContext, } from \"./ListPaginationContext.js\";\n/**\n * Create a List Context and several thematic List subcontext.\n *\n * Allows children to subscribe to part of the ListContext, and bail out of\n * rendering when some parts of the context that they don't depend on change\n * (because unfortunately React doesn't allow to use context selectors yet).\n *\n * @example\n *\n * const MyList = (props) => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListContextProvider value={controllerProps}>\n *             <MyListView>\n *         </ListContextProvider>\n *     );\n * };\n *\n * const MyListView = () => {\n *     const { data, filterValues, setFilters } = useListContext();\n *     // or, to rerender only when filters change but not data\n *     const { filterValues, setFilters } = useListFilterContext();\n * }\n *\n * @see ListContext\n * @see ListFilterContext\n */\nexport var ListContextProvider = function (_a) {\n    var value = _a.value, children = _a.children;\n    return (React.createElement(ListContext.Provider, { value: value },\n        React.createElement(ListFilterContext.Provider, { value: usePickFilterContext(value) },\n            React.createElement(ListSortContext.Provider, { value: usePickSortContext(value) },\n                React.createElement(ListPaginationContext.Provider, { value: usePickPaginationContext(value) }, children)))));\n};\n//# sourceMappingURL=ListContextProvider.js.map","import React from 'react';\nimport { ResourceContextProvider } from \"../../core/index.js\";\nimport { ListContextProvider } from \"../list/ListContextProvider.js\";\nimport { useReferenceManyFieldController, } from \"./useReferenceManyFieldController.js\";\n/**\n * Render related records to the current one.\n *\n * You must define the fields to be passed to the iterator component as children.\n *\n * @example Display all the comments of the current post as a datagrid\n * <ReferenceManyFieldBase reference=\"comments\" target=\"post_id\">\n *     <Datagrid>\n *         <TextField source=\"id\" />\n *         <TextField source=\"body\" />\n *         <DateField source=\"created_at\" />\n *         <EditButton />\n *     </Datagrid>\n * </ReferenceManyFieldBase>\n *\n * @example Display all the books by the current author, only the title\n * <ReferenceManyFieldBase reference=\"books\" target=\"author_id\">\n *     <SingleFieldList>\n *         <ChipField source=\"title\" />\n *     </SingleFieldList>\n * </ReferenceManyFieldBase>\n *\n * By default, restricts the displayed values to 25. You can extend this limit\n * by setting the `perPage` prop.\n *\n * @example\n * <ReferenceManyFieldBase perPage={10} reference=\"comments\" target=\"post_id\">\n *    ...\n * </ReferenceManyFieldBase>\n *\n * By default, orders the possible values by id desc. You can change this order\n * by setting the `sort` prop (an object with `field` and `order` properties).\n *\n * @example\n * <ReferenceManyFieldBase sort={{ field: 'created_at', order: 'DESC' }} reference=\"comments\" target=\"post_id\">\n *    ...\n * </ReferenceManyFieldBase>\n *\n * Also, you can filter the query used to populate the possible values. Use the\n * `filter` prop for that.\n *\n * @example\n * <ReferenceManyFieldBase filter={{ is_published: true }} reference=\"comments\" target=\"post_id\">\n *    ...\n * </ReferenceManyFieldBase>\n */\nexport var ReferenceManyFieldBase = function (props) {\n    var children = props.children, render = props.render, debounce = props.debounce, empty = props.empty, error = props.error, loading = props.loading, _a = props.filter, filter = _a === void 0 ? defaultFilter : _a, offline = props.offline, _b = props.page, page = _b === void 0 ? 1 : _b, _c = props.perPage, perPage = _c === void 0 ? 25 : _c, record = props.record, reference = props.reference, resource = props.resource, _d = props.sort, sort = _d === void 0 ? defaultSort : _d, _e = props.source, source = _e === void 0 ? 'id' : _e, storeKey = props.storeKey, target = props.target, queryOptions = props.queryOptions;\n    var controllerProps = useReferenceManyFieldController({\n        debounce: debounce,\n        filter: filter,\n        page: page,\n        perPage: perPage,\n        record: record,\n        reference: reference,\n        resource: resource,\n        sort: sort,\n        source: source,\n        storeKey: storeKey,\n        target: target,\n        queryOptions: queryOptions,\n    });\n    if (!render && !children) {\n        throw new Error(\"<ReferenceManyFieldBase> requires either a 'render' prop or 'children' prop\");\n    }\n    var data = controllerProps.data, controllerError = controllerProps.error, filterValues = controllerProps.filterValues, hasNextPage = controllerProps.hasNextPage, hasPreviousPage = controllerProps.hasPreviousPage, isPaused = controllerProps.isPaused, isPending = controllerProps.isPending, isPlaceholderData = controllerProps.isPlaceholderData, total = controllerProps.total;\n    var shouldRenderLoading = isPending && !isPaused && loading !== false && loading !== undefined;\n    var shouldRenderOffline = isPaused &&\n        (isPending || isPlaceholderData) &&\n        offline !== false &&\n        offline !== undefined;\n    var shouldRenderError = controllerError && error !== false && error !== undefined;\n    var shouldRenderEmpty = empty !== false &&\n        empty !== undefined &&\n        // there is no error\n        !error &&\n        // the list is not loading data for the first time\n        !isPending &&\n        // the API returned no data (using either normal or partial pagination)\n        (total === 0 ||\n            (total == null &&\n                // @ts-ignore FIXME total may be undefined when using partial pagination but the ListControllerResult type is wrong about it\n                hasPreviousPage === false &&\n                // @ts-ignore FIXME total may be undefined when using partial pagination but the ListControllerResult type is wrong about it\n                hasNextPage === false &&\n                // @ts-ignore FIXME total may be undefined when using partial pagination but the ListControllerResult type is wrong about it\n                data.length === 0)) &&\n        // the user didn't set any filters\n        !Object.keys(filterValues).length;\n    return (React.createElement(ResourceContextProvider, { value: reference },\n        React.createElement(ListContextProvider, { value: controllerProps }, shouldRenderLoading\n            ? loading\n            : shouldRenderOffline\n                ? offline\n                : shouldRenderError\n                    ? error\n                    : shouldRenderEmpty\n                        ? empty\n                        : render\n                            ? render(controllerProps)\n                            : children)));\n};\nvar defaultFilter = {};\nvar defaultSort = { field: 'id', order: 'DESC' };\n//# sourceMappingURL=ReferenceManyFieldBase.js.map","import * as React from 'react';\n/**\n * Make filters accessible to sub components\n */\nexport var FilterContext = React.createContext(undefined);\n//# sourceMappingURL=FilterContext.js.map","/* jshint node:true */\n  'use strict';\n\n  module.exports = \"\\n\";\n  ","'use strict';\n\nmodule.exports.isFunction = function (fn) {\n    var getType = {};\n    return fn && getType.toString.call(fn) === '[object Function]';\n};\n\nmodule.exports.isArray = function (arr) {\n    return Array.isArray(arr);\n};\n\nmodule.exports.isObject = function (obj) {\n    return obj instanceof Object;\n};\n\nmodule.exports.isString = function (str) {\n    return typeof str === 'string';\n};\n\nmodule.exports.isNumber = function (num) {\n    return typeof num === 'number';\n};\n\nmodule.exports.isBoolean = function (bool) {\n    return typeof bool === 'boolean';\n};\n\nmodule.exports.isDate = function (date) {\n    return date instanceof Date;\n};","'use strict';\n\nvar EOL = require('./eol');\nvar helper = require('./helper');\n\nmodule.exports = function joinRows(rows, join) {\n  if (!rows || !helper.isArray(rows)) {\n    throw new TypeError('Invalid params \"rows\" for joinRows.' + ' Must be an array of string.');\n  }\n  //Merge all rows in a single output with the correct End of Line string\n  var r = rows.join(join || EOL || '\\n');\n  return r;\n};","/* jshint node:true */\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar helper = require('../core/helper');\n\nvar Handler = function () {\n  function Handler(options) {\n    _classCallCheck(this, Handler);\n\n    this._options = options;\n\n    // an object of {typeName:(value,index,parent)=>any}\n    this._options.typeHandlers = this._options.typeHandlers || {};\n  }\n\n  /**\n   * Check if results needing mapping to alternate value\n   *\n   * @returns [{item, value}] result\n   */\n\n\n  _createClass(Handler, [{\n    key: '_setHeaders',\n    value: function _setHeaders(result, item) {\n      var self = this;\n      if (!item) return result;\n      return result.map(function (element) {\n        element.item = element.item ? item + self._options.headerPathString + element.item : item;\n        return element;\n      });\n    }\n  }, {\n    key: 'castValue',\n    value: function castValue(element, item, index, parent) {\n      //cast by matching constructor\n      var types = this._options.typeHandlers;\n      for (var type in types) {\n        if (isInstanceOfTypeName(element, type)) {\n          element = types[type].call(types, element, index, parent);\n          break; //first match we move on\n        }\n      }\n\n      return element;\n    }\n  }, {\n    key: 'checkComplex',\n    value: function checkComplex(element, item) {\n      //Check if element is a Date\n      if (helper.isDate(element)) {\n        return [{\n          item: item,\n          value: (this._options.handleDate || this._handleDate)(element, item)\n        }];\n      }\n      //Check if element is an Array\n      else if (helper.isArray(element)) {\n          var resultArray = this._handleArray(element, item);\n          return this._setHeaders(resultArray, item);\n        }\n        //Check if element is a Object\n        else if (helper.isObject(element)) {\n            var resultObject = this._handleObject(element);\n            return this._setHeaders(resultObject, item);\n          }\n\n      return [{\n        item: item,\n        value: ''\n      }];\n    }\n\n    /**\n     * Check the element type of the element call the correct handle function\n     *\n     * @param element Element that will be checked\n     * @param item Used to make the headers/path breadcrumb\n     * @returns [{item, value}] result\n     */\n\n  }, {\n    key: 'check',\n    value: function check(element, item, index, parent) {\n      element = this.castValue(element, item, index, parent);\n      // try simple value by highier performance switch\n      switch (typeof element === 'undefined' ? 'undefined' : _typeof(element)) {\n        case 'string':\n          return [{\n            item: item,\n            value: this._handleString(element, item)\n          }];\n\n        case 'number':\n          return [{\n            item: item,\n            value: this._handleNumber(element, item)\n          }];\n\n        case 'boolean':\n          return [{\n            item: item,\n            value: this._handleBoolean.bind(this)(element, item)\n          }];\n      }\n\n      return this.checkComplex(element, item);\n    }\n\n    /**\n     * Handle all Objects\n     *\n     * @param {Object} obj\n     * @returns [{item, value}] result\n     */\n\n  }, {\n    key: '_handleObject',\n    value: function _handleObject(obj) {\n      var result = [];\n      //Look every object props\n      for (var prop in obj) {\n        var propData = obj[prop];\n        //Check the propData type\n        var resultCheckType = this.check(propData, prop, prop, obj);\n        //Append to results aka merge results aka array-append-array\n        result = result.concat(resultCheckType);\n      }\n      return result;\n    }\n\n    /**\n     * Handle all Arrays, merges arrays with primitive types in a single value\n     *\n     * @param {Array} array\n     * @returns [{item, value}] result\n     */\n\n  }, {\n    key: '_handleArray',\n    value: function _handleArray(array) {\n      var self = this;\n      var result = [];\n      var firstElementWithoutItem;\n      for (var aIndex = 0; aIndex < array.length; ++aIndex) {\n        var element = array[aIndex];\n        //Check the propData type\n        var resultCheckType = self.check(element, null, aIndex, array);\n        //Check for results without itens, merge all itens with the first occurrence\n        if (resultCheckType.length === 0) continue;\n        var firstResult = resultCheckType[0];\n        if (!firstResult.item && firstElementWithoutItem !== undefined) {\n          firstElementWithoutItem.value += self._options.arrayPathString + firstResult.value;\n          continue;\n        } else if (resultCheckType.length > 0 && !firstResult.item && firstElementWithoutItem === undefined) {\n          firstElementWithoutItem = firstResult;\n        }\n        //Append to results\n        result = result.concat(resultCheckType);\n      }\n      return result;\n    }\n    /**\n     * Handle all Boolean variables, can be replaced with options.handleBoolean\n     *\n     * @param {Boolean} boolean\n     * @returns {String} result\n     */\n\n  }, {\n    key: '_handleBoolean',\n    value: function _handleBoolean(boolean) {\n      var result;\n      //Check for booolean options\n      if (boolean) {\n        result = this._options.booleanTrueString || 'true';\n      } else {\n        result = this._options.booleanFalseString || 'false';\n      }\n      return result;\n    }\n    /**\n     * Handle all String variables, can be replaced with options.handleString\n     *\n     * @param {String} string\n     * @returns {String} string\n     */\n\n  }, {\n    key: '_handleString',\n    value: function _handleString(string) {\n      return string;\n    }\n    /**\n     * Handle all Number variables, can be replaced with options.handleNumber\n     *\n     * @param {Number} number\n     * @returns {Number} number\n     */\n\n  }, {\n    key: '_handleNumber',\n    value: function _handleNumber(number) {\n      return number;\n    }\n    /**\n     * Handle all Date variables, can be replaced with options.handleDate\n     *\n     * @param {Date} number\n     * @returns {string} result\n     */\n\n  }, {\n    key: '_handleDate',\n    value: function _handleDate(date) {\n      return date.toLocaleDateString();\n    }\n  }]);\n\n  return Handler;\n}();\n\nmodule.exports = Handler;\n\nvar globalScope = typeof window === \"undefined\" ? global : window;\nfunction isInstanceOfTypeName(element, typeName) {\n  if (element instanceof globalScope[typeName]) {\n    return true; //Buffer and complex objects\n  }\n\n  //literals in javascript cannot be checked by instance of\n  switch (typeof element === 'undefined' ? 'undefined' : _typeof(element)) {\n    case 'string':\n      return typeName === \"String\";\n    case 'boolean':\n      return typeName === \"Boolean\";\n    case 'number':\n      return typeName === \"Number\";\n  }\n\n  return false;\n}","/* jshint node:true */\n'use strict';\n\n// Escape the textDelimiters contained in the field\n/*(https://tools.ietf.org/html/rfc4180)\n   7.  If double-quotes are used to enclose fields, then a double-quote\n   appearing inside a field must be escaped by preceding it with\n   another double quote.\n   For example: \"aaa\",\"b\"\"bb\",\"ccc\"\n*/\n\nmodule.exports = function escapedDelimiters(textDelimiter, rowDelimiter, forceTextDelimiter) {\n  var endOfLine = '\\n';\n\n  if (typeof textDelimiter !== 'string') {\n    throw new TypeError('Invalid param \"textDelimiter\", must be a string.');\n  }\n\n  if (typeof rowDelimiter !== 'string') {\n    throw new TypeError('Invalid param \"rowDelimiter\", must be a string.');\n  }\n\n  var textDelimiterRegex = new RegExp(\"\\\\\" + textDelimiter, 'g');\n  var escapedDelimiter = textDelimiter + textDelimiter;\n\n  var enclosingCondition = textDelimiter === '\"' ? function (value) {\n    return value.indexOf(rowDelimiter) >= 0 || value.indexOf(endOfLine) >= 0 || value.indexOf('\"') >= 0;\n  } : function (value) {\n    return value.indexOf(rowDelimiter) >= 0 || value.indexOf(endOfLine) >= 0;\n  };\n\n  return function (value) {\n    if (forceTextDelimiter) value = \"\" + value;\n\n    if (!value.replace) return value;\n    // Escape the textDelimiters contained in the field\n    value = value.replace(textDelimiterRegex, escapedDelimiter);\n\n    // Escape the whole field if it contains a rowDelimiter or a linebreak or double quote\n    if (forceTextDelimiter || enclosingCondition(value)) {\n      value = textDelimiter + value + textDelimiter;\n    }\n\n    return value;\n  };\n};","/* jshint node:true */\n'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar joinRows = require('../core/join-rows');\nvar Handler = require('./handler');\nvar helper = require('../core/helper');\n\nvar Parser = function () {\n  function Parser(options) {\n    _classCallCheck(this, Parser);\n\n    this._options = options || {};\n    this._handler = new Handler(this._options);\n    this._headers = this._options.headers || [];\n    this._escape = require('../core/escape-delimiters')(this._options.textDelimiter, this._options.rowDelimiter, this._options.forceTextDelimiter);\n  }\n\n  /**\n   * Generates a CSV file with optional headers based on the passed JSON,\n   * with can be an Object or Array.\n   *\n   * @param {Object|Array} json\n   * @param {Function} done(err,csv) - Callback function\n   *      if error, returning error in call back.\n   *      if csv is created successfully, returning csv output to callback.\n   */\n\n\n  _createClass(Parser, [{\n    key: 'parse',\n    value: function parse(json, done, stream) {\n      if (helper.isArray(json)) return done(null, this._parseArray(json, stream));else if (helper.isObject(json)) return done(null, this._parseObject(json));\n      return done(new Error('Unable to parse the JSON object, its not an Array or Object.'));\n    }\n  }, {\n    key: '_checkRows',\n    value: function _checkRows(rows) {\n      var lastRow = null;\n      var finalRows = [];\n      var fillGaps = function fillGaps(col, index) {\n        return col === '' || col === undefined ? lastRow[index] : col;\n      };\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = rows[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var row = _step.value;\n\n          var missing = this._headers.length - row.length;\n          if (missing > 0) row = row.concat(Array(missing).join(\".\").split(\".\"));\n          if (lastRow && this._options.fillGaps) row = row.map(fillGaps);\n          finalRows.push(row.join(this._options.rowDelimiter));\n          lastRow = row;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return finalRows;\n    }\n  }, {\n    key: '_parseArray',\n    value: function _parseArray(json, stream) {\n      var self = this;\n      this._headers = this._headers || [];\n      var fileRows = [];\n      var outputFile = void 0;\n      var fillRows = void 0;\n\n      var getHeaderIndex = function getHeaderIndex(header) {\n        var index = self._headers.indexOf(header);\n        if (index === -1) {\n          self._headers.push(header);\n          index = self._headers.indexOf(header);\n        }\n        return index;\n      };\n\n      //Generate the csv output\n      fillRows = function fillRows(result) {\n        var rows = [];\n        var fillAndPush = function fillAndPush(row) {\n          return rows.push(row.map(function (col) {\n            return col != null ? col : '';\n          }));\n        };\n        // initialize the array with empty strings to handle 'unpopular' headers\n        var newRow = function newRow() {\n          return new Array(self._headers.length).fill(null);\n        };\n        var emptyRowIndexByHeader = {};\n        var currentRow = newRow();\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = result[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var element = _step2.value;\n\n            var elementHeaderIndex = getHeaderIndex(element.item);\n            if (currentRow[elementHeaderIndex] != undefined) {\n              fillAndPush(currentRow);\n              currentRow = newRow();\n            }\n            emptyRowIndexByHeader[elementHeaderIndex] = emptyRowIndexByHeader[elementHeaderIndex] || 0;\n            // make sure there isn't a empty row for this header\n            if (self._options.fillTopRow && emptyRowIndexByHeader[elementHeaderIndex] < rows.length) {\n              rows[emptyRowIndexByHeader[elementHeaderIndex]][elementHeaderIndex] = self._escape(element.value);\n              emptyRowIndexByHeader[elementHeaderIndex] += 1;\n              continue;\n            }\n            currentRow[elementHeaderIndex] = self._escape(element.value);\n            emptyRowIndexByHeader[elementHeaderIndex] += 1;\n          }\n          // push last row\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n\n        if (currentRow.length > 0) {\n          fillAndPush(currentRow);\n        }\n        fileRows = fileRows.concat(self._checkRows(rows));\n      };\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = json[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var item = _step3.value;\n\n          //Call checkType to list all items inside this object\n          //Items are returned as a object {item: 'Prop Value, Item Name', value: 'Prop Data Value'}\n          var itemResult = self._handler.check(item, self._options.mainPathItem, item, json);\n          fillRows(itemResult);\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      if (!stream && self._options.includeHeaders) {\n        //Add the headers to the first line\n        fileRows.unshift(this.headers);\n      }\n\n      return joinRows(fileRows, self._options.endOfLine);\n    }\n  }, {\n    key: '_parseObject',\n    value: function _parseObject(json) {\n      var self = this;\n      var fileRows = [];\n      var parseResult = [];\n      var outputFile = void 0;\n      var fillRows = void 0;\n      var horizontalRows = [[], []];\n\n      fillRows = function fillRows(result) {\n        var value = result.value || result.value === 0 ? result.value.toString() : self._options.undefinedString;\n        value = self._escape(value);\n\n        //Type header;value\n        if (self._options.verticalOutput) {\n          var row = [result.item, value];\n          fileRows.push(row.join(self._options.rowDelimiter));\n        } else {\n          horizontalRows[0].push(result.item);\n          horizontalRows[1].push(value);\n        }\n      };\n      for (var prop in json) {\n        var prefix = \"\";\n        if (this._options.mainPathItem) prefix = this._options.mainPathItem + this._options.headerPathString;\n        parseResult = this._handler.check(json[prop], prefix + prop, prop, json);\n\n        parseResult.forEach(fillRows);\n      }\n      if (!this._options.verticalOutput) {\n        fileRows.push(horizontalRows[0].join(this._options.rowDelimiter));\n        fileRows.push(horizontalRows[1].join(this._options.rowDelimiter));\n      }\n      return joinRows(fileRows, this._options.endOfLine);\n    }\n  }, {\n    key: 'headers',\n    get: function get() {\n      var _this = this;\n\n      var headers = this._headers;\n\n      if (this._options.rename && this._options.rename.length > 0) headers = headers.map(function (header) {\n        return _this._options.rename[_this._options.headers.indexOf(header)] || header;\n      });\n\n      if (this._options.forceTextDelimiter) {\n        headers = headers.map(function (header) {\n          return '' + _this._options.textDelimiter + header + _this._options.textDelimiter;\n        });\n      }\n\n      if (this._options.mapHeaders) headers = headers.map(this._options.mapHeaders);\n\n      return headers.join(this._options.rowDelimiter);\n    }\n  }]);\n\n  return Parser;\n}();\n\nmodule.exports = Parser;","/* jshint node:true */\n  'use strict';\n\n  var Stream = function (_Transform) {\n    throw new Error(\"jsonexport called without third argument as a callback and is required\")\n  }\n\n  module.exports = Stream;\n  ","/* jshint node:true */\n'use strict';\n/**\n * Module dependencies.\n */\n//const _ = require('underscore');\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar Parser = require('./parser/csv');\nvar Stream = require('./core/stream');\nvar helper = require('./core/helper');\nvar EOL = require('./core/eol');\n\n/**\n * Main function that converts json to csv\n *\n * @param {Object|Array} json\n * @param {Object} [options]\n * @param {Function} callback(err, csv) - Callback function\n *      if error, returning error in call back.\n *      if csv is created successfully, returning csv output to callback.\n */\nmodule.exports = function () {\n  var DEFAULT_OPTIONS = {\n    headers: [], //              Array\n    rename: [], //               Array\n    headerPathString: '.', //    String\n    rowDelimiter: ',', //        String\n    textDelimiter: '\"', //       String\n    arrayPathString: ';', //     String\n    undefinedString: '', //      String\n    endOfLine: EOL || '\\n', //   String\n    mainPathItem: null, //       String\n    booleanTrueString: null, //  String\n    booleanFalseString: null, // String\n    includeHeaders: true, //     Boolean\n    fillGaps: false, //          Boolean\n    verticalOutput: true, //     Boolean\n    forceTextDelimiter: false //Boolean\n  };\n  // argument parsing\n  var json = void 0,\n      userOptions = void 0,\n      callback = void 0;\n  if (arguments.length === 3) {\n    var _arguments = Array.prototype.slice.call(arguments);\n\n    json = _arguments[0];\n    userOptions = _arguments[1];\n    callback = _arguments[2];\n  } else if (arguments.length === 2) {\n    var any = void 0;\n\n    var _arguments2 = Array.prototype.slice.call(arguments);\n\n    json = _arguments2[0];\n    any = _arguments2[1];\n\n    if (typeof any === 'function') {\n      callback = any;\n    } else if ((typeof any === 'undefined' ? 'undefined' : _typeof(any)) === 'object') {\n      userOptions = any;\n    }\n  } else if (arguments.length === 1) {\n    var _arguments3 = Array.prototype.slice.call(arguments),\n        _any = _arguments3[0];\n\n    if ((typeof _any === 'undefined' ? 'undefined' : _typeof(_any)) === 'object') {\n      var defaultKeys = Object.keys(DEFAULT_OPTIONS);\n      var objectKeys = Object.keys(_any);\n      var isOptions = objectKeys.every(function (key) {\n        return defaultKeys.includes(key);\n      });\n      if (objectKeys.length > 0 && isOptions) {\n        userOptions = _any;\n      } else {\n        json = _any;\n      }\n    } else {\n      json = _any;\n    }\n  } else {\n    return new Stream(new Parser(DEFAULT_OPTIONS));\n  }\n  var options = Object.assign({}, DEFAULT_OPTIONS, userOptions);\n  var parser = new Parser(options);\n  // if no json is provided Stream API will be used\n  if (!json) {\n    return new Stream(parser);\n  }\n  // always return an promise\n  return new Promise(function (resolve, reject) {\n    parser.parse(json, function (err, result) {\n      if (callback) return callback(err, result);\n      if (err) return reject(err);\n      if (reject) return resolve(result);\n    });\n  });\n};","export var downloadCSV = function (csv, filename) {\n    if (filename === void 0) { filename = 'export'; }\n    var fakeLink = document.createElement('a');\n    fakeLink.style.display = 'none';\n    document.body.appendChild(fakeLink);\n    var blob = new Blob([csv], { type: 'text/csv;charset=utf-8' });\n    // @ts-ignore\n    if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n        // Manage IE11+ & Edge\n        // @ts-ignore\n        window.navigator.msSaveOrOpenBlob(blob, \"\".concat(filename, \".csv\"));\n    }\n    else {\n        fakeLink.setAttribute('href', URL.createObjectURL(blob));\n        fakeLink.setAttribute('download', \"\".concat(filename, \".csv\"));\n        fakeLink.click();\n    }\n};\n//# sourceMappingURL=downloadCSV.js.map","import jsonExport from 'jsonexport/dist/index.js';\nimport { downloadCSV } from \"./downloadCSV.js\";\nexport var defaultExporter = function (data, _, __, resource) {\n    return jsonExport(data, function (err, csv) { return downloadCSV(csv, resource); });\n};\n//# sourceMappingURL=defaultExporter.js.map","/**\n * Extracts, aggregates and deduplicates the ids of related records\n *\n * @example\n *     const books = [\n *         { id: 1, author_id: 123, title: 'Pride and Prejudice' },\n *         { id: 2, author_id: 123, title: 'Sense and Sensibility' },\n *         { id: 3, author_id: 456, title: 'War and Peace' },\n *     ];\n *     getRelatedIds(books, 'author_id'); => [123, 456]\n *\n * @example\n *     const books = [\n *         { id: 1, tag_ids: [1, 2], title: 'Pride and Prejudice' },\n *         { id: 2, tag_ids: [2, 3], title: 'Sense and Sensibility' },\n *         { id: 3, tag_ids: [4], title: 'War and Peace' },\n *     ];\n *     getRelatedIds(records, 'tag_ids'); => [1, 2, 3, 4]\n *\n * @param {Object[]} records An array of records\n * @param {string} field the identifier of the record field to use\n */\nexport var getRelatedIds = function (records, field) {\n    return Array.from(new Set(records\n        .filter(function (record) { return record[field] != null; })\n        .map(function (record) { return record[field]; })\n        .reduce(function (ids, value) { return ids.concat(value); }, [])));\n};\n//# sourceMappingURL=getRelatedIds.js.map","import { getRelatedIds } from \"./getRelatedIds.js\";\n/**\n * Helper function for calling the dataProvider.getMany() method,\n * and getting a Promise for the records indexed by id in return.\n *\n * @example\n *     fetchRelatedRecords(dataProvider)(records, 'post_id', 'posts').then(posts =>\n *         posts.map(record => ({\n *             ...record,\n *             post_title: posts[record.post_id].title,\n *         }))\n *     );\n */\nexport var fetchRelatedRecords = function (dataProvider) {\n    return function (data, field, resource) {\n        return dataProvider\n            .getMany(resource, { ids: getRelatedIds(data, field) })\n            .then(function (_a) {\n            var data = _a.data;\n            return data.reduce(function (acc, post) {\n                acc[post.id] = post;\n                return acc;\n            }, {});\n        });\n    };\n};\n//# sourceMappingURL=fetchRelatedRecords.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useCallback, useMemo, useEffect, useState, useRef } from 'react';\nimport { parse, stringify } from 'query-string';\nimport lodashDebounce from 'lodash/debounce.js';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useStore } from \"../../store/index.js\";\nimport queryReducer, { SET_FILTER, HIDE_FILTER, SHOW_FILTER, SET_PAGE, SET_PER_PAGE, SET_SORT, SORT_ASC, } from \"./queryReducer.js\";\nimport removeEmpty from \"../../util/removeEmpty.js\";\nimport { useIsMounted } from \"../../util/hooks.js\";\n/**\n * Get the list parameters (page, sort, filters) and modifiers.\n *\n * These parameters are merged from 3 sources:\n *   - the query string from the URL\n *   - the params stored in the state (from previous navigation)\n *   - the options passed to the hook (including the filter defaultValues)\n *\n * @returns {Array} A tuple [parameters, modifiers].\n * Destructure as [\n *    { page, perPage, sort, order, filter, filterValues, displayedFilters, requestSignature },\n *    { setFilters, hideFilter, showFilter, setPage, setPerPage, setSort }\n * ]\n *\n * @example\n *\n * const [listParams, listParamsActions] = useListParams({\n *      resource: 'posts',\n *      location: location // From react-router. Injected to your component by react-admin inside a List\n *      filterDefaultValues: {\n *          published: true\n *      },\n *      sort: {\n *          field: 'published_at',\n *          order: 'DESC'\n *      },\n *      perPage: 25\n * });\n *\n * const {\n *      page,\n *      perPage,\n *      sort,\n *      order,\n *      filter,\n *      filterValues,\n *      displayedFilters,\n *      requestSignature\n * } = listParams;\n *\n * const {\n *      setFilters,\n *      hideFilter,\n *      showFilter,\n *      setPage,\n *      setPerPage,\n *      setSort,\n * } = listParamsActions;\n */\nexport var useListParams = function (_a) {\n    var _b = _a.debounce, debounce = _b === void 0 ? 500 : _b, _c = _a.disableSyncWithLocation, disableSyncWithLocation = _c === void 0 ? false : _c, filterDefaultValues = _a.filterDefaultValues, _d = _a.perPage, perPage = _d === void 0 ? 10 : _d, resource = _a.resource, _e = _a.sort, sort = _e === void 0 ? defaultSort : _e, _f = _a.storeKey, storeKey = _f === void 0 ? disableSyncWithLocation ? false : \"\".concat(resource, \".listParams\") : _f;\n    var location = useLocation();\n    var navigate = useNavigate();\n    var _g = useState(defaultParams), localParams = _g[0], setLocalParams = _g[1];\n    // As we can't conditionally call a hook, if the storeKey is false,\n    // we'll ignore the params variable later on and won't call setParams either.\n    var _h = useStore(storeKey || \"\".concat(resource, \".listParams\"), defaultParams), params = _h[0], setParams = _h[1];\n    var tempParams = useRef();\n    var isMounted = useIsMounted();\n    var requestSignature = [\n        location.search,\n        resource,\n        storeKey,\n        JSON.stringify(!storeKey ? localParams : params),\n        JSON.stringify(filterDefaultValues),\n        JSON.stringify(sort),\n        perPage,\n        disableSyncWithLocation,\n    ];\n    var queryFromLocation = disableSyncWithLocation\n        ? {}\n        : parseQueryFromLocation(location);\n    var query = useMemo(function () {\n        return getQuery({\n            queryFromLocation: queryFromLocation,\n            params: !storeKey ? localParams : params,\n            filterDefaultValues: filterDefaultValues,\n            sort: sort,\n            perPage: perPage,\n        });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    // if the location includes params (for example from a link like\n    // the categories products on the demo), we need to persist them in the\n    // store as well so that we don't lose them after a redirection back\n    // to the list\n    useEffect(function () {\n        if (Object.keys(queryFromLocation).length > 0) {\n            setParams(query);\n        }\n    }, [location.search]); // eslint-disable-line\n    var changeParams = useCallback(function (action) {\n        // do not change params if the component is already unmounted\n        // this is necessary because changeParams can be debounced, and therefore\n        // executed after the component is unmounted\n        if (!isMounted.current)\n            return;\n        if (!tempParams.current) {\n            // no other changeParams action dispatched this tick\n            tempParams.current = queryReducer(query, action);\n            // schedule side effects for next tick\n            setTimeout(function () {\n                if (!tempParams.current) {\n                    // the side effects were already processed by another changeParams\n                    return;\n                }\n                if (disableSyncWithLocation && !storeKey) {\n                    setLocalParams(tempParams.current);\n                }\n                else if (disableSyncWithLocation && !!storeKey) {\n                    setParams(tempParams.current);\n                }\n                else {\n                    // the useEffect above will apply the changes to the params in the store\n                    navigate({\n                        search: \"?\".concat(stringify(__assign(__assign({}, tempParams.current), { filter: JSON.stringify(tempParams.current.filter), displayedFilters: JSON.stringify(tempParams.current.displayedFilters) }))),\n                    }, {\n                        state: {\n                            _scrollToTop: action.type === SET_PAGE,\n                        },\n                    });\n                }\n                tempParams.current = undefined;\n            }, 0);\n        }\n        else {\n            // side effects already scheduled, just change the params\n            tempParams.current = queryReducer(tempParams.current, action);\n        }\n    }, __spreadArray(__spreadArray([], requestSignature, true), [navigate], false));\n    var setSort = useCallback(function (sort) {\n        return changeParams({\n            type: SET_SORT,\n            payload: sort,\n        });\n    }, [changeParams]);\n    var setPage = useCallback(function (newPage) { return changeParams({ type: SET_PAGE, payload: newPage }); }, [changeParams]);\n    var setPerPage = useCallback(function (newPerPage) {\n        return changeParams({ type: SET_PER_PAGE, payload: newPerPage });\n    }, [changeParams]);\n    var filterValues = query.filter || emptyObject;\n    var displayedFilterValues = query.displayedFilters || emptyObject;\n    var debouncedSetFilters = lodashDebounce(function (filter, displayedFilters) {\n        changeParams({\n            type: SET_FILTER,\n            payload: {\n                filter: removeEmpty(filter),\n                displayedFilters: displayedFilters,\n            },\n        });\n    }, debounce);\n    var setFilters = useCallback(function (filter, displayedFilters, debounce) {\n        if (displayedFilters === void 0) { displayedFilters = undefined; }\n        if (debounce === void 0) { debounce = false; }\n        return debounce\n            ? debouncedSetFilters(filter, displayedFilters)\n            : changeParams({\n                type: SET_FILTER,\n                payload: {\n                    filter: removeEmpty(filter),\n                    displayedFilters: displayedFilters,\n                },\n            });\n    }, [changeParams] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var hideFilter = useCallback(function (filterName) {\n        changeParams({\n            type: HIDE_FILTER,\n            payload: filterName,\n        });\n    }, [changeParams]);\n    var showFilter = useCallback(function (filterName, defaultValue) {\n        changeParams({\n            type: SHOW_FILTER,\n            payload: {\n                filterName: filterName,\n                defaultValue: defaultValue,\n            },\n        });\n    }, [changeParams]);\n    return [\n        __assign(__assign({ filterValues: filterValues, requestSignature: requestSignature }, query), { displayedFilters: displayedFilterValues }),\n        {\n            changeParams: changeParams,\n            setPage: setPage,\n            setPerPage: setPerPage,\n            setSort: setSort,\n            setFilters: setFilters,\n            hideFilter: hideFilter,\n            showFilter: showFilter,\n        },\n    ];\n};\nvar parseObject = function (query, field) {\n    if (query[field] && typeof query[field] === 'string') {\n        try {\n            query[field] = JSON.parse(query[field]);\n        }\n        catch (err) {\n            delete query[field];\n        }\n    }\n};\nexport var parseQueryFromLocation = function (_a) {\n    var search = _a.search;\n    var query = parse(search);\n    parseObject(query, 'filter');\n    parseObject(query, 'displayedFilters');\n    return query;\n};\n/**\n * Check if user has already set custom sort, page, or filters for this list\n *\n * User params come from the store as the params props. By default,\n * this object is:\n *\n * { filter: {}, order: null, page: 1, perPage: null, sort: null }\n *\n * To check if the user has custom params, we must compare the params\n * to these initial values.\n *\n * @param {Object} params\n */\nexport var hasCustomParams = function (params) {\n    return (params &&\n        params.filter &&\n        (Object.keys(params.filter).length > 0 ||\n            params.order != null ||\n            params.page !== 1 ||\n            params.perPage != null ||\n            params.sort != null));\n};\n/**\n * Merge list params from 3 different sources:\n *   - the query string\n *   - the params stored in the state (from previous navigation)\n *   - the props passed to the List component (including the filter defaultValues)\n */\nexport var getQuery = function (_a) {\n    var queryFromLocation = _a.queryFromLocation, params = _a.params, filterDefaultValues = _a.filterDefaultValues, sort = _a.sort, perPage = _a.perPage;\n    var query = Object.keys(queryFromLocation).length > 0\n        ? queryFromLocation\n        : hasCustomParams(params)\n            ? __assign({}, params) : { filter: filterDefaultValues || {} };\n    if (!query.sort) {\n        query.sort = sort.field;\n        query.order = sort.order;\n    }\n    if (query.perPage == null) {\n        query.perPage = perPage;\n    }\n    if (query.page == null) {\n        query.page = 1;\n    }\n    return __assign(__assign({}, query), { page: getNumberOrDefault(query.page, 1), perPage: getNumberOrDefault(query.perPage, 10) });\n};\nexport var getNumberOrDefault = function (possibleNumber, defaultValue) {\n    if (typeof possibleNumber === 'undefined') {\n        return defaultValue;\n    }\n    var parsedNumber = typeof possibleNumber === 'string'\n        ? parseInt(possibleNumber, 10)\n        : possibleNumber;\n    return isNaN(parsedNumber) ? defaultValue : parsedNumber;\n};\nvar emptyObject = {};\nvar defaultSort = {\n    field: 'id',\n    order: SORT_ASC,\n};\nvar defaultParams = {};\n//# sourceMappingURL=useListParams.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useQueryClient } from '@tanstack/react-query';\nimport { useNotify } from \"../../notification/index.js\";\nimport { useDataProvider } from \"../../dataProvider/index.js\";\nimport { useRecordSelection } from \"./useRecordSelection.js\";\nimport { useResourceContext } from \"../../core/index.js\";\nimport { useEvent } from \"../../util/index.js\";\n/**\n * Get a callback to select all records of a resource (capped by the limit parameter)\n *\n * @param {Object} params The hook parameters { resource, sort, filter }\n * @returns {Function} handleSelectAll A function to select all items of a list\n *\n * @example\n * import { List, Datagrid, BulkActionsToolbar, BulkDeleteButton, useListContext, useSelectAll } from 'react-admin';\n *\n * const MySelectAllButton = () => {\n *   const { sort, filter } = useListContext();\n *   const handleSelectAll = useSelectAll({ resource: 'posts', sort, filter });\n *   const handleClick = () => handleSelectAll({\n *       queryOptions: { meta: { foo: 'bar' } },\n *       limit: 250,\n *   });\n *   return <button onClick={handleClick}>Select All</button>;\n * };\n *\n * const PostBulkActionsToolbar = () => (\n *     <BulkActionsToolbar actions={<MySelectAllButton/>}>\n *         <BulkDeleteButton />\n *     </BulkActionsToolbar>\n * );\n *\n * export const PostList = () => (\n *     <List>\n *         <Datagrid bulkActionsToolbar={<PostBulkActionsToolbar />}>\n *             ...\n *         </Datagrid>\n *     </List>\n * );\n */\nexport var useSelectAll = function (params) {\n    var sort = params.sort, filter = params.filter;\n    var resource = useResourceContext(params);\n    if (!resource) {\n        throw new Error('useSelectAll should be used inside a ResourceContextProvider or passed a resource prop');\n    }\n    var dataProvider = useDataProvider();\n    var queryClient = useQueryClient();\n    var _a = useRecordSelection({ resource: resource }), select = _a[1].select;\n    var notify = useNotify();\n    var handleSelectAll = useEvent(function () {\n        var args_1 = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args_1[_i] = arguments[_i];\n        }\n        return __awaiter(void 0, __spreadArray([], args_1, true), void 0, function (_a) {\n            var meta, onSuccess, onError, otherQueryOptions, results, allIds, error_1;\n            var _b;\n            var _c = _a === void 0 ? {} : _a, _d = _c.queryOptions, queryOptions = _d === void 0 ? {} : _d, _e = _c.limit, limit = _e === void 0 ? 250 : _e;\n            return __generator(this, function (_f) {\n                switch (_f.label) {\n                    case 0:\n                        meta = queryOptions.meta, onSuccess = queryOptions.onSuccess, onError = queryOptions.onError, otherQueryOptions = __rest(queryOptions, [\"meta\", \"onSuccess\", \"onError\"]);\n                        _f.label = 1;\n                    case 1:\n                        _f.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, queryClient.fetchQuery(__assign({ queryKey: [\n                                    resource,\n                                    'getList',\n                                    {\n                                        pagination: { page: 1, perPage: limit },\n                                        sort: sort,\n                                        filter: filter,\n                                        meta: meta,\n                                    },\n                                ], queryFn: function () {\n                                    return dataProvider.getList(resource, {\n                                        pagination: {\n                                            page: 1,\n                                            perPage: limit,\n                                        },\n                                        sort: sort,\n                                        filter: filter,\n                                        meta: meta,\n                                    });\n                                } }, otherQueryOptions))];\n                    case 2:\n                        results = _f.sent();\n                        allIds = ((_b = results.data) === null || _b === void 0 ? void 0 : _b.map(function (_a) {\n                            var id = _a.id;\n                            return id;\n                        })) || [];\n                        select(allIds);\n                        if (allIds.length === limit) {\n                            notify('ra.message.select_all_limit_reached', {\n                                messageArgs: { max: limit },\n                                type: 'warning',\n                            });\n                        }\n                        if (onSuccess) {\n                            onSuccess(results);\n                        }\n                        return [2 /*return*/, results.data];\n                    case 3:\n                        error_1 = _f.sent();\n                        if (onError) {\n                            onError(error_1);\n                        }\n                        else {\n                            notify('ra.notification.http_error', { type: 'warning' });\n                        }\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    });\n    return handleSelectAll;\n};\n//# sourceMappingURL=useSelectAll.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { isValidElement, useCallback, useEffect, useMemo } from 'react';\nimport { useAuthenticated, useRequireAccess } from \"../../auth/index.js\";\nimport { useTranslate } from \"../../i18n/index.js\";\nimport { useNotify } from \"../../notification/index.js\";\nimport { useGetList, } from \"../../dataProvider/index.js\";\nimport { useResourceContext, useGetResourceLabel } from \"../../core/index.js\";\nimport { useRecordSelection } from \"./useRecordSelection.js\";\nimport { useListParams } from \"./useListParams.js\";\nimport { useSelectAll } from \"./useSelectAll.js\";\nimport { defaultExporter } from \"../../export/index.js\";\nimport { SORT_ASC } from \"./queryReducer.js\";\n/**\n * Prepare data for the List view\n *\n * @param {Object} props The props passed to the List component.\n *\n * @return {Object} controllerProps Fetched and computed data for the List view\n *\n * @example\n *\n * import { useListController } from 'react-admin';\n * import ListView from './ListView';\n *\n * const MyList = props => {\n *     const controllerProps = useListController(props);\n *     return <ListView {...controllerProps} {...props} />;\n * }\n */\nexport var useListController = function (props) {\n    if (props === void 0) { props = {}; }\n    var _a = props.debounce, debounce = _a === void 0 ? 500 : _a, _b = props.disableAuthentication, disableAuthentication = _b === void 0 ? false : _b, _c = props.disableSyncWithLocation, disableSyncWithLocation = _c === void 0 ? false : _c, _d = props.exporter, exporter = _d === void 0 ? defaultExporter : _d, filter = props.filter, filterDefaultValues = props.filterDefaultValues, _e = props.perPage, perPage = _e === void 0 ? 10 : _e, _f = props.queryOptions, queryOptions = _f === void 0 ? {} : _f, _g = props.sort, sort = _g === void 0 ? defaultSort : _g, storeKey = props.storeKey;\n    var resource = useResourceContext(props);\n    var meta = queryOptions.meta, otherQueryOptions = __rest(queryOptions, [\"meta\"]);\n    if (!resource) {\n        throw new Error(\"useListController requires a non-empty resource prop or context\");\n    }\n    if (filter &&\n        (isValidElement(filter) ||\n            (Array.isArray(filter) && filter.some(isValidElement)))) {\n        throw new Error('useListController received a React element as `filter` props. If you intended to set the list filter elements, use the `filters` (with an s) prop instead. The `filter` prop is internal and should not be set by the developer.');\n    }\n    var isPendingAuthenticated = useAuthenticated({\n        enabled: !disableAuthentication,\n    }).isPending;\n    var isPendingCanAccess = useRequireAccess({\n        action: 'list',\n        resource: resource,\n        enabled: !disableAuthentication && !isPendingAuthenticated,\n    }).isPending;\n    var translate = useTranslate();\n    var notify = useNotify();\n    var _h = useListParams({\n        debounce: debounce,\n        disableSyncWithLocation: disableSyncWithLocation,\n        filterDefaultValues: filterDefaultValues,\n        perPage: perPage,\n        resource: resource,\n        sort: sort,\n        storeKey: storeKey,\n    }), query = _h[0], queryModifiers = _h[1];\n    var _j = useRecordSelection({\n        resource: resource,\n        disableSyncWithStore: storeKey === false,\n        storeKey: storeKey === false ? undefined : storeKey,\n    }), selectedIds = _j[0], selectionModifiers = _j[1];\n    var onUnselectItems = useCallback(function (fromAllStoreKeys) {\n        return selectionModifiers.unselect(selectedIds, fromAllStoreKeys);\n    }, [selectedIds, selectionModifiers]);\n    var _k = useGetList(resource, {\n        pagination: {\n            page: query.page,\n            perPage: query.perPage,\n        },\n        sort: { field: query.sort, order: query.order },\n        filter: __assign(__assign({}, query.filter), filter),\n        meta: meta,\n    }, __assign({ enabled: (!isPendingAuthenticated && !isPendingCanAccess) ||\n            disableAuthentication, placeholderData: function (previousData) { return previousData; }, retry: false, onError: function (error) {\n            return notify((error === null || error === void 0 ? void 0 : error.message) || 'ra.notification.http_error', {\n                type: 'error',\n                messageArgs: {\n                    _: error === null || error === void 0 ? void 0 : error.message,\n                },\n            });\n        } }, otherQueryOptions)), data = _k.data, pageInfo = _k.pageInfo, total = _k.total, responseMeta = _k.meta, error = _k.error, isLoading = _k.isLoading, isFetching = _k.isFetching, isPending = _k.isPending, refetch = _k.refetch, isPaused = _k.isPaused, isPlaceholderData = _k.isPlaceholderData;\n    // change page if there is no data\n    useEffect(function () {\n        if (query.page <= 0 ||\n            (!isFetching &&\n                query.page > 1 &&\n                (data == null || (data === null || data === void 0 ? void 0 : data.length) === 0))) {\n            // Query for a page that doesn't exist, set page to 1\n            queryModifiers.setPage(1);\n            return;\n        }\n        if (total == null) {\n            return;\n        }\n        var totalPages = Math.ceil(total / query.perPage) || 1;\n        if (!isFetching && query.page > totalPages) {\n            // Query for a page out of bounds, set page to the last existing page\n            // It occurs when deleting the last element of the last page\n            queryModifiers.setPage(totalPages);\n        }\n    }, [isFetching, query.page, query.perPage, data, queryModifiers, total]);\n    var currentSort = useMemo(function () { return ({\n        field: query.sort,\n        order: query.order,\n    }); }, [query.sort, query.order]);\n    var getResourceLabel = useGetResourceLabel();\n    var defaultTitle = translate(\"resources.\".concat(resource, \".page.list\"), {\n        _: translate('ra.page.list', {\n            name: getResourceLabel(resource, 2),\n        }),\n    });\n    var onSelectAll = useSelectAll({\n        resource: resource,\n        sort: { field: query.sort, order: query.order },\n        filter: __assign(__assign({}, query.filter), filter),\n    });\n    return {\n        sort: currentSort,\n        data: data,\n        meta: responseMeta,\n        defaultTitle: defaultTitle,\n        displayedFilters: query.displayedFilters,\n        error: error,\n        exporter: exporter,\n        filter: filter,\n        filterValues: query.filterValues,\n        hideFilter: queryModifiers.hideFilter,\n        isFetching: isFetching,\n        isLoading: isLoading,\n        isPaused: isPaused,\n        isPending: isPending,\n        isPlaceholderData: isPlaceholderData,\n        onSelect: selectionModifiers.select,\n        onSelectAll: onSelectAll,\n        onToggleItem: selectionModifiers.toggle,\n        onUnselectItems: onUnselectItems,\n        page: query.page,\n        perPage: query.perPage,\n        refetch: refetch,\n        resource: resource,\n        selectedIds: selectedIds,\n        setFilters: queryModifiers.setFilters,\n        setPage: queryModifiers.setPage,\n        setPerPage: queryModifiers.setPerPage,\n        setSort: queryModifiers.setSort,\n        showFilter: queryModifiers.showFilter,\n        total: total,\n        hasNextPage: pageInfo\n            ? pageInfo.hasNextPage\n            : total != null\n                ? query.page * query.perPage < total\n                : undefined,\n        hasPreviousPage: pageInfo ? pageInfo.hasPreviousPage : query.page > 1,\n    };\n};\nvar defaultSort = {\n    field: 'id',\n    order: SORT_ASC,\n};\nexport var injectedProps = [\n    'sort',\n    'data',\n    'defaultTitle',\n    'displayedFilters',\n    'error',\n    'exporter',\n    'filterValues',\n    'hasNextPage',\n    'hasPreviousPage',\n    'hideFilter',\n    'isFetching',\n    'isLoading',\n    'isPending',\n    'onSelect',\n    'onSelectAll',\n    'onToggleItem',\n    'onUnselectItems',\n    'page',\n    'perPage',\n    'refetch',\n    'refresh',\n    'resource',\n    'selectedIds',\n    'setFilters',\n    'setPage',\n    'setPerPage',\n    'setSort',\n    'showFilter',\n    'total',\n    'totalPages',\n];\n/**\n * Select the props injected by the useListController hook\n * to be passed to the List children need\n * This is an implementation of pick()\n */\nexport var getListControllerProps = function (props) {\n    return injectedProps.reduce(function (acc, key) {\n        var _a;\n        return (__assign(__assign({}, acc), (_a = {}, _a[key] = props[key], _a)));\n    }, {});\n};\n/**\n * Select the props not injected by the useListController hook\n * to be used inside the List children to sanitize props injected by List\n * This is an implementation of omit()\n */\nexport var sanitizeListRestProps = function (props) {\n    return Object.keys(props)\n        .filter(function (propName) { return !injectedProps.includes(propName); })\n        .reduce(function (acc, key) {\n        var _a;\n        return (__assign(__assign({}, acc), (_a = {}, _a[key] = props[key], _a)));\n    }, {});\n};\n//# sourceMappingURL=useListController.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useListController, } from \"./useListController.js\";\nimport { OptionalResourceContextProvider } from \"../../core/index.js\";\nimport { ListContextProvider } from \"./ListContextProvider.js\";\nimport { useIsAuthPending } from \"../../auth/index.js\";\n/**\n * Call useListController and put the value in a ListContext\n *\n * Base class for <List> components, without UI.\n *\n * Accepts any props accepted by useListController:\n * - filter: permanent filter applied to the list\n * - filters: Filter element, to display the filters\n * - filterDefaultValues: object;\n * - perPage: Number of results per page\n * - sort: Default sort\n * - exporter: exported function\n *\n * @example // Custom list layout\n *\n * const PostList = () => (\n *     <ListBase perPage={10}>\n *         <div>\n *              List metrics...\n *         </div>\n *         <Grid container>\n *             <Grid item xs={8}>\n *                 <SimpleList primaryText={record => record.title} />\n *             </Grid>\n *             <Grid item xs={4}>\n *                 List instructions...\n *             </Grid>\n *         </Grid>\n *         <div>\n *             Post related links...\n *         </div>\n *     </ListBase>\n * );\n */\nexport var ListBase = function (_a) {\n    var children = _a.children, emptyWhileLoading = _a.emptyWhileLoading, authLoading = _a.authLoading, loading = _a.loading, offline = _a.offline, error = _a.error, empty = _a.empty, render = _a.render, props = __rest(_a, [\"children\", \"emptyWhileLoading\", \"authLoading\", \"loading\", \"offline\", \"error\", \"empty\", \"render\"]);\n    var controllerProps = useListController(props);\n    var isAuthPending = useIsAuthPending({\n        resource: controllerProps.resource,\n        action: 'list',\n    });\n    if (!render && !children) {\n        throw new Error(\"<ListBase> requires either a 'render' prop or 'children' prop\");\n    }\n    var isPaused = controllerProps.isPaused, isPending = controllerProps.isPending, isPlaceholderData = controllerProps.isPlaceholderData, errorState = controllerProps.error, data = controllerProps.data, total = controllerProps.total, hasPreviousPage = controllerProps.hasPreviousPage, hasNextPage = controllerProps.hasNextPage, filterValues = controllerProps.filterValues;\n    var showAuthLoading = isAuthPending &&\n        !props.disableAuthentication &&\n        authLoading !== false &&\n        authLoading !== undefined;\n    var showLoading = !isPaused &&\n        ((!props.disableAuthentication && isAuthPending) || isPending) &&\n        loading !== false &&\n        loading !== undefined;\n    var showOffline = isPaused &&\n        // If isPending and isPaused are true, we are offline and couldn't even load the initial data\n        // If isPaused and isPlaceholderData are true, we are offline and couldn't even load data with different parameters on the same useQuery observer\n        (isPending || isPlaceholderData) &&\n        offline !== false &&\n        offline !== undefined;\n    var showError = errorState && error !== false && error !== undefined;\n    var showEmptyWhileLoading = isPending && !showOffline && emptyWhileLoading === true;\n    var showEmpty = !errorState &&\n        // the list is not loading data for the first time\n        !isPending &&\n        // the API returned no data (using either normal or partial pagination)\n        (total === 0 ||\n            (total == null &&\n                hasPreviousPage === false &&\n                hasNextPage === false &&\n                // @ts-ignore FIXME total may be undefined when using partial pagination but the ListControllerResult type is wrong about it\n                data.length === 0)) &&\n        // the user didn't set any filters\n        !Object.keys(filterValues).length &&\n        // there is an empty page component\n        empty !== undefined &&\n        empty !== false;\n    return (\n    // We pass props.resource here as we don't need to create a new ResourceContext if the props is not provided\n    React.createElement(OptionalResourceContextProvider, { value: props.resource },\n        React.createElement(ListContextProvider, { value: controllerProps }, showAuthLoading\n            ? authLoading\n            : showLoading\n                ? loading\n                : showOffline\n                    ? offline\n                    : showError\n                        ? error\n                        : showEmptyWhileLoading\n                            ? null\n                            : showEmpty\n                                ? empty\n                                : render\n                                    ? render(controllerProps)\n                                    : children)));\n};\n//# sourceMappingURL=ListBase.js.map","var baseRest = require('./_baseRest'),\n    eq = require('./eq'),\n    isIterateeCall = require('./_isIterateeCall'),\n    keysIn = require('./keysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own and inherited enumerable string keyed properties of source\n * objects to the destination object for all destination properties that\n * resolve to `undefined`. Source objects are applied from left to right.\n * Once a property is set, additional values of the same property are ignored.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaultsDeep\n * @example\n *\n * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar defaults = baseRest(function(object, sources) {\n  object = Object(object);\n\n  var index = -1;\n  var length = sources.length;\n  var guard = length > 2 ? sources[2] : undefined;\n\n  if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n    length = 1;\n  }\n\n  while (++index < length) {\n    var source = sources[index];\n    var props = keysIn(source);\n    var propsIndex = -1;\n    var propsLength = props.length;\n\n    while (++propsIndex < propsLength) {\n      var key = props[propsIndex];\n      var value = object[key];\n\n      if (value === undefined ||\n          (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        object[key] = source[key];\n      }\n    }\n  }\n\n  return object;\n});\n\nmodule.exports = defaults;\n","import { useContext, useMemo } from 'react';\nimport defaults from 'lodash/defaults.js';\nimport { ListContext } from \"./ListContext.js\";\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Mostly used within a <ListContext.Provider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * But you can also use it without a <ListContext.Provider>. In this case, it is up to you\n * to pass all the necessary props (see the list below).\n *\n * The given props will take precedence over context values.\n *\n * @typedef {Object} ListControllerProps\n * @prop {Object}   data an array of the list records, e.g. [{ id: 123, title: 'hello world' }, { ... }]\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {boolean}  isFetching boolean that is true on mount, and false once the data was fetched\n * @prop {boolean}  isLoading boolean that is false until the data is available\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {Object}   sort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort({ field : 'name', order: 'ASC' })\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {Array}    selectedIds an array listing the ids of the selected rows, e.g. [123, 456]\n * @prop {Function} onSelect callback to change the list of selected rows, e.g. onSelect([456, 789])\n * @prop {Function} onSelectAll callback to select all the records, e.g. onSelectAll({ limit: 50, queryOptions: { meta: { foo: 'bar' } } })\n * @prop {Function} onToggleItem callback to toggle the selection of a given record based on its id, e.g. onToggleItem(456)\n * @prop {Function} onUnselectItems callback to clear the selection, e.g. onUnselectItems();\n * @prop {string}   defaultTitle the translated title based on the resource, e.g. 'Posts'\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @param {ListControllerProps} props Props passed to the useListContext hook\n *\n * @returns {ListControllerResult} list controller props\n *\n * @see useListController for how it is filled\n */\nexport var useListContextWithProps = function (props) {\n    var context = useContext(ListContext);\n    // Props take precedence over the context\n    return useMemo(function () {\n        return defaults({}, props != null ? extractListContextProps(props) : {}, context);\n    }, [context, props]);\n};\n/**\n * Extract only the list controller props\n *\n * @param {Object} props Props passed to the useListContext hook\n *\n * @returns {ListControllerResult} List controller props\n */\nvar extractListContextProps = function (_a) {\n    var sort = _a.sort, data = _a.data, defaultTitle = _a.defaultTitle, displayedFilters = _a.displayedFilters, exporter = _a.exporter, filterValues = _a.filterValues, hasCreate = _a.hasCreate, hideFilter = _a.hideFilter, isFetching = _a.isFetching, isLoading = _a.isLoading, isPending = _a.isPending, onSelect = _a.onSelect, onSelectAll = _a.onSelectAll, onToggleItem = _a.onToggleItem, onUnselectItems = _a.onUnselectItems, page = _a.page, perPage = _a.perPage, refetch = _a.refetch, resource = _a.resource, selectedIds = _a.selectedIds, setFilters = _a.setFilters, setPage = _a.setPage, setPerPage = _a.setPerPage, setSort = _a.setSort, showFilter = _a.showFilter, total = _a.total;\n    return ({\n        sort: sort,\n        data: data,\n        defaultTitle: defaultTitle,\n        displayedFilters: displayedFilters,\n        exporter: exporter,\n        filterValues: filterValues,\n        hasCreate: hasCreate,\n        hideFilter: hideFilter,\n        isFetching: isFetching,\n        isLoading: isLoading,\n        isPending: isPending,\n        onSelect: onSelect,\n        onSelectAll: onSelectAll,\n        onToggleItem: onToggleItem,\n        onUnselectItems: onUnselectItems,\n        page: page,\n        perPage: perPage,\n        refetch: refetch,\n        resource: resource,\n        selectedIds: selectedIds,\n        setFilters: setFilters,\n        setPage: setPage,\n        setPerPage: setPerPage,\n        setSort: setSort,\n        showFilter: showFilter,\n        total: total,\n    });\n};\n//# sourceMappingURL=useListContextWithProps.js.map","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useCallback } from 'react';\nimport { useStore } from \"../../store/index.js\";\n/**\n * State-like hook for controlling the expanded state of a list item\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {string|integer} id The record identifier, e.g. 123\n * @param {boolean} single Forces only one id to be expanded at a time\n * @returns {Object} Destructure as [expanded, toggleExpanded].\n *\n * @example\n *\n * const [expanded, toggleExpanded] = useExpanded('posts', 123);\n * const expandIcon = expanded ? ExpandLess : ExpandMore;\n * const onExpandClick = () => toggleExpanded();\n */\nexport var useExpanded = function (resource, id, single) {\n    if (single === void 0) { single = false; }\n    var _a = useStore(\"\".concat(resource, \".datagrid.expanded\"), emptyArray), expandedIds = _a[0], setExpandedIds = _a[1];\n    var expanded = Array.isArray(expandedIds)\n        ? // eslint-disable-next-line eqeqeq\n            expandedIds.map(function (el) { return el == id; }).indexOf(true) !== -1\n        : false;\n    var toggleExpanded = useCallback(function () {\n        setExpandedIds(function (ids) {\n            if (!Array.isArray(ids)) {\n                return [id];\n            }\n            var index = ids.findIndex(function (el) { return el == id; }); // eslint-disable-line eqeqeq\n            return index > -1\n                ? single\n                    ? []\n                    : __spreadArray(__spreadArray([], ids.slice(0, index), true), ids.slice(index + 1), true)\n                : single\n                    ? [id]\n                    : __spreadArray(__spreadArray([], ids, true), [id], false);\n        });\n    }, [setExpandedIds, id, single]);\n    return [expanded, toggleExpanded];\n};\nvar emptyArray = [];\n/**\n * State-like hook for controlling the expanded state of many list items\n * expanded state is true when at least one item from ids is expanded.\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {Identifier[]} ids A list of record identifiers\n * @returns {Object} Destructure as [expanded, toggleExpanded].\n *\n * @example\n *\n * const [expanded, toggleExpanded] = useExpandAll('posts', [123, 124, 125]);\n * const expandIcon = expanded ? ExpandLess : ExpandMore;\n * const onExpandClick = () => toggleExpanded();\n */\nexport var useExpandAll = function (resource, ids) {\n    var _a = useStore(\"\".concat(resource, \".datagrid.expanded\"), []), expandedIds = _a[0], setExpandedIds = _a[1];\n    var isExpanded = Array.isArray(expandedIds)\n        ? // eslint-disable-next-line eqeqeq\n            expandedIds.some(function (id) { return ids.some(function (id2) { return id2 == id; }); })\n        : false;\n    var toggleExpandedAll = useCallback(function () {\n        var unaffectedExpandedIds = expandedIds.filter(\n        // eslint-disable-next-line eqeqeq\n        function (expanded_id) { return !ids.some(function (id) { return id == expanded_id; }); });\n        setExpandedIds(isExpanded\n            ? unaffectedExpandedIds\n            : unaffectedExpandedIds.concat(ids));\n    }, [expandedIds, setExpandedIds, isExpanded, ids]);\n    return [isExpanded, toggleExpandedAll];\n};\n//# sourceMappingURL=useExpanded.js.map","import { useContext } from 'react';\nimport { FilterContext } from \"./FilterContext.js\";\nexport var useFilterContext = function () {\n    return useContext(FilterContext);\n};\n//# sourceMappingURL=useFilterContext.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport get from 'lodash/get.js';\nimport isEqual from 'lodash/isEqual.js';\nimport { removeEmpty } from \"../../util/index.js\";\nimport { useResourceContext } from \"../../core/index.js\";\nimport usePaginationState from \"../usePaginationState.js\";\nimport useSortState from \"../useSortState.js\";\nimport { useRecordSelection } from \"./useRecordSelection.js\";\nimport { flattenObject } from \"../../dataProvider/fetch.js\";\nvar refetch = function () {\n    throw new Error('refetch is not available for a ListContext built from useList based on local data');\n};\n/**\n * Handle filtering, sorting and pagination on local data.\n *\n * Returns the data and callbacks expected by <ListContext>.\n *\n * @example\n * const data = [\n *     { id: 1, name: 'Arnold' },\n *     { id: 2, name: 'Sylvester' },\n *     { id: 3, name: 'Jean-Claude' },\n * ]\n *\n * const MyComponent = () => {\n *     const listContext = useList({ data });\n *     return (\n *         <ListContextProvider value={listContext}>\n *             <Datagrid>\n *                 <TextField source=\"id\" />\n *                 <TextField source=\"name\" />\n *             </Datagrid>\n *         </ListContextProvider>\n *     );\n * };\n *\n * @param {UseListOptions} props\n * @param {RaRecord[]} props.data An array of records\n * @param {Boolean} props.isFetching: Optional. A boolean indicating whether the data is being loaded\n * @param {Boolean} props.isLoading: Optional. A boolean indicating whether the data has been loaded at least once\n * @param {Error | String} props.error: Optional. The error if any occurred while loading the data\n * @param {Object} props.filter: Optional. An object containing the filters applied on the data\n * @param {Number} props.page: Optional. The initial page index\n * @param {Number} props.perPage: Optional. The initial page size\n * @param {SortPayload} props.sort: Optional. The initial sort (field and order)\n * @param {filterCallback} prop.filterCallback Optional. A function that allows you to make a custom filter\n */\nexport var useList = function (props) {\n    var _a;\n    var data = props.data, error = props.error, _b = props.filter, filter = _b === void 0 ? defaultFilter : _b, _c = props.isFetching, isFetching = _c === void 0 ? false : _c, _d = props.isLoading, isLoading = _d === void 0 ? false : _d, _e = props.isPaused, isPaused = _e === void 0 ? false : _e, _f = props.isPending, isPending = _f === void 0 ? false : _f, _g = props.isPlaceholderData, isPlaceholderData = _g === void 0 ? false : _g, _h = props.page, initialPage = _h === void 0 ? 1 : _h, _j = props.perPage, initialPerPage = _j === void 0 ? 1000 : _j, initialSort = props.sort, _k = props.filterCallback, filterCallback = _k === void 0 ? function (record) { return Boolean(record); } : _k;\n    var resource = useResourceContext(props);\n    var _l = useState(function () { return ({\n        data: data,\n        total: data ? data.length : undefined,\n    }); }), finalItems = _l[0], setFinalItems = _l[1];\n    // pagination logic\n    var _m = usePaginationState({\n        page: initialPage,\n        perPage: initialPerPage,\n    }), page = _m.page, setPage = _m.setPage, perPage = _m.perPage, setPerPage = _m.setPerPage;\n    // sort logic\n    var _o = useSortState(initialSort), sort = _o.sort, setSortState = _o.setSort;\n    var setSort = useCallback(function (sort) {\n        setSortState(sort);\n        setPage(1);\n    }, [setPage, setSortState]);\n    // selection logic\n    var _p = useRecordSelection(resource\n        ? {\n            resource: resource,\n        }\n        : { disableSyncWithStore: true }), selectedIds = _p[0], selectionModifiers = _p[1];\n    var onUnselectItems = useCallback(function (fromAllStoreKeys) {\n        return selectionModifiers.unselect(selectedIds, fromAllStoreKeys);\n    }, [selectedIds, selectionModifiers]);\n    // filter logic\n    var filterRef = useRef(filter);\n    var _q = useState({}), displayedFilters = _q[0], setDisplayedFilters = _q[1];\n    var _r = useState(filter), filterValues = _r[0], setFilterValues = _r[1];\n    var hideFilter = useCallback(function (filterName) {\n        setDisplayedFilters(function (previousState) {\n            var _a = previousState, _b = filterName, _ = _a[_b], newState = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\n            return newState;\n        });\n        setFilterValues(function (previousState) {\n            var _a = previousState, _b = filterName, _ = _a[_b], newState = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\n            return newState;\n        });\n    }, [setDisplayedFilters, setFilterValues]);\n    var showFilter = useCallback(function (filterName, defaultValue) {\n        setDisplayedFilters(function (previousState) {\n            var _a;\n            return (__assign(__assign({}, previousState), (_a = {}, _a[filterName] = true, _a)));\n        });\n        setFilterValues(function (previousState) {\n            var _a;\n            return removeEmpty(__assign(__assign({}, previousState), (_a = {}, _a[filterName] = defaultValue, _a)));\n        });\n    }, [setDisplayedFilters, setFilterValues]);\n    var setFilters = useCallback(function (filters, displayedFilters) {\n        if (displayedFilters === void 0) { displayedFilters = undefined; }\n        setFilterValues(removeEmpty(filters));\n        if (displayedFilters) {\n            setDisplayedFilters(displayedFilters);\n        }\n        setPage(1);\n    }, [setDisplayedFilters, setFilterValues, setPage]);\n    // handle filter prop change\n    useEffect(function () {\n        if (!isEqual(filter, filterRef.current)) {\n            filterRef.current = filter;\n            setFilterValues(filter);\n        }\n    }, [filter]);\n    // We do all the data processing (filtering, sorting, paginating) client-side\n    useEffect(function () {\n        if (isPending || !data)\n            return;\n        var tempData = data;\n        // 1. filter\n        if (filterValues) {\n            var flattenFilterValues_1 = flattenObject(filterValues);\n            tempData = data\n                .filter(function (record) {\n                return Object.entries(flattenFilterValues_1).every(function (_a) {\n                    var filterName = _a[0], filterValue = _a[1];\n                    var recordValue = get(record, filterName);\n                    var result = Array.isArray(recordValue)\n                        ? Array.isArray(filterValue)\n                            ? recordValue.some(function (item) {\n                                return filterValue.includes(item);\n                            })\n                            : recordValue.includes(filterValue)\n                        : Array.isArray(filterValue)\n                            ? filterValue.includes(recordValue)\n                            : filterName === 'q' // special full-text filter\n                                ? Object.keys(record).some(function (key) {\n                                    return typeof record[key] ===\n                                        'string' &&\n                                        record[key]\n                                            .toLowerCase()\n                                            .includes(filterValue.toLowerCase());\n                                })\n                                : filterValue == recordValue; // eslint-disable-line eqeqeq\n                    return result;\n                });\n            })\n                .filter(filterCallback);\n        }\n        var filteredLength = tempData.length;\n        // 2. sort\n        if (sort.field) {\n            tempData = tempData.sort(function (a, b) {\n                if (get(a, sort.field) > get(b, sort.field)) {\n                    return sort.order === 'ASC' ? 1 : -1;\n                }\n                if (get(a, sort.field) < get(b, sort.field)) {\n                    return sort.order === 'ASC' ? -1 : 1;\n                }\n                return 0;\n            });\n        }\n        // 3. paginate\n        tempData = tempData.slice((page - 1) * perPage, page * perPage);\n        setFinalItems({\n            data: tempData,\n            total: filteredLength,\n        });\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        JSON.stringify(data),\n        filterValues,\n        isPending,\n        page,\n        perPage,\n        setFinalItems,\n        sort.field,\n        sort.order,\n    ]);\n    var onSelectAll = useCallback(function () {\n        var allIds = (data === null || data === void 0 ? void 0 : data.map(function (_a) {\n            var id = _a.id;\n            return id;\n        })) || [];\n        selectionModifiers.select(allIds);\n    }, [data, selectionModifiers]);\n    return {\n        sort: sort,\n        data: isPending ? undefined : (_a = finalItems === null || finalItems === void 0 ? void 0 : finalItems.data) !== null && _a !== void 0 ? _a : [],\n        defaultTitle: '',\n        error: error !== null && error !== void 0 ? error : null,\n        displayedFilters: displayedFilters,\n        filterValues: filterValues,\n        hasNextPage: (finalItems === null || finalItems === void 0 ? void 0 : finalItems.total) == null\n            ? false\n            : page * perPage < finalItems.total,\n        hasPreviousPage: page > 1,\n        hideFilter: hideFilter,\n        isFetching: isFetching,\n        isLoading: isLoading,\n        isPaused: isPaused,\n        isPending: isPending,\n        isPlaceholderData: isPlaceholderData,\n        onSelect: selectionModifiers.select,\n        onSelectAll: onSelectAll,\n        onToggleItem: selectionModifiers.toggle,\n        onUnselectItems: onUnselectItems,\n        page: page,\n        perPage: perPage,\n        resource: '',\n        refetch: refetch,\n        selectedIds: selectedIds,\n        setFilters: setFilters,\n        setPage: setPage,\n        setPerPage: setPerPage,\n        setSort: setSort,\n        showFilter: showFilter,\n        total: finalItems === null || finalItems === void 0 ? void 0 : finalItems.total,\n    };\n};\nvar defaultFilter = {};\n//# sourceMappingURL=useList.js.map","import { useContext } from 'react';\nimport { ListPaginationContext, } from \"./ListPaginationContext.js\";\n/**\n * Hook to read the list pagination controller props from the ListPaginationContext.\n *\n * Must be used within a <ListPaginationContext> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * @returns {ListPaginationContextValue} list controller props\n *\n * @see useListController for how it is filled\n */\nexport var useListPaginationContext = function () {\n    var context = useContext(ListPaginationContext);\n    if (!context) {\n        throw new Error('useListPaginationContext must be used inside a ListPaginationContextProvider');\n    }\n    return context;\n};\n//# sourceMappingURL=useListPaginationContext.js.map","import { useContext } from 'react';\nimport { ListSortContext } from \"./ListSortContext.js\";\n/**\n * Hook to read the list sort controller props from the ListSortContext.\n *\n * Must be used within a <ListSortContextProvider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * @returns {ListSortContextValue} list controller props\n *\n * @see useListController for how it is filled\n */\nexport var useListSortContext = function () {\n    var context = useContext(ListSortContext);\n    if (!context) {\n        throw new Error('useListSortContext must be used inside a ListSortContextProvider');\n    }\n    return context;\n};\n//# sourceMappingURL=useListSortContext.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport get from 'lodash/get.js';\nimport { useGetManyAggregate } from \"../../dataProvider/index.js\";\nimport { useList } from \"../list/index.js\";\nimport { useNotify } from \"../../notification/index.js\";\nvar emptyArray = [];\nvar defaultFilter = {};\n/**\n * Hook that fetches records from another resource specified\n * by an array of *ids* in current record.\n *\n * @example\n *\n * const { data, error, isFetching, isPending } = useReferenceArrayFieldController({\n *      record: { referenceIds: ['id1', 'id2']};\n *      reference: 'reference';\n *      resource: 'resource';\n *      source: 'referenceIds';\n * });\n *\n * @param {Object} props\n * @param {Object} props.record The current resource record\n * @param {string} props.reference The linked resource name\n * @param {string} props.resource The current resource name\n * @param {string} props.source The key of the linked resource identifier\n *\n * @param {Props} props\n *\n * @returns {ListControllerResult} The reference props\n */\nexport var useReferenceArrayFieldController = function (props) {\n    var _a = props.filter, filter = _a === void 0 ? defaultFilter : _a, _b = props.page, page = _b === void 0 ? 1 : _b, _c = props.perPage, perPage = _c === void 0 ? 1000 : _c, record = props.record, reference = props.reference, sort = props.sort, source = props.source, _d = props.queryOptions, queryOptions = _d === void 0 ? {} : _d;\n    var notify = useNotify();\n    var value = get(record, source);\n    var meta = queryOptions.meta, otherQueryOptions = __rest(queryOptions, [\"meta\"]);\n    var ids = Array.isArray(value) ? value : emptyArray;\n    var _e = useGetManyAggregate(reference, { ids: ids, meta: meta }, __assign({ onError: function (error) {\n            return notify(typeof error === 'string'\n                ? error\n                : (error === null || error === void 0 ? void 0 : error.message) ||\n                    'ra.notification.http_error', {\n                type: 'error',\n                messageArgs: {\n                    _: typeof error === 'string'\n                        ? error\n                        : (error === null || error === void 0 ? void 0 : error.message)\n                            ? error.message\n                            : undefined,\n                },\n            });\n        } }, otherQueryOptions)), data = _e.data, error = _e.error, isLoading = _e.isLoading, isFetching = _e.isFetching, isPaused = _e.isPaused, isPending = _e.isPending, isPlaceholderData = _e.isPlaceholderData, refetch = _e.refetch;\n    var listProps = useList({\n        data: data,\n        error: error,\n        filter: filter,\n        isFetching: isFetching,\n        isLoading: isLoading,\n        isPaused: isPaused,\n        isPending: isPending,\n        isPlaceholderData: isPlaceholderData,\n        page: page,\n        perPage: perPage,\n        sort: sort,\n    });\n    return __assign(__assign({}, listProps), { defaultTitle: undefined, refetch: refetch, resource: reference });\n};\n//# sourceMappingURL=useReferenceArrayFieldController.js.map","import * as React from 'react';\nimport { useRecordContext } from \"../record/index.js\";\nimport { useReferenceArrayFieldController } from \"./useReferenceArrayFieldController.js\";\nimport { ResourceContextProvider } from \"../../core/index.js\";\nimport { ListContextProvider } from \"../list/index.js\";\n/**\n * A container component that fetches records from another resource specified\n * by an array of *ids* in current record.\n *\n * You must define the fields to be passed to the iterator component as children.\n *\n * @example Display all the products of the current order as datagrid\n * // order = {\n * //   id: 123,\n * //   product_ids: [456, 457, 458],\n * // }\n * <ReferenceArrayFieldBase label=\"Products\" reference=\"products\" source=\"product_ids\">\n *     <Datagrid>\n *         <TextField source=\"id\" />\n *         <TextField source=\"description\" />\n *         <NumberField source=\"price\" options={{ style: 'currency', currency: 'USD' }} />\n *         <EditButton />\n *     </Datagrid>\n * </ReferenceArrayFieldBase>\n *\n * @example Display all the categories of the current product as a list of chips\n * // product = {\n * //   id: 456,\n * //   category_ids: [11, 22, 33],\n * // }\n * <ReferenceArrayFieldBase label=\"Categories\" reference=\"categories\" source=\"category_ids\">\n *     <SingleFieldList>\n *         <ChipField source=\"name\" />\n *     </SingleFieldList>\n * </ReferenceArrayFieldBase>\n *\n * By default, restricts the displayed values to 1000. You can extend this limit\n * by setting the `perPage` prop.\n *\n * @example\n * <ReferenceArrayFieldBase perPage={10} reference=\"categories\" source=\"category_ids\">\n *    ...\n * </ReferenceArrayFieldBase>\n *\n * By default, the field displays the results in the order in which they are referenced\n * (i.e. in the order of the list of ids). You can change this order\n * by setting the `sort` prop (an object with `field` and `order` properties).\n *\n * @example\n * <ReferenceArrayFieldBase sort={{ field: 'name', order: 'ASC' }} reference=\"categories\" source=\"category_ids\">\n *    ...\n * </ReferenceArrayFieldBase>\n *\n * Also, you can filter the results to display only a subset of values. Use the\n * `filter` prop for that.\n *\n * @example\n * <ReferenceArrayFieldBase filter={{ is_published: true }} reference=\"categories\" source=\"category_ids\">\n *    ...\n * </ReferenceArrayFieldBase>\n */\nexport var ReferenceArrayFieldBase = function (props) {\n    var children = props.children, render = props.render, error = props.error, loading = props.loading, empty = props.empty, filter = props.filter, offline = props.offline, _a = props.page, page = _a === void 0 ? 1 : _a, perPage = props.perPage, reference = props.reference, resource = props.resource, sort = props.sort, source = props.source, queryOptions = props.queryOptions;\n    var record = useRecordContext(props);\n    var controllerProps = useReferenceArrayFieldController({\n        filter: filter,\n        page: page,\n        perPage: perPage,\n        record: record,\n        reference: reference,\n        resource: resource,\n        sort: sort,\n        source: source,\n        queryOptions: queryOptions,\n    });\n    if (!render && !children) {\n        throw new Error(\"<ReferenceArrayFieldBase> requires either a 'render' prop or 'children' prop\");\n    }\n    var controllerError = controllerProps.error, isPending = controllerProps.isPending, isPaused = controllerProps.isPaused, isPlaceholderData = controllerProps.isPlaceholderData;\n    var shouldRenderLoading = isPending && !isPaused && loading !== undefined && loading !== false;\n    var shouldRenderOffline = isPaused &&\n        (isPending || isPlaceholderData) &&\n        offline !== undefined &&\n        offline !== false;\n    var shouldRenderError = !isPending &&\n        !isPaused &&\n        controllerError &&\n        error !== undefined &&\n        error !== false;\n    var shouldRenderEmpty = // there is an empty page component\n     empty &&\n        // there is no error\n        !controllerProps.error &&\n        // the list is not loading data for the first time\n        !controllerProps.isPending &&\n        // the API returned no data (using either normal or partial pagination)\n        (controllerProps.total === 0 ||\n            (controllerProps.total == null &&\n                // @ts-ignore FIXME total may be undefined when using partial pagination but the ListControllerResult type is wrong about it\n                controllerProps.hasPreviousPage === false &&\n                // @ts-ignore FIXME total may be undefined when using partial pagination but the ListControllerResult type is wrong about it\n                controllerProps.hasNextPage === false &&\n                // @ts-ignore FIXME total may be undefined when using partial pagination but the ListControllerResult type is wrong about it\n                controllerProps.data.length === 0)) &&\n        // the user didn't set any filters\n        !Object.keys(controllerProps.filterValues).length;\n    return (React.createElement(ResourceContextProvider, { value: reference },\n        React.createElement(ListContextProvider, { value: controllerProps }, shouldRenderLoading\n            ? loading\n            : shouldRenderOffline\n                ? offline\n                : shouldRenderError\n                    ? error\n                    : shouldRenderEmpty\n                        ? empty\n                        : render\n                            ? render(controllerProps)\n                            : children)));\n};\n//# sourceMappingURL=ReferenceArrayFieldBase.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nexport var sanitizeFieldRestProps = function (_a) {\n    var cellClassName = _a.cellClassName, className = _a.className, emptyText = _a.emptyText, fullWidth = _a.fullWidth, headerClassName = _a.headerClassName, label = _a.label, linkType = _a.linkType, link = _a.link, locale = _a.locale, record = _a.record, refetch = _a.refetch, resource = _a.resource, sortable = _a.sortable, sortBy = _a.sortBy, sortByOrder = _a.sortByOrder, source = _a.source, textAlign = _a.textAlign, translateChoice = _a.translateChoice, props = __rest(_a, [\"cellClassName\", \"className\", \"emptyText\", \"fullWidth\", \"headerClassName\", \"label\", \"linkType\", \"link\", \"locale\", \"record\", \"refetch\", \"resource\", \"sortable\", \"sortBy\", \"sortByOrder\", \"source\", \"textAlign\", \"translateChoice\"]);\n    return props;\n};\n//# sourceMappingURL=sanitizeFieldRestProps.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useCallback, useMemo, useState, useRef, useEffect } from 'react';\nimport lodashDebounce from 'lodash/debounce.js';\nimport removeEmpty from \"../../util/removeEmpty.js\";\nimport { queryReducer, HIDE_FILTER, SET_FILTER, SET_PAGE, SET_PER_PAGE, SET_SORT, SHOW_FILTER, SORT_ASC, } from \"../list/index.js\";\n/**\n * Get the reference inputs parameters (page, sort, filters) and modifiers.\n *\n * @returns {Array} A tuple [parameters, modifiers].\n * Destructure as [\n *    { page, perPage, sort, order, filter, filterValues, displayedFilters, requestSignature },\n *    { setFilters, hideFilter, showFilter, setPage, setPerPage, setSort }\n * ]\n *\n * @example\n *\n * const [referenceParams, referenceParamsActions] = useReferenceParams({\n *      resource: 'posts',\n *      filterDefaultValues: {\n *          published: true\n *      },\n *      sort: {\n *          field: 'published_at',\n *          order: 'DESC'\n *      },\n *      perPage: 25\n * });\n *\n * const {\n *      page,\n *      perPage,\n *      sort,\n *      order,\n *      filter,\n *      filterValues,\n *      displayedFilters,\n *      requestSignature\n * } = referenceParams;\n *\n * const {\n *      setFilters,\n *      hideFilter,\n *      showFilter,\n *      setPage,\n *      setPerPage,\n *      setSort,\n * } = referenceParamsActions;\n */\nexport var useReferenceParams = function (_a) {\n    var resource = _a.resource, filter = _a.filter, _b = _a.sort, sort = _b === void 0 ? defaultSort : _b, _c = _a.page, page = _c === void 0 ? 1 : _c, _d = _a.perPage, perPage = _d === void 0 ? 10 : _d, _e = _a.debounce, debounce = _e === void 0 ? 500 : _e;\n    var _f = useState(defaultParams), params = _f[0], setParams = _f[1];\n    var tempParams = useRef();\n    var requestSignature = [\n        resource,\n        JSON.stringify(params),\n        JSON.stringify(filter),\n        JSON.stringify(sort),\n        page,\n        perPage,\n    ];\n    var query = useMemo(function () {\n        return getQuery({\n            params: params,\n            filterDefaultValues: filter,\n            sort: sort,\n            page: page,\n            perPage: perPage,\n        });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var changeParams = useCallback(function (action) {\n        if (!tempParams.current) {\n            // no other changeParams action dispatched this tick\n            var newTempParams_1 = queryReducer(query, action);\n            tempParams.current = newTempParams_1;\n            // schedule side effects for next tick\n            setTimeout(function () {\n                setParams(newTempParams_1);\n                tempParams.current = undefined;\n            }, 0);\n        }\n        else {\n            // side effects already scheduled, just change the params\n            tempParams.current = queryReducer(tempParams.current, action);\n        }\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n    var setSort = useCallback(function (sort) {\n        return changeParams({\n            type: SET_SORT,\n            payload: sort,\n        });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var setPage = useCallback(function (newPage) { return changeParams({ type: SET_PAGE, payload: newPage }); }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var setPerPage = useCallback(function (newPerPage) {\n        return changeParams({ type: SET_PER_PAGE, payload: newPerPage });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var filterValues = query.filter || emptyObject;\n    var displayedFilterValues = query.displayedFilters || emptyObject;\n    var debouncedSetFilters = useRef(lodashDebounce(function (filter, displayedFilters) {\n        if (displayedFilters === void 0) { displayedFilters = undefined; }\n        changeParams({\n            type: SET_FILTER,\n            payload: {\n                filter: removeEmpty(filter),\n                displayedFilters: displayedFilters,\n            },\n        });\n    }, debounce));\n    useEffect(function () {\n        return function () {\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n            debouncedSetFilters.current.cancel();\n        };\n    }, []);\n    var setFilters = useCallback(function (filter, displayedFilters, debounce) {\n        if (displayedFilters === void 0) { displayedFilters = undefined; }\n        if (debounce === void 0) { debounce = false; }\n        debounce\n            ? debouncedSetFilters.current(filter, displayedFilters)\n            : changeParams({\n                type: SET_FILTER,\n                payload: {\n                    filter: removeEmpty(filter),\n                    displayedFilters: displayedFilters,\n                },\n            });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var hideFilter = useCallback(function (filterName) {\n        changeParams({\n            type: HIDE_FILTER,\n            payload: filterName,\n        });\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n    var showFilter = useCallback(function (filterName, defaultValue) {\n        changeParams({\n            type: SHOW_FILTER,\n            payload: {\n                filterName: filterName,\n                defaultValue: defaultValue,\n            },\n        });\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n    return [\n        __assign(__assign({ filterValues: filterValues, requestSignature: requestSignature }, query), { displayedFilters: displayedFilterValues }),\n        {\n            changeParams: changeParams,\n            setPage: setPage,\n            setPerPage: setPerPage,\n            setSort: setSort,\n            setFilters: setFilters,\n            hideFilter: hideFilter,\n            showFilter: showFilter,\n        },\n    ];\n};\nexport var validQueryParams = [\n    'page',\n    'perPage',\n    'sort',\n    'order',\n    'filter',\n    'displayedFilters',\n];\n/**\n * Merge list params from 2 different sources:\n *   - the params stored in the local state\n *   - the props passed to the List component (including the filter defaultValues)\n */\nexport var getQuery = function (_a) {\n    var params = _a.params, filterDefaultValues = _a.filterDefaultValues, sort = _a.sort, page = _a.page, perPage = _a.perPage;\n    var query = hasCustomParams(params)\n        ? __assign({}, params) : { filter: filterDefaultValues || {} };\n    if (!query.sort) {\n        query.sort = sort.field;\n        query.order = sort.order;\n    }\n    if (query.page == null) {\n        query.page = page;\n    }\n    if (query.perPage == null) {\n        query.perPage = perPage;\n    }\n    if (query.page == null) {\n        query.page = 1;\n    }\n    return __assign(__assign({}, query), { page: getNumberOrDefault(query.page, 1), perPage: getNumberOrDefault(query.perPage, 10) });\n};\n/**\n * Check if user has already set custom sort, page, or filters for this list\n *\n * User params come from the Redux store as the params props. By default,\n * this object is:\n *\n * { filter: {}, order: null, page: 1, perPage: null, sort: null }\n *\n * To check if the user has custom params, we must compare the params\n * to these initial values.\n *\n * @param {Object} params\n */\nexport var hasCustomParams = function (params) {\n    return (params &&\n        params.filter &&\n        (Object.keys(params.filter).length > 0 ||\n            params.order != null ||\n            params.page !== 1 ||\n            params.perPage != null ||\n            params.sort != null));\n};\nexport var getNumberOrDefault = function (possibleNumber, defaultValue) {\n    if (typeof possibleNumber === 'undefined') {\n        return defaultValue;\n    }\n    var parsedNumber = typeof possibleNumber === 'string'\n        ? parseInt(possibleNumber, 10)\n        : possibleNumber;\n    return isNaN(parsedNumber) ? defaultValue : parsedNumber;\n};\nvar emptyObject = {};\nvar defaultSort = {\n    field: 'id',\n    order: SORT_ASC,\n};\nvar defaultParams = {};\n//# sourceMappingURL=useReferenceParams.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useCallback, useMemo } from 'react';\nimport { useFormContext, useWatch } from 'react-hook-form';\nimport { useGetList, useGetManyAggregate } from \"../../dataProvider/index.js\";\nimport { useReferenceParams } from \"./useReferenceParams.js\";\nimport { useWrappedSource } from \"../../core/index.js\";\n/**\n * Prepare data for the ReferenceArrayInput components\n *\n * @example\n *\n * const { allChoices, availableChoices, selectedChoices, error, isFetching, isLoading, isPending } = useReferenceArrayInputController({\n *      record: { referenceIds: ['id1', 'id2']};\n *      reference: 'reference';\n *      resource: 'resource';\n *      source: 'referenceIds';\n * });\n *\n * @param {Object} props\n * @param {Object} props.record The current resource record\n * @param {string} props.reference The linked resource name\n * @param {string} props.resource The current resource name\n * @param {string} props.source The key of the linked resource identifier\n *\n * @param {Props} props\n *\n * @return {Object} controllerProps Fetched data and callbacks for the ReferenceArrayInput components\n */\nexport var useReferenceArrayInputController = function (props) {\n    var _a;\n    var debounce = props.debounce, enableGetChoices = props.enableGetChoices, filter = props.filter, _b = props.page, initialPage = _b === void 0 ? 1 : _b, _c = props.perPage, initialPerPage = _c === void 0 ? 25 : _c, _d = props.sort, initialSort = _d === void 0 ? { field: 'id', order: 'DESC' } : _d, _e = props.queryOptions, queryOptions = _e === void 0 ? {} : _e, reference = props.reference, source = props.source;\n    var getValues = useFormContext().getValues;\n    var finalSource = useWrappedSource(source);\n    // When we change the defaultValue of the child input using react-hook-form resetField function,\n    // useWatch does not seem to get the new value. We fallback to getValues to get it.\n    var value = (_a = useWatch({ name: finalSource })) !== null && _a !== void 0 ? _a : getValues(finalSource);\n    var meta = queryOptions.meta, otherQueryOptions = __rest(queryOptions, [\"meta\"]);\n    /**\n     * Get the records related to the current value (with getMany)\n     */\n    var _f = useGetManyAggregate(reference, {\n        ids: value || EmptyArray,\n        meta: meta,\n    }, {\n        enabled: value != null && value.length > 0,\n    }), referenceRecords = _f.data, errorGetMany = _f.error, isLoadingGetMany = _f.isLoading, isFetchingGetMany = _f.isFetching, isPausedGetMany = _f.isPaused, isPendingGetMany = _f.isPending, isPlaceholderDataGetMany = _f.isPlaceholderData, refetchGetMany = _f.refetch;\n    var _g = useReferenceParams({\n        resource: reference,\n        page: initialPage,\n        perPage: initialPerPage,\n        sort: initialSort,\n        debounce: debounce,\n        filter: filter,\n    }), params = _g[0], paramsModifiers = _g[1];\n    // filter out not found references - happens when the dataProvider doesn't guarantee referential integrity\n    var finalReferenceRecords = referenceRecords\n        ? referenceRecords.filter(Boolean)\n        : [];\n    var isGetMatchingEnabled = enableGetChoices\n        ? enableGetChoices(params.filterValues)\n        : true;\n    var _h = useGetList(reference, {\n        pagination: {\n            page: params.page,\n            perPage: params.perPage,\n        },\n        sort: { field: params.sort, order: params.order },\n        filter: __assign(__assign({}, params.filter), filter),\n        meta: meta,\n    }, __assign({ retry: false, enabled: isGetMatchingEnabled, placeholderData: function (previousData) { return previousData; } }, otherQueryOptions)), matchingReferences = _h.data, total = _h.total, pageInfo = _h.pageInfo, errorGetList = _h.error, isLoadingGetList = _h.isLoading, isFetchingGetList = _h.isFetching, isPausedGetList = _h.isPaused, isPendingGetList = _h.isPending, isPlaceholderDataGetList = _h.isPlaceholderData, refetchGetMatching = _h.refetch;\n    // We merge the currently selected records with the matching ones, otherwise\n    // the component displaying the currently selected records may fail\n    var finalMatchingReferences = matchingReferences && matchingReferences.length > 0\n        ? mergeReferences(matchingReferences, finalReferenceRecords)\n        : finalReferenceRecords.length > 0\n            ? finalReferenceRecords\n            : matchingReferences;\n    var refetch = useCallback(function () {\n        refetchGetMany();\n        refetchGetMatching();\n    }, [refetchGetMany, refetchGetMatching]);\n    var currentSort = useMemo(function () { return ({\n        field: params.sort,\n        order: params.order,\n    }); }, [params.sort, params.order]);\n    return {\n        sort: currentSort,\n        allChoices: finalMatchingReferences,\n        availableChoices: matchingReferences,\n        selectedChoices: finalReferenceRecords,\n        displayedFilters: params.displayedFilters,\n        error: errorGetMany || errorGetList,\n        filter: filter,\n        filterValues: params.filterValues,\n        hideFilter: paramsModifiers.hideFilter,\n        isFetching: isFetchingGetMany || isFetchingGetList,\n        isLoading: isLoadingGetMany || isLoadingGetList,\n        isPaused: isPausedGetMany || isPausedGetList,\n        isPending: isPendingGetMany || isPendingGetList,\n        isPlaceholderData: isPlaceholderDataGetMany || isPlaceholderDataGetList,\n        page: params.page,\n        perPage: params.perPage,\n        refetch: refetch,\n        resource: reference,\n        setFilters: paramsModifiers.setFilters,\n        setPage: paramsModifiers.setPage,\n        setPerPage: paramsModifiers.setPerPage,\n        setSort: paramsModifiers.setSort,\n        showFilter: paramsModifiers.showFilter,\n        // we return source and not finalSource because child inputs (e.g. AutocompleteArrayInput) already call useInput and compute the final source\n        source: source,\n        total: total,\n        hasNextPage: pageInfo\n            ? pageInfo.hasNextPage\n            : total != null\n                ? params.page * params.perPage < total\n                : undefined,\n        hasPreviousPage: pageInfo ? pageInfo.hasPreviousPage : params.page > 1,\n        isFromReference: true,\n    };\n};\nvar EmptyArray = [];\n// concatenate and deduplicate two lists of records\nvar mergeReferences = function (ref1, ref2) {\n    var res = __spreadArray([], ref1, true);\n    var ids = ref1.map(function (ref) { return ref.id; });\n    ref2.forEach(function (ref) {\n        if (!ids.includes(ref.id)) {\n            ids.push(ref.id);\n            res.push(ref);\n        }\n    });\n    return res;\n};\n//# sourceMappingURL=useReferenceArrayInputController.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useWatch } from 'react-hook-form';\nimport { keepPreviousData } from '@tanstack/react-query';\nimport { useGetList } from \"../../dataProvider/index.js\";\nimport { useReference } from \"../useReference.js\";\nimport { useReferenceParams } from \"./useReferenceParams.js\";\nimport { useWrappedSource } from \"../../core/index.js\";\n/**\n * A hook for choosing a reference record. Useful for foreign keys.\n *\n * This hook fetches the possible values in the reference resource\n * (using `dataProvider.getList()`), it returns the possible choices\n * as the `choices` attribute.\n *\n * @example\n * const {\n *      choices, // the available reference resource\n * } = useReferenceInputController({\n *      input, // the input props\n *      resource: 'comments',\n *      reference: 'posts',\n *      source: 'post_id',\n * });\n *\n * The hook also allow to filter results. It returns a `setFilters`\n * function. It uses the value to create a filter for the query.\n * You can also add a permanentFilter to further filter the result:\n *\n * @example\n * const {\n *      choices, // the available reference resource\n *      setFilter,\n * } = useReferenceInputController({\n *      input, // the input props\n *      resource: 'comments',\n *      reference: 'posts',\n *      source: 'post_id',\n *      permanentFilter: {\n *          author: 'john'\n *      },\n * });\n */\nexport var useReferenceInputController = function (props) {\n    var debounce = props.debounce, enableGetChoices = props.enableGetChoices, filter = props.filter, _a = props.page, initialPage = _a === void 0 ? 1 : _a, _b = props.perPage, initialPerPage = _b === void 0 ? 25 : _b, initialSort = props.sort, _c = props.queryOptions, queryOptions = _c === void 0 ? {} : _c, reference = props.reference, source = props.source;\n    var meta = queryOptions.meta, otherQueryOptions = __rest(queryOptions, [\"meta\"]);\n    var _d = useReferenceParams({\n        resource: reference,\n        page: initialPage,\n        perPage: initialPerPage,\n        sort: initialSort,\n        debounce: debounce,\n        filter: filter,\n    }), params = _d[0], paramsModifiers = _d[1];\n    // selection logic\n    var finalSource = useWrappedSource(source);\n    var currentValue = useWatch({ name: finalSource });\n    var isGetMatchingEnabled = enableGetChoices\n        ? enableGetChoices(params.filterValues)\n        : true;\n    // fetch possible values\n    var _e = useGetList(reference, {\n        pagination: {\n            page: params.page,\n            perPage: params.perPage,\n        },\n        sort: { field: params.sort, order: params.order },\n        filter: __assign(__assign({}, params.filter), filter),\n        meta: meta,\n    }, __assign({ enabled: isGetMatchingEnabled, placeholderData: keepPreviousData }, otherQueryOptions)), possibleValuesData = _e.data, total = _e.total, pageInfo = _e.pageInfo, isFetchingPossibleValues = _e.isFetching, isLoadingPossibleValues = _e.isLoading, isPausedPossibleValues = _e.isPaused, isPendingPossibleValues = _e.isPending, isPlaceholderDataPossibleValues = _e.isPlaceholderData, errorPossibleValues = _e.error, refetchGetList = _e.refetch;\n    // fetch current value\n    var _f = useReference({\n        id: currentValue,\n        reference: reference,\n        // @ts-ignore the types of the queryOptions for the getMAny and getList are not compatible\n        options: __assign({ enabled: currentValue != null && currentValue !== '', meta: meta }, otherQueryOptions),\n    }), currentReferenceRecord = _f.referenceRecord, refetchReference = _f.refetch, errorReference = _f.error, isLoadingReference = _f.isLoading, isFetchingReference = _f.isFetching, isPausedReference = _f.isPaused, isPendingReference = _f.isPending, isPlaceholderDataReference = _f.isPlaceholderData;\n    var isPending = \n    // The reference query isn't enabled when there is no value yet but as it has no data, react-query will flag it as pending\n    (currentValue != null && currentValue !== '' && isPendingReference) ||\n        isPendingPossibleValues;\n    var isPaused = isPausedReference || isPausedPossibleValues;\n    // We need to delay the update of the referenceRecord and the finalData\n    // to the next React state update, because otherwise it can raise a warning\n    // with AutocompleteInput saying the current value is not in the list of choices\n    var _g = useState(undefined), referenceRecord = _g[0], setReferenceRecord = _g[1];\n    useEffect(function () {\n        setReferenceRecord(currentReferenceRecord);\n    }, [currentReferenceRecord]);\n    // add current value to possible sources\n    var _h = useMemo(function () {\n        if (isPaused && possibleValuesData == null && referenceRecord == null) {\n            return {\n                finalData: null,\n                finalTotal: null,\n            };\n        }\n        if (referenceRecord == null ||\n            possibleValuesData == null ||\n            (possibleValuesData !== null && possibleValuesData !== void 0 ? possibleValuesData : []).find(function (record) { return record.id === referenceRecord.id; })) {\n            // Here we might have the referenceRecord but no data (because of enableGetChoices for instance)\n            var finalData_1 = possibleValuesData !== null && possibleValuesData !== void 0 ? possibleValuesData : [];\n            if (referenceRecord &&\n                finalData_1.find(function (r) { return r.id === referenceRecord.id; }) == null) {\n                finalData_1.push(referenceRecord);\n            }\n            return {\n                finalData: finalData_1,\n                finalTotal: total !== null && total !== void 0 ? total : finalData_1.length,\n            };\n        }\n        else {\n            return {\n                finalData: __spreadArray([referenceRecord], (possibleValuesData !== null && possibleValuesData !== void 0 ? possibleValuesData : []), true),\n                finalTotal: total == null ? undefined : total + 1,\n            };\n        }\n    }, [isPaused, referenceRecord, possibleValuesData, total]), finalData = _h.finalData, finalTotal = _h.finalTotal;\n    var refetch = useCallback(function () {\n        refetchGetList();\n        refetchReference();\n    }, [refetchGetList, refetchReference]);\n    var currentSort = useMemo(function () { return ({\n        field: params.sort,\n        order: params.order,\n    }); }, [params.sort, params.order]);\n    return useMemo(function () {\n        return ({\n            sort: currentSort,\n            // TODO v6: we shouldn't return a default empty array. This is actually enforced at the type level in other hooks such as useListController\n            allChoices: finalData !== null && finalData !== void 0 ? finalData : [],\n            // TODO v6: same as above\n            availableChoices: possibleValuesData !== null && possibleValuesData !== void 0 ? possibleValuesData : [],\n            // TODO v6: same as above\n            selectedChoices: referenceRecord ? [referenceRecord] : [],\n            displayedFilters: params.displayedFilters,\n            error: errorReference || errorPossibleValues,\n            filter: params.filter,\n            filterValues: params.filterValues,\n            hideFilter: paramsModifiers.hideFilter,\n            isFetching: isFetchingReference || isFetchingPossibleValues,\n            isLoading: isLoadingReference || isLoadingPossibleValues,\n            isPaused: isPausedReference || isPausedPossibleValues,\n            isPending: isPending,\n            isPlaceholderData: isPlaceholderDataReference ||\n                isPlaceholderDataPossibleValues,\n            page: params.page,\n            perPage: params.perPage,\n            refetch: refetch,\n            resource: reference,\n            setFilters: paramsModifiers.setFilters,\n            setPage: paramsModifiers.setPage,\n            setPerPage: paramsModifiers.setPerPage,\n            setSort: paramsModifiers.setSort,\n            showFilter: paramsModifiers.showFilter,\n            // we return source and not finalSource because child inputs (e.g. AutocompleteInput) already call useInput and compute the final source\n            source: source,\n            total: finalTotal,\n            hasNextPage: pageInfo\n                ? pageInfo.hasNextPage\n                : total != null\n                    ? params.page * params.perPage < total\n                    : undefined,\n            hasPreviousPage: pageInfo\n                ? pageInfo.hasPreviousPage\n                : params.page > 1,\n            isFromReference: true,\n        });\n    }, [\n        currentSort,\n        errorPossibleValues,\n        errorReference,\n        finalData,\n        finalTotal,\n        isFetchingPossibleValues,\n        isFetchingReference,\n        isLoadingPossibleValues,\n        isLoadingReference,\n        isPausedPossibleValues,\n        isPausedReference,\n        isPending,\n        isPlaceholderDataReference,\n        isPlaceholderDataPossibleValues,\n        pageInfo,\n        params.displayedFilters,\n        params.filter,\n        params.filterValues,\n        params.page,\n        params.perPage,\n        paramsModifiers.hideFilter,\n        paramsModifiers.setFilters,\n        paramsModifiers.setPage,\n        paramsModifiers.setPerPage,\n        paramsModifiers.setSort,\n        paramsModifiers.showFilter,\n        possibleValuesData,\n        reference,\n        referenceRecord,\n        refetch,\n        source,\n        total,\n    ]);\n};\n//# sourceMappingURL=useReferenceInputController.js.map","import { createContext } from 'react';\n/**\n * Context to store choices and functions to retrieve them.\n *\n * Use the useChoicesContext() hook to read the context.\n */\nexport var ChoicesContext = createContext(undefined);\n//# sourceMappingURL=ChoicesContext.js.map","import * as React from 'react';\nimport { ChoicesContext } from \"./ChoicesContext.js\";\nexport var ChoicesContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(ChoicesContext.Provider, { value: value }, children));\n};\n//# sourceMappingURL=ChoicesContextProvider.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport { ResourceContextProvider } from \"../../core/index.js\";\nimport { ChoicesContextProvider } from \"../../form/choices/ChoicesContextProvider.js\";\nimport { useReferenceInputController, } from \"./useReferenceInputController.js\";\n/**\n * An Input component for choosing a reference record. Useful for foreign keys.\n *\n * This component fetches the possible values in the reference resource\n * (using `dataProvider.getList()`), and renders the child you passed\n * to which it passes the possible choices via a `ChoicesContext`.\n *\n * You must pass a child selection component to customize the way the reference\n * selector is displayed (e.g. using `<SelectInput>` or `<RadioButtonGroupInput>`\n * instead of `<AutocompleteInput>` ).\n *\n * Note that the child component should handle the error and loading cases as this base component does not.\n *\n * @example // using a SelectInput as selector\n * export const CommentEdit = () => (\n *     <Edit>\n *         <SimpleForm>\n *             <ReferenceInputBase label=\"Post\" source=\"post_id\" reference=\"posts\">\n *                 <SelectInput optionText=\"title\" />\n *             </ReferenceInputBase>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * By default, restricts the possible values to 25. You can extend this limit\n * by setting the `perPage` prop.\n *\n * @example\n * <ReferenceInputBase source=\"post_id\" reference=\"posts\" perPage={100}/>\n *\n * By default, orders the possible values by id desc. You can change this order\n * by setting the `sort` prop (an object with `field` and `order` properties).\n *\n * @example\n * <ReferenceInputBase\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      sort={{ field: 'title', order: 'ASC' }}\n * >\n *     <SelectInput optionText=\"title\" />\n * </ReferenceInputBase>\n *\n * Also, you can filter the query used to populate the possible values. Use the\n * `filter` prop for that.\n *\n * @example\n * <ReferenceInputBase\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      filter={{ is_published: true }}\n * >\n *      <SelectInput optionText=\"title\" />\n * </ReferenceInputBase>\n *\n * The enclosed component may filter results. ReferenceInputBase create a ChoicesContext which provides\n * a `setFilters` function. You can call this function to filter the results.\n */\nexport var ReferenceInputBase = function (props) {\n    var children = props.children, _a = props.filter, filter = _a === void 0 ? {} : _a, offline = props.offline, reference = props.reference, _b = props.sort, sort = _b === void 0 ? { field: 'id', order: 'DESC' } : _b;\n    var controllerProps = useReferenceInputController(__assign(__assign({}, props), { sort: sort, filter: filter }));\n    var isPaused = controllerProps.isPaused, isPending = controllerProps.isPending;\n    // isPending is true: there's no cached data and no query attempt was finished yet\n    // isPaused is true: the query was paused (e.g. due to a network issue)\n    // Both true: we're offline and have no data to show\n    var shouldRenderOffline = isPaused && isPending && offline !== undefined && offline !== false;\n    return (React.createElement(ResourceContextProvider, { value: reference },\n        React.createElement(ChoicesContextProvider, { value: controllerProps }, shouldRenderOffline ? offline : children)));\n};\n//# sourceMappingURL=ReferenceInputBase.js.map","import * as React from 'react';\nimport { ResourceContext } from \"./ResourceContext.js\";\n/**\n * Create a Resource Context with the resource name\n *\n * Some react-admin components rely on the resource name to be available in the context.\n * This component provides it.\n *\n * If the value is empty, the context is not provided.\n *\n * @param {string} value the resource name\n * @example\n *\n * import { ResourceContextProvider } from 'react-admin';\n *\n * const MyComponent = () => (\n *    <ResourceContextProvider value=\"posts\">\n *       <MyResourceSpecificComponent />\n *   </ResourceContextProvider>\n * );\n */\nexport var ResourceContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return value ? (React.createElement(ResourceContext.Provider, { value: value }, children)) : (children);\n};\n//# sourceMappingURL=ResourceContextProvider.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useReferenceArrayInputController, } from \"./useReferenceArrayInputController.js\";\nimport { ResourceContextProvider } from \"../../core/ResourceContextProvider.js\";\nimport { ChoicesContextProvider } from \"../../form/choices/ChoicesContextProvider.js\";\n/**\n * An Input component for fields containing a list of references to another resource.\n * Useful for 'hasMany' relationship.\n *\n * @example\n * The post object has many tags, so the post resource looks like:\n * {\n *    id: 1234,\n *    tag_ids: [ \"1\", \"23\", \"4\" ]\n * }\n *\n * ReferenceArrayInputBase component fetches the current resources (using\n * `dataProvider.getMany()`) as well as possible resources (using\n * `dataProvider.getList()`) in the reference endpoint. It then\n * delegates rendering to its child component, to which it makes the possible\n * choices available through the ChoicesContext.\n *\n * Use it with a selector component as child, like `<SelectArrayInput>`\n * or <CheckboxGroupInput>.\n *\n * @example\n * export const PostEdit = () => (\n *     <Edit>\n *         <SimpleForm>\n *             <ReferenceArrayInputBase source=\"tag_ids\" reference=\"tags\">\n *                 <SelectArrayInput optionText=\"name\" />\n *             </ReferenceArrayInputBase>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * By default, restricts the possible values to 25. You can extend this limit\n * by setting the `perPage` prop.\n *\n * @example\n * <ReferenceArrayInputBase\n *      source=\"tag_ids\"\n *      reference=\"tags\"\n *      perPage={100}>\n *     <SelectArrayInput optionText=\"name\" />\n * </ReferenceArrayInputBase>\n *\n * By default, orders the possible values by id desc. You can change this order\n * by setting the `sort` prop (an object with `field` and `order` properties).\n *\n * @example\n * <ReferenceArrayInputBase\n *      source=\"tag_ids\"\n *      reference=\"tags\"\n *      sort={{ field: 'name', order: 'ASC' }}>\n *     <SelectArrayInput optionText=\"name\" />\n * </ReferenceArrayInputBase>\n *\n * Also, you can filter the query used to populate the possible values. Use the\n * `filter` prop for that.\n *\n * @example\n * <ReferenceArrayInputBase\n *      source=\"tag_ids\"\n *      reference=\"tags\"\n *      filter={{ is_public: true }}>\n *     <SelectArrayInput optionText=\"name\" />\n * </ReferenceArrayInputBase>\n *\n * The enclosed component may filter results. ReferenceArrayInputBase create a ChoicesContext which provides\n * a `setFilters` function. You can call this function to filter the results.\n */\nexport var ReferenceArrayInputBase = function (props) {\n    var children = props.children, _a = props.filter, filter = _a === void 0 ? defaultFilter : _a, offline = props.offline, reference = props.reference, render = props.render, sort = props.sort;\n    if (children && React.Children.count(children) !== 1) {\n        throw new Error('<ReferenceArrayInputBase> only accepts a single child (like <AutocompleteArrayInput>)');\n    }\n    if (!render && !children) {\n        throw new Error(\"<ReferenceArrayInputBase> requires either a 'render' prop or 'children' prop\");\n    }\n    var controllerProps = useReferenceArrayInputController(__assign(__assign({}, props), { sort: sort, filter: filter }));\n    var isPaused = controllerProps.isPaused, isPending = controllerProps.isPending;\n    // isPending is true: there's no cached data and no query attempt was finished yet\n    // isPaused is true: the query was paused (e.g. due to a network issue)\n    // Both true: we're offline and have no data to show\n    var shouldRenderOffline = isPaused && isPending && offline !== undefined && offline !== false;\n    return (React.createElement(ResourceContextProvider, { value: reference },\n        React.createElement(ChoicesContextProvider, { value: controllerProps }, shouldRenderOffline\n            ? offline\n            : render\n                ? render(controllerProps)\n                : children)));\n};\nvar defaultFilter = {};\n//# sourceMappingURL=ReferenceArrayInputBase.js.map","import lodashMemoize from 'lodash/memoize.js';\n/* @link http://stackoverflow.com/questions/46155/validate-email-address-in-javascript */\nvar EMAIL_REGEX = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; // eslint-disable-line no-useless-escape\nexport var isEmpty = function (value) {\n    return typeof value === 'undefined' ||\n        value === null ||\n        value === '' ||\n        (Array.isArray(value) && value.length === 0);\n};\n// type predicate, see https://www.typescriptlang.org/docs/handbook/2/narrowing.html#using-type-predicates\nfunction isValidationErrorMessageWithArgs(error) {\n    return error ? error.hasOwnProperty('message') : false;\n}\nvar getMessage = function (message, messageArgs, value, values) {\n    return typeof message === 'function'\n        ? message({\n            args: messageArgs,\n            value: value,\n            values: values,\n        })\n        : messageArgs\n            ? {\n                message: message,\n                args: messageArgs,\n            }\n            : message;\n};\n// If we define validation functions directly in JSX, it will\n// result in a new function at every render, and then trigger infinite re-render.\n// Hence, we memoize every built-in validator to prevent a \"Maximum call stack\" error.\nvar memoize = function (fn) {\n    return lodashMemoize(fn, function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return JSON.stringify(args);\n    });\n};\nvar isFunction = function (value) { return typeof value === 'function'; };\nexport var combine2Validators = function (validator1, validator2) {\n    return function (value, values, meta) {\n        var result1 = validator1(value, values, meta);\n        if (!result1) {\n            return validator2(value, values, meta);\n        }\n        if (typeof result1 === 'string' ||\n            isValidationErrorMessageWithArgs(result1)) {\n            return result1;\n        }\n        return result1.then(function (resolvedResult1) {\n            if (!resolvedResult1) {\n                return validator2(value, values, meta);\n            }\n            return resolvedResult1;\n        });\n    };\n};\n// Compose multiple validators into a single one for use with react-hook-form\nexport var composeValidators = function () {\n    var validators = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        validators[_i] = arguments[_i];\n    }\n    var allValidators = (Array.isArray(validators[0]) ? validators[0] : validators).filter(isFunction);\n    return allValidators.reduce(combine2Validators, function () { return null; });\n};\n// Compose multiple validators into a single one for use with react-hook-form\nexport var composeSyncValidators = function () {\n    var validators = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        validators[_i] = arguments[_i];\n    }\n    return function (value, values, meta) {\n        var allValidators = (Array.isArray(validators[0]) ? validators[0] : validators).filter(isFunction);\n        for (var _i = 0, allValidators_1 = allValidators; _i < allValidators_1.length; _i++) {\n            var validator = allValidators_1[_i];\n            var error = validator(value, values, meta);\n            if (error) {\n                return error;\n            }\n        }\n    };\n};\n/**\n * Required validator\n *\n * Returns an error if the value is null, undefined, or empty\n *\n * @param {string|Function} message\n *\n * @example\n *\n * const titleValidators = [required('The title is required')];\n * <TextInput name=\"title\" validate={titleValidators} />\n */\nexport var required = memoize(function (message) {\n    if (message === void 0) { message = 'ra.validation.required'; }\n    return Object.assign(function (value, values) {\n        return isEmpty(value)\n            ? getMessage(message, undefined, value, values)\n            : undefined;\n    }, { isRequired: true });\n});\n/**\n * Minimum length validator\n *\n * Returns an error if the value has a length less than the parameter\n *\n * @param {integer} min\n * @param {string|Function} message\n *\n * @example\n *\n * const passwordValidators = [minLength(10, 'Should be at least 10 characters')];\n * <TextInput type=\"password\" name=\"password\" validate={passwordValidators} />\n */\nexport var minLength = memoize(function (min, message) {\n    if (message === void 0) { message = 'ra.validation.minLength'; }\n    return function (value, values) {\n        return !isEmpty(value) && value.length < min\n            ? getMessage(message, { min: min }, value, values)\n            : undefined;\n    };\n});\n/**\n * Maximum length validator\n *\n * Returns an error if the value has a length higher than the parameter\n *\n * @param {integer} max\n * @param {string|Function} message\n *\n * @example\n *\n * const nameValidators = [maxLength(10, 'Should be at most 10 characters')];\n * <TextInput name=\"name\" validate={nameValidators} />\n */\nexport var maxLength = memoize(function (max, message) {\n    if (message === void 0) { message = 'ra.validation.maxLength'; }\n    return function (value, values) {\n        return !isEmpty(value) && value.length > max\n            ? getMessage(message, { max: max }, value, values)\n            : undefined;\n    };\n});\n/**\n * Minimum validator\n *\n * Returns an error if the value is less than the parameter\n *\n * @param {integer} min\n * @param {string|Function} message\n *\n * @example\n *\n * const fooValidators = [minValue(5, 'Should be more than 5')];\n * <NumberInput name=\"foo\" validate={fooValidators} />\n */\nexport var minValue = memoize(function (min, message) {\n    if (message === void 0) { message = 'ra.validation.minValue'; }\n    return function (value, values) {\n        return !isEmpty(value) && value < min\n            ? getMessage(message, { min: min }, value, values)\n            : undefined;\n    };\n});\n/**\n * Maximum validator\n *\n * Returns an error if the value is higher than the parameter\n *\n * @param {integer} max\n * @param {string|Function} message\n *\n * @example\n *\n * const fooValidators = [maxValue(10, 'Should be less than 10')];\n * <NumberInput name=\"foo\" validate={fooValidators} />\n */\nexport var maxValue = memoize(function (max, message) {\n    if (message === void 0) { message = 'ra.validation.maxValue'; }\n    return function (value, values) {\n        return !isEmpty(value) && value > max\n            ? getMessage(message, { max: max }, value, values)\n            : undefined;\n    };\n});\n/**\n * Number validator\n *\n * Returns an error if the value is not a number\n *\n * @param {string|Function} message\n *\n * @example\n *\n * const ageValidators = [number('Must be a number')];\n * <TextInput name=\"age\" validate={ageValidators} />\n */\nexport var number = memoize(function (message) {\n    if (message === void 0) { message = 'ra.validation.number'; }\n    return function (value, values) {\n        return !isEmpty(value) && isNaN(Number(value))\n            ? getMessage(message, undefined, value, values)\n            : undefined;\n    };\n});\n/**\n * Regular expression validator\n *\n * Returns an error if the value does not match the pattern given as parameter\n *\n * @param {RegExp} pattern\n * @param {string|Function} message\n *\n * @example\n *\n * const zipValidators = [regex(/^\\d{5}(?:[-\\s]\\d{4})?$/, 'Must be a zip code')];\n * <TextInput name=\"zip\" validate={zipValidators} />\n */\nexport var regex = lodashMemoize(function (pattern, message) {\n    if (message === void 0) { message = 'ra.validation.regex'; }\n    return function (value, values) {\n        return !isEmpty(value) && typeof value === 'string' && !pattern.test(value)\n            ? getMessage(message, { pattern: pattern }, value, values)\n            : undefined;\n    };\n}, function (pattern, message) {\n    return pattern.toString() + message;\n});\n/**\n * Email validator\n *\n * Returns an error if the value is not a valid email\n *\n * @param {string|Function} message\n *\n * @example\n *\n * const emailValidators = [email('Must be an email')];\n * <TextInput name=\"email\" validate={emailValidators} />\n */\nexport var email = memoize(function (message) {\n    if (message === void 0) { message = 'ra.validation.email'; }\n    return regex(EMAIL_REGEX, message);\n});\nvar oneOfTypeMessage = function (_a) {\n    var args = _a.args;\n    return ({\n        message: 'ra.validation.oneOf',\n        args: args,\n    });\n};\n/**\n * Choices validator\n *\n * Returns an error if the value is not among the list passed as parameter\n *\n * @param {array} list\n * @param {string|Function} message\n *\n * @example\n *\n * const genderValidators = [choices(['male', 'female'], 'Must be either Male or Female')];\n * <TextInput name=\"gender\" validate={genderValidators} />\n */\nexport var choices = memoize(function (list, message) {\n    if (message === void 0) { message = oneOfTypeMessage; }\n    return function (value, values) {\n        return !isEmpty(value) && list.indexOf(value) === -1\n            ? getMessage(message, { list: list }, value, values)\n            : undefined;\n    };\n});\n/**\n * Given a validator, returns a boolean indicating whether the field is required or not.\n */\nexport var isRequired = function (validate) {\n    if (validate && validate.isRequired) {\n        return true;\n    }\n    if (Array.isArray(validate)) {\n        return !!validate.find(function (it) { return it.isRequired; });\n    }\n    return false;\n};\n//# sourceMappingURL=validate.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useTranslate } from \"../../i18n/index.js\";\n/**\n * @deprecated\n * This internal hook returns a function that can translate an error message.\n * It handles simple string errors and those which have a message and args.\n * Only useful if you are implementing custom inputs without leveraging our useInput hook.\n *\n * @example\n * const MyInput = props => {\n *      const { field, fieldState } = useController(props);\n *      useEffect(() => {\n *          if (fieldState.error) {\n *              const errorMessage = useGetValidationErrorMessage(fieldState.error);\n *              alert(errorMessage);\n *          }\n *      }, [fieldState.error]);\n *\n *      return (\n *          <input {...field} />\n *      );\n * }\n *\n * @see ValidationErrorMessage\n * @see ValidationErrorMessageWithArgs\n */\nexport var useGetValidationErrorMessage = function () {\n    var translate = useTranslate();\n    return function (error) {\n        if (error.message != null) {\n            var _a = error, message = _a.message, args = _a.args;\n            return translate(message, __assign({ _: message }, args));\n        }\n        return translate(error, { _: error });\n    };\n};\n//# sourceMappingURL=useGetValidationErrorMessage.js.map","import { useEffect, useRef } from 'react';\nimport { useFormContext, } from 'react-hook-form';\nimport get from 'lodash/get.js';\nimport { useRecordContext } from \"../controller/index.js\";\nimport { useWrappedSource } from \"../core/index.js\";\n/*\n * This hook updates the input with the default value if default value is present\n * and field input is not already populated or dirty\n */\nexport var useApplyInputDefaultValues = function (_a) {\n    var inputProps = _a.inputProps, isArrayInput = _a.isArrayInput, fieldArrayInputControl = _a.fieldArrayInputControl;\n    var defaultValue = inputProps.defaultValue, source = inputProps.source, disabled = inputProps.disabled;\n    var finalSource = useWrappedSource(source);\n    var record = useRecordContext(inputProps);\n    var _b = useFormContext(), getValues = _b.getValues, resetField = _b.resetField, reset = _b.reset, subscribe = _b.subscribe;\n    var recordValue = get(record, finalSource);\n    var formValue = get(getValues(), finalSource);\n    var isDirty = useRef(undefined);\n    useEffect(function () {\n        return subscribe({\n            // Even though we only need dirtyFields, we subscribe to values as well to\n            // ensure we properly receive dirtyFields updates for newly added items in an ArrayInput\n            formState: { values: true, dirtyFields: true },\n            callback: function (_a) {\n                var dirtyFields = _a.dirtyFields;\n                isDirty.current = get(dirtyFields !== null && dirtyFields !== void 0 ? dirtyFields : {}, finalSource, false);\n            },\n        });\n    }, [finalSource, subscribe]);\n    useEffect(function () {\n        if (defaultValue == null ||\n            formValue != null ||\n            // When the input is disabled, its value may always be undefined, no matter the default value.\n            // This prevents from trying to reset the value indefinitely.\n            disabled ||\n            // We check strictly for undefined to avoid setting default value\n            // when the field is null\n            recordValue !== undefined ||\n            isDirty.current === true) {\n            return;\n        }\n        // Side note: For Array Input but checked for all to avoid possible regression\n        // Since we use get(record, source), if source is like foo.23.bar,\n        // this effect will run. However we only want to set the default value\n        // for the subfield bar if the record actually has a value for foo.23\n        var pathContainsIndex = finalSource\n            .split('.')\n            .some(function (pathPart) { return numericRegex.test(pathPart); });\n        if (pathContainsIndex) {\n            var parentPath = finalSource.split('.').slice(0, -1).join('.');\n            var parentValue = get(getValues(), parentPath);\n            if (parentValue == null) {\n                // the parent is undefined, so we don't want to set the default value\n                return;\n            }\n        }\n        if (isArrayInput) {\n            if (!fieldArrayInputControl) {\n                throw new Error('useApplyInputDefaultValues: No fieldArrayInputControl passed in props for array input usage');\n            }\n            // We need to update inputs nested in array using react hook forms\n            // own array controller rather then the generic reset to prevent control losing\n            // context of the nested inputs\n            fieldArrayInputControl.replace(defaultValue);\n            // resets the form so that control no longer sees the form as dirty after\n            // defaults applied\n            reset({}, { keepValues: true });\n            return;\n        }\n        resetField(finalSource, { defaultValue: defaultValue });\n    });\n};\nvar numericRegex = /^\\d+$/;\n//# sourceMappingURL=useApplyInputDefaultValues.js.map","import { createContext } from 'react';\n/**\n * Context allowing inputs to register to a specific group.\n * This enables other components in the group to access group properties such as its\n * validation (valid/invalid) or whether its inputs have been updated (dirty/pristine).\n *\n * This should only be used through a FormGroupContextProvider.\n */\nexport var FormGroupContext = createContext(null);\n//# sourceMappingURL=FormGroupContext.js.map","import { useContext } from 'react';\nimport { FormGroupContext } from \"./FormGroupContext.js\";\n/**\n * Retrieve the name of the form group the consumer belongs to. May be undefined if the consumer is not inside a form group.\n */\nexport var useFormGroupContext = function () {\n    var context = useContext(FormGroupContext);\n    return context;\n};\n//# sourceMappingURL=useFormGroupContext.js.map","import { createContext } from 'react';\nexport var FormGroupsContext = createContext(undefined);\nFormGroupsContext.displayName = 'FormGroupsContext';\n//# sourceMappingURL=FormGroupsContext.js.map","import { useContext } from 'react';\nimport { FormGroupsContext } from \"./FormGroupsContext.js\";\n/**\n * Retrieve the form groups management context. Used by inputs to register themselves into a form group.\n */\nexport var useFormGroups = function () {\n    var context = useContext(FormGroupsContext);\n    return context;\n};\n//# sourceMappingURL=useFormGroups.js.map","import { createContext } from 'react';\n/**\n * A React context that provides access to an ArrayInput methods as provided by react-hook-form\n * Useful to create custom array input iterators.\n * @see {ArrayInput}\n * @see {@link https://react-hook-form.com/docs/usefieldarray}\n */\nexport var ArrayInputContext = createContext(undefined);\n//# sourceMappingURL=ArrayInputContext.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport * as React from 'react';\nimport { useEffect } from 'react';\nimport { useFieldArray, useFormContext } from 'react-hook-form';\nimport { composeSyncValidators } from \"../../form/validation/validate.js\";\nimport { useGetValidationErrorMessage } from \"../../form/validation/useGetValidationErrorMessage.js\";\nimport { useApplyInputDefaultValues } from \"../../form/useApplyInputDefaultValues.js\";\nimport { useFormGroupContext } from \"../../form/groups/useFormGroupContext.js\";\nimport { useFormGroups } from \"../../form/groups/useFormGroups.js\";\nimport { OptionalResourceContextProvider, SourceContextProvider, useSourceContext, } from \"../../core/index.js\";\nimport { ArrayInputContext } from \"./ArrayInputContext.js\";\n/**\n * To edit arrays of data embedded inside a record, <ArrayInputBase> creates a list of sub-forms.\n *\n *  @example\n *\n *      import { ArrayInputBase } from 'ra-core';\n *      import { SimpleFormIterator, DateInput, TextInput } from 'my-react-admin-ui';\n *\n *      <ArrayInputBase source=\"backlinks\">\n *          <SimpleFormIterator>\n *              <DateInput source=\"date\" />\n *              <TextInput source=\"url\" />\n *          </SimpleFormIterator>\n *      </ArrayInputBase>\n *\n * <ArrayInputBase> allows the edition of embedded arrays, like the backlinks field\n * in the following post record:\n *\n * {\n *   id: 123\n *   backlinks: [\n *         {\n *             date: '2012-08-10T00:00:00.000Z',\n *             url: 'http://example.com/foo/bar.html',\n *         },\n *         {\n *             date: '2012-08-14T00:00:00.000Z',\n *             url: 'https://blog.johndoe.com/2012/08/12/foobar.html',\n *         }\n *    ]\n * }\n *\n * <ArrayInputBase> expects a single child, which must be a *form iterator* component.\n * A form iterator is a component accepting a fields object as passed by\n * react-hook-form-arrays's useFieldArray() hook, and defining a layout for\n * an array of fields.\n *\n * @see {@link https://react-hook-form.com/docs/usefieldarray}\n */\nexport var ArrayInputBase = function (props) {\n    var children = props.children, _a = props.defaultValue, defaultValue = _a === void 0 ? [] : _a, resourceFromProps = props.resource, arraySource = props.source, validate = props.validate;\n    var formGroupName = useFormGroupContext();\n    var formGroups = useFormGroups();\n    var parentSourceContext = useSourceContext();\n    var finalSource = parentSourceContext.getSource(arraySource);\n    var sanitizedValidate = Array.isArray(validate)\n        ? composeSyncValidators(validate)\n        : validate;\n    var getValidationErrorMessage = useGetValidationErrorMessage();\n    var getValues = useFormContext().getValues;\n    var fieldProps = useFieldArray({\n        name: finalSource,\n        rules: {\n            validate: function (value) { return __awaiter(void 0, void 0, void 0, function () {\n                var error;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!sanitizedValidate)\n                                return [2 /*return*/, true];\n                            return [4 /*yield*/, sanitizedValidate(value, getValues(), props)];\n                        case 1:\n                            error = _a.sent();\n                            if (!error)\n                                return [2 /*return*/, true];\n                            return [2 /*return*/, getValidationErrorMessage(error)];\n                    }\n                });\n            }); },\n        },\n    });\n    useEffect(function () {\n        if (formGroups && formGroupName != null) {\n            formGroups.registerField(finalSource, formGroupName);\n        }\n        return function () {\n            if (formGroups && formGroupName != null) {\n                formGroups.unregisterField(finalSource, formGroupName);\n            }\n        };\n    }, [finalSource, formGroups, formGroupName]);\n    useApplyInputDefaultValues({\n        inputProps: __assign(__assign({}, props), { defaultValue: defaultValue }),\n        isArrayInput: true,\n        fieldArrayInputControl: fieldProps,\n    });\n    // The SourceContext will be read by children of ArrayInput to compute their composed source and label\n    //\n    // <ArrayInput source=\"orders\" /> => SourceContext is \"orders\"\n    //   <SimpleFormIterator> => SourceContext is \"orders.0\"\n    //     <DateInput source=\"date\" /> => final source for this input will be \"orders.0.date\"\n    //   </SimpleFormIterator>\n    // </ArrayInput>\n    //\n    var sourceContext = React.useMemo(function () { return ({\n        // source is the source of the ArrayInput child\n        getSource: function (source) {\n            if (!source) {\n                // SimpleFormIterator calls getSource('') to get the arraySource\n                return parentSourceContext.getSource(arraySource);\n            }\n            // We want to support nesting and composition with other inputs (e.g. TranslatableInputs, ReferenceOneInput, etc),\n            // we must also take into account the parent SourceContext\n            //\n            // <ArrayInput source=\"orders\" /> => SourceContext is \"orders\"\n            //   <SimpleFormIterator> => SourceContext is \"orders.0\"\n            //      <DateInput source=\"date\" /> => final source for this input will be \"orders.0.date\"\n            //      <ArrayInput source=\"items\" /> => SourceContext is \"orders.0.items\"\n            //          <SimpleFormIterator> => SourceContext is \"orders.0.items.0\"\n            //              <TextInput source=\"reference\" /> => final source for this input will be \"orders.0.items.0.reference\"\n            //          </SimpleFormIterator>\n            //      </ArrayInput>\n            //   </SimpleFormIterator>\n            // </ArrayInput>\n            return parentSourceContext.getSource(\"\".concat(arraySource, \".\").concat(source));\n        },\n        // if Array source is items, and child source is name, .0.name => resources.orders.fields.items.name\n        getLabel: function (source) {\n            return parentSourceContext.getLabel(\"\".concat(arraySource, \".\").concat(source));\n        },\n    }); }, [parentSourceContext, arraySource]);\n    return (React.createElement(ArrayInputContext.Provider, { value: fieldProps },\n        React.createElement(OptionalResourceContextProvider, { value: resourceFromProps },\n            React.createElement(SourceContextProvider, { value: sourceContext }, children))));\n};\nexport var getArrayInputError = function (error) {\n    if (Array.isArray(error)) {\n        return undefined;\n    }\n    return error;\n};\n//# sourceMappingURL=ArrayInputBase.js.map","import { createContext, useContext } from 'react';\n/**\n * Context that provides a function that accept a source and return getters for the modified source and label.\n *\n * This allows some special inputs to prefix or suffix the source of their children.\n *\n * @example\n * const sourceContext = {\n *  getSource: source => `coordinates.${source}`,\n *  getLabel: source => `resources.posts.fields.${source}`,\n * }\n * const CoordinatesInput = () => {\n *   return (\n *     <SourceContextProvider value={sourceContext}>\n *       <TextInput source=\"lat\" />\n *       <TextInput source=\"lng\" />\n *     </SourceContextProvider>\n *   );\n * };\n */\nexport var SourceContext = createContext(undefined);\nSourceContext.displayName = 'SourceContext';\nvar defaultContextValue = {\n    getSource: function (source) { return source; },\n    getLabel: function (source) { return source; },\n};\nexport var SourceContextProvider = SourceContext.Provider;\nexport var useSourceContext = function () {\n    var context = useContext(SourceContext);\n    if (!context) {\n        return defaultContextValue;\n    }\n    return context;\n};\nexport var useOptionalSourceContext = function () { return useContext(SourceContext); };\n//# sourceMappingURL=SourceContext.js.map","import { useSourceContext } from \"./SourceContext.js\";\n/**\n * Get the source prop for a field or input by checking if a source context is available.\n * @param {string} source The original source prop\n * @returns {string} The source prop, either the original one or the one modified by the SourceContext.\n * @example\n * const MyInput = ({ source, ...props }) => {\n *   const finalSource = useWrappedSource(source);\n *   return <input name={finalSource} {...props} />;\n * };\n */\nexport var useWrappedSource = function (source) {\n    var sourceContext = useSourceContext();\n    return sourceContext.getSource(source);\n};\n//# sourceMappingURL=useWrappedSource.js.map","import { useContext, useMemo } from 'react';\nimport { ArrayInputContext } from \"./ArrayInputContext.js\";\n/**\n * A hook to access an array input methods as provided by react-hook-form.\n * Useful to create custom array input iterators.\n * @see {ArrayInput}\n * @see https://react-hook-form.com/docs/usefieldarray\n */\nexport var useArrayInput = function (props) {\n    var context = useContext(ArrayInputContext);\n    var memo = useMemo(function () {\n        return ({\n            append: props === null || props === void 0 ? void 0 : props.append,\n            fields: props === null || props === void 0 ? void 0 : props.fields,\n            insert: props === null || props === void 0 ? void 0 : props.insert,\n            move: props === null || props === void 0 ? void 0 : props.move,\n            prepend: props === null || props === void 0 ? void 0 : props.prepend,\n            remove: props === null || props === void 0 ? void 0 : props.remove,\n            replace: props === null || props === void 0 ? void 0 : props.replace,\n            swap: props === null || props === void 0 ? void 0 : props.swap,\n            update: props === null || props === void 0 ? void 0 : props.update,\n        });\n    }, [props]);\n    if (props === null || props === void 0 ? void 0 : props.fields) {\n        return memo;\n    }\n    if (!context) {\n        throw new Error('useArrayInput must be used inside an ArrayInputContextProvider');\n    }\n    return context;\n};\n//# sourceMappingURL=useArrayInput.js.map","import { createContext } from 'react';\n/**\n * A React context that provides access to a SimpleFormIterator data (the total number of items) and mutators (add, reorder and remove).\n * Useful to create custom array input iterators.\n * @see {SimpleFormIterator}\n * @see {ArrayInput}\n */\nexport var SimpleFormIteratorContext = createContext(undefined);\n//# sourceMappingURL=SimpleFormIteratorContext.js.map","import * as React from 'react';\nimport { useMemo } from 'react';\nimport { useFormContext } from 'react-hook-form';\nimport { useWrappedSource } from \"../../core/useWrappedSource.js\";\nimport { useEvent } from \"../../util/index.js\";\nimport { useArrayInput } from \"./useArrayInput.js\";\nimport { SimpleFormIteratorContext } from \"./SimpleFormIteratorContext.js\";\nvar DefaultGetItemDefaults = function (item) { return item; };\nexport var SimpleFormIteratorBase = function (props) {\n    var children = props.children, _a = props.getItemDefaults, getItemDefaultsProp = _a === void 0 ? DefaultGetItemDefaults : _a;\n    var getItemDefaults = useEvent(getItemDefaultsProp);\n    var finalSource = useWrappedSource('');\n    if (!finalSource) {\n        throw new Error('SimpleFormIterator can only be called within an iterator input like ArrayInput');\n    }\n    var _b = useArrayInput(props), append = _b.append, fields = _b.fields, move = _b.move, remove = _b.remove;\n    var _c = useFormContext(), trigger = _c.trigger, getValues = _c.getValues;\n    var removeField = useEvent(function (index) {\n        remove(index);\n        var isScalarArray = getValues(finalSource).every(function (value) { return typeof value !== 'object'; });\n        if (isScalarArray) {\n            // Trigger validation on the Array to avoid ghost errors.\n            // Otherwise, validation errors on removed fields might still be displayed\n            trigger(finalSource);\n        }\n    });\n    var addField = useEvent(function (item) {\n        if (item === void 0) { item = undefined; }\n        append(getItemDefaults(item));\n    });\n    var handleReorder = useEvent(function (origin, destination) {\n        move(origin, destination);\n    });\n    var handleArrayClear = useEvent(function () {\n        remove();\n    });\n    var context = useMemo(function () { return ({\n        total: fields.length,\n        add: addField,\n        clear: handleArrayClear,\n        remove: removeField,\n        reOrder: handleReorder,\n        source: finalSource,\n    }); }, [\n        addField,\n        fields.length,\n        handleArrayClear,\n        handleReorder,\n        removeField,\n        finalSource,\n    ]);\n    if (!fields) {\n        return null;\n    }\n    return (React.createElement(SimpleFormIteratorContext.Provider, { value: context }, children));\n};\n//# sourceMappingURL=SimpleFormIteratorBase.js.map","import { useContext } from 'react';\nimport { SimpleFormIteratorContext } from \"./SimpleFormIteratorContext.js\";\n/**\n * A hook that provides access to a SimpleFormIterator data (the total number of items) and mutators (add, reorder and remove).\n * Useful to create custom array input iterators.\n * @see {SimpleFormIterator}\n * @see {ArrayInput}\n */\nexport var useSimpleFormIterator = function () {\n    var context = useContext(SimpleFormIteratorContext);\n    if (!context) {\n        throw new Error('useSimpleFormIterator must be used inside a SimpleFormIterator');\n    }\n    return context;\n};\n//# sourceMappingURL=useSimpleFormIterator.js.map","import { createContext } from 'react';\n/**\n * A React context that provides access to a SimpleFormIterator item meta (its index and the total number of items) and mutators (reorder and remove this remove).\n * Useful to create custom array input iterators.\n * @see {SimpleFormIterator}\n * @see {ArrayInput}\n */\nexport var SimpleFormIteratorItemContext = createContext(undefined);\n//# sourceMappingURL=SimpleFormIteratorItemContext.js.map","import * as React from 'react';\nimport { useMemo } from 'react';\nimport { SourceContextProvider, useResourceContext, useSourceContext, } from \"../../core/index.js\";\nimport { useSimpleFormIterator } from \"./useSimpleFormIterator.js\";\nimport { SimpleFormIteratorItemContext, } from \"./SimpleFormIteratorItemContext.js\";\nexport var SimpleFormIteratorItemBase = function (props) {\n    var children = props.children, index = props.index;\n    var resource = useResourceContext(props);\n    if (!resource) {\n        throw new Error('SimpleFormIteratorItem must be used in a ResourceContextProvider or be passed a resource prop.');\n    }\n    var _a = useSimpleFormIterator(), total = _a.total, reOrder = _a.reOrder, remove = _a.remove;\n    var context = useMemo(function () { return ({\n        index: index,\n        total: total,\n        reOrder: function (newIndex) { return reOrder(index, newIndex); },\n        remove: function () { return remove(index); },\n    }); }, [index, total, reOrder, remove]);\n    var parentSourceContext = useSourceContext();\n    var sourceContext = useMemo(function () { return ({\n        getSource: function (source) {\n            if (!source) {\n                // source can be empty for scalar values, e.g.\n                // <ArrayInput source=\"tags\" /> => SourceContext is \"tags\"\n                //   <SimpleFormIterator> => SourceContext is \"tags.0\"\n                //      <TextInput /> => use its parent's getSource so finalSource = \"tags.0\"\n                //   </SimpleFormIterator>\n                // </ArrayInput>\n                return parentSourceContext.getSource(\"\".concat(index));\n            }\n            else {\n                // Normal input with source, e.g.\n                // <ArrayInput source=\"orders\" /> => SourceContext is \"orders\"\n                //   <SimpleFormIterator> => SourceContext is \"orders.0\"\n                //      <DateInput source=\"date\" /> => use its parent's getSource so finalSource = \"orders.0.date\"\n                //   </SimpleFormIterator>\n                // </ArrayInput>\n                return parentSourceContext.getSource(\"\".concat(index, \".\").concat(source));\n            }\n        },\n        getLabel: function (source) {\n            // <ArrayInput source=\"orders\" /> => LabelContext is \"orders\"\n            //   <SimpleFormIterator> => LabelContext is ALSO \"orders\"\n            //      <DateInput source=\"date\" /> => use its parent's getLabel so finalLabel = \"orders.date\"\n            //   </SimpleFormIterator>\n            // </ArrayInput>\n            //\n            // we don't prefix with the index to avoid that translation keys contain it\n            return parentSourceContext.getLabel(source);\n        },\n    }); }, [index, parentSourceContext]);\n    return (React.createElement(SimpleFormIteratorItemContext.Provider, { value: context },\n        React.createElement(SourceContextProvider, { value: sourceContext }, children)));\n};\n//# sourceMappingURL=SimpleFormIteratorItemBase.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nexport var sanitizeInputRestProps = function (_a) {\n    var afterSubmit = _a.afterSubmit, allowNull = _a.allowNull, alwaysOn = _a.alwaysOn, beforeSubmit = _a.beforeSubmit, component = _a.component, data = _a.data, defaultValue = _a.defaultValue, error = _a.error, format = _a.format, formatOnBlur = _a.formatOnBlur, initializeForm = _a.initializeForm, input = _a.input, isEqual = _a.isEqual, isRequired = _a.isRequired, label = _a.label, limitChoicesToValue = _a.limitChoicesToValue, locale = _a.locale, meta = _a.meta, multiple = _a.multiple, name = _a.name, options = _a.options, optionText = _a.optionText, optionValue = _a.optionValue, parse = _a.parse, record = _a.record, ref = _a.ref, refetch = _a.refetch, render = _a.render, resource = _a.resource, setFilter = _a.setFilter, setPagination = _a.setPagination, setSort = _a.setSort, shouldUnregister = _a.shouldUnregister, source = _a.source, submitError = _a.submitError, subscription = _a.subscription, textAlign = _a.textAlign, translate = _a.translate, translateChoice = _a.translateChoice, validate = _a.validate, validateFields = _a.validateFields, value = _a.value, rest = __rest(_a, [\"afterSubmit\", \"allowNull\", \"alwaysOn\", \"beforeSubmit\", \"component\", \"data\", \"defaultValue\", \"error\", \"format\", \"formatOnBlur\", \"initializeForm\", \"input\", \"isEqual\", \"isRequired\", \"label\", \"limitChoicesToValue\", \"locale\", \"meta\", \"multiple\", \"name\", \"options\", \"optionText\", \"optionValue\", \"parse\", \"record\", \"ref\", \"refetch\", \"render\", \"resource\", \"setFilter\", \"setPagination\", \"setSort\", \"shouldUnregister\", \"source\", \"submitError\", \"subscription\", \"textAlign\", \"translate\", \"translateChoice\", \"validate\", \"validateFields\", \"value\"]);\n    return rest;\n};\n//# sourceMappingURL=sanitizeInputRestProps.js.map","import { useContext } from 'react';\nimport { SimpleFormIteratorItemContext } from \"./SimpleFormIteratorItemContext.js\";\n/**\n * A hook that provides access to a SimpleFormIterator item meta (its index and the total number of items) and mutators (reorder and remove this remove).\n * Useful to create custom array input iterators.\n * @see {SimpleFormIterator}\n * @see {ArrayInput}\n */\nexport var useSimpleFormIteratorItem = function () {\n    var context = useContext(SimpleFormIteratorItemContext);\n    if (!context) {\n        throw new Error('useSimpleFormIteratorItem must be used inside a SimpleFormIteratorItem');\n    }\n    return context;\n};\n//# sourceMappingURL=useSimpleFormIteratorItem.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useFormContext, useWatch } from 'react-hook-form';\n// hook taken from https://react-hook-form.com/docs/usewatch/#rules\nexport var useFormValues = function () {\n    var getValues = useFormContext().getValues;\n    return __assign(__assign({}, useWatch()), getValues());\n};\n//# sourceMappingURL=useFormValues.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useFormContext } from 'react-hook-form';\nimport get from 'lodash/get.js';\nimport { useFormValues } from \"./useFormValues.js\";\nimport { useWrappedSource } from \"../core/index.js\";\n/**\n * Get the current (edited) value of the record from the form and pass it\n * to a child function\n *\n * @example\n *\n * const PostEdit = () => (\n *     <Edit>\n *         <SimpleForm<FieldValues>>\n *             <BooleanInput source=\"hasEmail\" />\n *             <FormDataConsumer>\n *                 {({ formData }) => formData.hasEmail &&\n *                      <TextInput source=\"email\" />\n *                 }\n *             </FormDataConsumer>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * @example\n *\n * const OrderEdit = () => (\n *     <Edit>\n *         <SimpleForm>\n *             <SelectInput source=\"country\" choices={countries} />\n *             <FormDataConsumer<FieldValues>>\n *                 {({ formData }) =>\n *                      <SelectInput\n *                          source=\"city\"\n *                          choices={getCitiesFor(formData.country)}\n *                      />\n *                 }\n *             </FormDataConsumer>\n *         </SimpleForm>\n *     </Edit>\n * );\n */\nexport var FormDataConsumer = function (props) {\n    var form = useFormContext();\n    var \n    // Don't know exactly why, but this is needed for the form values to be updated\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    isDirty = form.formState.isDirty;\n    var formData = useFormValues();\n    return (React.createElement(FormDataConsumerView, __assign({ formData: formData }, props)));\n};\nexport var FormDataConsumerView = function (props) {\n    var children = props.children, formData = props.formData, source = props.source;\n    var result;\n    var finalSource = useWrappedSource(source || '');\n    // Passes an empty string here as we don't have the children sources and we just want to know if we are in an iterator\n    var matches = ArraySourceRegex.exec(finalSource);\n    // If we have an index, we are in an iterator like component (such as the SimpleFormIterator)\n    if (matches) {\n        var scopedFormData = get(formData, matches[0]);\n        result = children({ formData: formData, scopedFormData: scopedFormData });\n    }\n    else {\n        result = children({ formData: formData });\n    }\n    return result === undefined ? null : result;\n};\nvar ArraySourceRegex = new RegExp(/.+\\.\\d+$/);\n//# sourceMappingURL=FormDataConsumer.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Children, isValidElement, useRef } from 'react';\nimport { FormDataConsumer } from \"../../form/FormDataConsumer.js\";\nimport { useEvent } from \"../../util/index.js\";\nexport var useGetArrayInputNewItemDefaults = function (fields) {\n    var initialDefaultValue = useRef({});\n    if (fields.length > 0) {\n        var _a = fields[0], id = _a.id, rest = __rest(_a, [\"id\"]);\n        initialDefaultValue.current = rest;\n        for (var k in initialDefaultValue.current)\n            initialDefaultValue.current[k] = null;\n    }\n    return useEvent(function (inputs) {\n        if (Children.count(inputs) === 1 &&\n            isValidElement(Children.only(inputs)) &&\n            // @ts-ignore\n            !Children.only(inputs).props.source &&\n            // Make sure it's not a FormDataConsumer\n            // @ts-ignore\n            Children.only(inputs).type !== FormDataConsumer) {\n            // ArrayInput used for an array of scalar values\n            // (e.g. tags: ['foo', 'bar'])\n            return '';\n        }\n        // ArrayInput used for an array of objects\n        // (e.g. authors: [{ firstName: 'John', lastName: 'Doe' }, { firstName: 'Jane', lastName: 'Doe' }])\n        var defaultValue = initialDefaultValue.current;\n        Children.forEach(inputs, function (input) {\n            var _a;\n            if (isValidElement(input) &&\n                input.type !== FormDataConsumer &&\n                input.props.source) {\n                defaultValue[input.props.source] =\n                    (_a = input.props.defaultValue) !== null && _a !== void 0 ? _a : null;\n            }\n        });\n        return defaultValue;\n    });\n};\n//# sourceMappingURL=useGetArrayInputNewItemDefaults.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useParams } from 'react-router-dom';\nimport { useAuthenticated, useRequireAccess } from \"../../auth/index.js\";\nimport { useGetOne, } from \"../../dataProvider/index.js\";\nimport { useTranslate } from \"../../i18n/index.js\";\nimport { useRedirect } from \"../../routing/index.js\";\nimport { useNotify } from \"../../notification/index.js\";\nimport { useResourceContext, useGetResourceLabel, useGetRecordRepresentation, } from \"../../core/index.js\";\n/**\n * Prepare data for the Show view.\n *\n * useShowController does a few things:\n * - it grabs the id from the URL and the resource name from the ResourceContext,\n * - it fetches the record via useGetOne,\n * - it prepares the page title.\n *\n * @param {Object} props The props passed to the Show component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Show view\n *\n * @example\n *\n * import { useShowController } from 'react-admin';\n * import ShowView from './ShowView';\n *\n * const MyShow = () => {\n *     const controllerProps = useShowController();\n *     return <ShowView {...controllerProps} />;\n * };\n *\n * @example // useShowController can also take its parameters from props\n *\n * import { useShowController } from 'react-admin';\n * import ShowView from './ShowView';\n *\n * const MyShow = () => {\n *     const controllerProps = useShowController({ resource: 'posts', id: 1234 });\n *     return <ShowView {...controllerProps} />;\n * };\n */\nexport var useShowController = function (props) {\n    if (props === void 0) { props = {}; }\n    var _a = props.disableAuthentication, disableAuthentication = _a === void 0 ? false : _a, propsId = props.id, _b = props.queryOptions, queryOptions = _b === void 0 ? {} : _b, _c = props.redirectOnError, redirectOnError = _c === void 0 ? DefaultRedirectOnError : _c;\n    var resource = useResourceContext(props);\n    if (!resource) {\n        throw new Error(\"useShowController requires a non-empty resource prop or context\");\n    }\n    var isPendingAuthenticated = useAuthenticated({\n        enabled: !disableAuthentication,\n    }).isPending;\n    var isPendingCanAccess = useRequireAccess({\n        action: 'show',\n        resource: resource,\n        enabled: !disableAuthentication && !isPendingAuthenticated,\n    }).isPending;\n    var getRecordRepresentation = useGetRecordRepresentation(resource);\n    var translate = useTranslate();\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var routeId = useParams().id;\n    if (!routeId && !propsId) {\n        throw new Error('useShowController requires an id prop or a route with an /:id? parameter.');\n    }\n    var id = propsId != null ? propsId : routeId;\n    var meta = queryOptions.meta, otherQueryOptions = __rest(queryOptions, [\"meta\"]);\n    var _d = useGetOne(resource, { id: id, meta: meta }, __assign({ enabled: (!isPendingAuthenticated && !isPendingCanAccess) ||\n            disableAuthentication, onError: function () {\n            notify('ra.notification.item_doesnt_exist', {\n                type: 'error',\n            });\n            redirect(redirectOnError, resource, id);\n        }, retry: false }, otherQueryOptions)), record = _d.data, error = _d.error, isLoading = _d.isLoading, isFetching = _d.isFetching, isPaused = _d.isPaused, isPending = _d.isPending, isPlaceholderData = _d.isPlaceholderData, refetch = _d.refetch;\n    // eslint-disable-next-line eqeqeq\n    if (record && record.id && record.id != id) {\n        throw new Error(\"useShowController: Fetched record's id attribute (\".concat(record.id, \") must match the requested 'id' (\").concat(id, \")\"));\n    }\n    var getResourceLabel = useGetResourceLabel();\n    var recordRepresentation = getRecordRepresentation(record);\n    var defaultTitle = translate(\"resources.\".concat(resource, \".page.show\"), {\n        id: id,\n        record: record,\n        recordRepresentation: typeof recordRepresentation === 'string'\n            ? recordRepresentation\n            : '',\n        _: translate('ra.page.show', {\n            name: getResourceLabel(resource, 1),\n            id: id,\n            record: record,\n            recordRepresentation: typeof recordRepresentation === 'string'\n                ? recordRepresentation\n                : '',\n        }),\n    });\n    return {\n        defaultTitle: defaultTitle,\n        error: error,\n        isLoading: isLoading,\n        isFetching: isFetching,\n        isPaused: isPaused,\n        isPending: isPending,\n        isPlaceholderData: isPlaceholderData,\n        record: record,\n        redirectOnError: redirectOnError,\n        refetch: refetch,\n        resource: resource,\n    };\n};\nvar DefaultRedirectOnError = 'list';\n//# sourceMappingURL=useShowController.js.map","import { createContext } from 'react';\n/**\n * Context to store the result of the useShowController() hook.\n *\n * Use the useShowContext() hook to read the context. That's what the Show components do in react-admin.\n *\n * @example\n *\n * import { useShowController, ShowContextProvider } from 'ra-core';\n *\n * const Show = props => {\n *     const controllerProps = useShowController(props);\n *     return (\n *         <ShowContextProvider value={controllerProps}>\n *             ...\n *         </ShowContextProvider>\n *     );\n * };\n */\nexport var ShowContext = createContext(null);\nShowContext.displayName = 'ShowContext';\n//# sourceMappingURL=ShowContext.js.map","import * as React from 'react';\nimport { RecordContextProvider } from \"../record/RecordContext.js\";\nimport { ShowContext } from \"./ShowContext.js\";\n/**\n * Create a Show Context.\n *\n * @example\n *\n * const MyShow = (props) => {\n *     const controllerProps = useShowController(props);\n *     return (\n *         <ShowContextProvider value={controllerProps}>\n *             <MyShowView>\n *         </ShowContextProvider>\n *     );\n * };\n *\n * const MyShowView = () => {\n *     const record = useRecordContext();\n * }\n *\n * @see ShowContext\n * @see RecordContext\n */\nexport var ShowContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(ShowContext.Provider, { value: value },\n        React.createElement(RecordContextProvider, { value: value && value.record }, children)));\n};\n//# sourceMappingURL=ShowContextProvider.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useShowController, } from \"./useShowController.js\";\nimport { ShowContextProvider } from \"./ShowContextProvider.js\";\nimport { OptionalResourceContextProvider } from \"../../core/index.js\";\nimport { useIsAuthPending } from \"../../auth/index.js\";\n/**\n * Call useShowController and put the value in a ShowContext\n *\n * Base class for <Show> components, without UI.\n *\n * Accepts any props accepted by useShowController:\n * - id: The record identifier\n * - resource: The resource\n *\n * @example // Custom show layout\n *\n * const PostShow = () => (\n *     <ShowBase resource=\"posts\">\n *         <Grid container>\n *             <Grid item xs={8}>\n *                 <SimpleForm>\n *                     ...\n *                 </SimpleForm>\n *             </Grid>\n *             <Grid item xs={4}>\n *                 Show instructions...\n *             </Grid>\n *         </Grid>\n *         <div>\n *             Post related links...\n *         </div>\n *     </ShowBase>\n * );\n */\nexport var ShowBase = function (_a) {\n    var authLoading = _a.authLoading, loading = _a.loading, offline = _a.offline, error = _a.error, redirectOnError = _a.redirectOnError, children = _a.children, render = _a.render, props = __rest(_a, [\"authLoading\", \"loading\", \"offline\", \"error\", \"redirectOnError\", \"children\", \"render\"]);\n    var hasError = error !== false && error !== undefined;\n    var controllerProps = useShowController(__assign(__assign({}, props), { redirectOnError: redirectOnError !== null && redirectOnError !== void 0 ? redirectOnError : (hasError ? false : undefined) }));\n    var isAuthPending = useIsAuthPending({\n        resource: controllerProps.resource,\n        action: 'show',\n    });\n    if (!render && !children) {\n        throw new Error('<ShowBase> requires either a `render` prop or `children` prop');\n    }\n    var isPaused = controllerProps.isPaused, isPending = controllerProps.isPending, errorState = controllerProps.error;\n    var showAuthLoading = isAuthPending &&\n        !props.disableAuthentication &&\n        authLoading !== false &&\n        authLoading !== undefined;\n    var showLoading = !isPaused &&\n        ((!props.disableAuthentication && isAuthPending) || isPending) &&\n        loading !== false &&\n        loading !== undefined;\n    var showOffline = isPaused && isPending && offline !== false && offline !== undefined;\n    var showError = errorState && hasError;\n    return (\n    // We pass props.resource here as we don't need to create a new ResourceContext if the props is not provided\n    React.createElement(OptionalResourceContextProvider, { value: props.resource },\n        React.createElement(ShowContextProvider, { value: controllerProps }, showAuthLoading\n            ? authLoading\n            : showLoading\n                ? loading\n                : showOffline\n                    ? offline\n                    : showError\n                        ? error\n                        : render\n                            ? render(controllerProps)\n                            : children)));\n};\n//# sourceMappingURL=ShowBase.js.map","import { useContext } from 'react';\nimport { ShowContext } from \"./ShowContext.js\";\n/**\n * Hook to read the show controller props from the ShowContext.\n *\n * Used within a <ShowContextProvider> (e.g. as a descendent of <Show>).\n *\n * @returns {ShowControllerResult} create controller props\n *\n * @see useShowController for how it is filled\n */\nexport var useShowContext = function () {\n    var context = useContext(ShowContext);\n    // Props take precedence over the context\n    if (!context) {\n        throw new Error('useShowContext must be used inside a ShowContextProvider');\n    }\n    return context;\n};\n//# sourceMappingURL=useShowContext.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useQueryClient, } from '@tanstack/react-query';\nimport { useDataProvider } from \"./useDataProvider.js\";\nimport { useEvent } from \"../util/index.js\";\nimport { useMutationWithMutationMode, } from \"./useMutationWithMutationMode.js\";\n/**\n * Get a callback to call the dataProvider.create() method, the result and the loading state.\n *\n * @param {string} resource\n * @param {Params} params The create parameters { data }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n *\n * @typedef Params\n * @prop params.data The record to create, e.g. { title: 'hello, world' }\n *\n * @returns The current mutation state. Destructure as [create, { data, error, isPending }].\n *\n * The return value updates according to the request state:\n *\n * - initial: [create, { isPending: false, isIdle: true }]\n * - start:   [create, { isPending: true }]\n * - success: [create, { data: [data from response], isPending: false, isSuccess: true }]\n * - error:   [create, { error: [error from response], isPending: false, isError: true }]\n *\n * The create() function must be called with a resource and a parameter object: create(resource, { data, meta }, options)\n *\n * This hook uses react-query useMutation under the hood.\n * This means the state object contains mutate, isIdle, reset and other react-query methods.\n *\n * @see https://tanstack.com/query/v5/docs/react/reference/useMutation\n *\n * @example // set params when calling the create callback\n *\n * import { useCreate, useRecordContext } from 'react-admin';\n *\n * const LikeButton = () => {\n *     const record = useRecordContext();\n *     const like = { postId: record.id };\n *     const [create, { isPending, error }] = useCreate();\n *     const handleClick = () => {\n *         create('likes', { data: like })\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isPending} onClick={handleClick}>Like</button>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useCreate, useRecordContext } from 'react-admin';\n *\n * const LikeButton = () => {\n *     const record = useRecordContext();\n *     const like = { postId: record.id };\n *     const [create, { isPending, error }] = useCreate('likes', { data: like });\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isPending} onClick={() => create()}>Like</button>;\n * };\n *\n * @example // TypeScript\n * const [create, { data }] = useCreate<Product>('products', { data: product });\n *                    \\-- data is Product\n */\nexport var useCreate = function (resource, params, options) {\n    if (params === void 0) { params = {}; }\n    if (options === void 0) { options = {}; }\n    var dataProvider = useDataProvider();\n    var queryClient = useQueryClient();\n    var _a = options.mutationMode, mutationMode = _a === void 0 ? 'pessimistic' : _a, getMutateWithMiddlewares = options.getMutateWithMiddlewares, mutationOptions = __rest(options, [\"mutationMode\", \"getMutateWithMiddlewares\"]);\n    var dataProviderCreate = useEvent(function (resource, params) {\n        return dataProvider.create(resource, params);\n    });\n    var _b = useMutationWithMutationMode(__assign({ resource: resource }, params), __assign(__assign({}, mutationOptions), { mutationKey: [resource, 'create', params], mutationMode: mutationMode, mutationFn: function (_a) {\n            var resource = _a.resource, params = __rest(_a, [\"resource\"]);\n            if (resource == null) {\n                throw new Error('useCreate mutation requires a resource');\n            }\n            if (params.data == null) {\n                throw new Error('useCreate mutation requires a non-empty data object');\n            }\n            return dataProviderCreate(resource, params);\n        }, updateCache: function (_a, _b, result) {\n            var _c;\n            var resource = _a.resource, params = __rest(_a, [\"resource\"]);\n            var mutationMode = _b.mutationMode;\n            var id = mutationMode === 'pessimistic'\n                ? result === null || result === void 0 ? void 0 : result.id\n                : (_c = params.data) === null || _c === void 0 ? void 0 : _c.id;\n            if (!id) {\n                throw new Error('Invalid dataProvider response for create: missing id');\n            }\n            // hack: only way to tell react-query not to fetch this query for the next 5 seconds\n            // because setQueryData doesn't accept a stale time option\n            var now = Date.now();\n            var updatedAt = mutationMode === 'undoable' ? now + 5 * 1000 : now;\n            // Stringify and parse the data to remove undefined values.\n            // If we don't do this, an update with { id: undefined } as payload\n            // would remove the id from the record, which no real data provider does.\n            var clonedData = JSON.parse(JSON.stringify(mutationMode === 'pessimistic' ? result : params.data));\n            queryClient.setQueryData([resource, 'getOne', { id: String(id), meta: params.meta }], function (record) { return (__assign(__assign({}, record), clonedData)); }, { updatedAt: updatedAt });\n            return clonedData;\n        }, getQueryKeys: function (_a, _b) {\n            var _c;\n            var resource = _a.resource, params = __rest(_a, [\"resource\"]);\n            var mutationMode = _b.mutationMode;\n            var queryKeys = [\n                [resource, 'getList'],\n                [resource, 'getInfiniteList'],\n                [resource, 'getMany'],\n                [resource, 'getManyReference'],\n            ];\n            if (mutationMode !== 'pessimistic' && ((_c = params.data) === null || _c === void 0 ? void 0 : _c.id)) {\n                queryKeys.push([\n                    resource,\n                    'getOne',\n                    { id: String(params.data.id), meta: params.meta },\n                ]);\n            }\n            return queryKeys;\n        }, getMutateWithMiddlewares: function (mutationFn) {\n            if (getMutateWithMiddlewares) {\n                // Immediately get the function with middlewares applied so that even if the middlewares gets unregistered (because of a redirect for instance),\n                // we still have them applied when users have called the mutate function.\n                var mutateWithMiddlewares_1 = getMutateWithMiddlewares(dataProviderCreate.bind(dataProvider));\n                return function (args) {\n                    // This is necessary to avoid breaking changes in useCreate:\n                    // The mutation function must have the same signature as before (resource, params) and not ({ resource, params })\n                    var resource = args.resource, params = __rest(args, [\"resource\"]);\n                    return mutateWithMiddlewares_1(resource, params);\n                };\n            }\n            return function (args) { return mutationFn(args); };\n        }, onUndo: function (_a) {\n            var resource = _a.resource, data = _a.data, meta = _a.meta;\n            queryClient.removeQueries({\n                queryKey: [\n                    resource,\n                    'getOne',\n                    { id: String(data === null || data === void 0 ? void 0 : data.id), meta: meta },\n                ],\n                exact: true,\n            });\n        }, onSettled: function (result, error, variables, context) {\n            // For creation, we always refetch after error or success:\n            context.snapshot.forEach(function (_a) {\n                var queryKey = _a[0];\n                queryClient.invalidateQueries({ queryKey: queryKey });\n            });\n        } })), mutate = _b[0], mutationResult = _b[1];\n    var create = useEvent(function (callTimeResource, callTimeParams, callTimeOptions) {\n        if (callTimeResource === void 0) { callTimeResource = resource; }\n        if (callTimeParams === void 0) { callTimeParams = {}; }\n        if (callTimeOptions === void 0) { callTimeOptions = {}; }\n        return mutate(__assign({ resource: callTimeResource }, callTimeParams), callTimeOptions);\n    });\n    return [create, mutationResult];\n};\n//# sourceMappingURL=useCreate.js.map","import { createContext } from 'react';\nexport var TakeUndoableMutationContext = createContext(function () { });\n//# sourceMappingURL=TakeUndoableMutationContext.js.map","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport * as React from 'react';\nimport { useState, useCallback } from 'react';\nimport { AddUndoableMutationContext } from \"./AddUndoableMutationContext.js\";\nimport { TakeUndoableMutationContext } from \"./TakeUndoableMutationContext.js\";\n/**\n * Exposes and manages a queue of undoable mutations\n *\n * This context is used in CoreAdminContext so that every react-admin app\n * can use the useAddUndoableMutation and useTakeUndoableMutation hooks.\n *\n * Note: We need a separate queue for mutations (instead of using the\n * notifications queue) because the mutations are not dequeued when the\n * notification is displayed, but when it is dismissed.\n */\nexport var UndoableMutationsContextProvider = function (_a) {\n    var children = _a.children;\n    var _b = useState([]), mutations = _b[0], setMutations = _b[1];\n    /**\n     * Add a new mutation (pushes a new mutation to the queue).\n     *\n     * Used by optimistic data provider hooks, e.g., useDelete\n     */\n    var addMutation = useCallback(function (mutation) {\n        setMutations(function (mutations) { return __spreadArray(__spreadArray([], mutations, true), [mutation], false); });\n    }, []);\n    /**\n     * Get the next mutation to execute (shifts the first mutation from the queue) and returns it.\n     *\n     * Used by the Notification component to process or undo the mutation\n     */\n    var takeMutation = useCallback(function () {\n        if (mutations.length === 0)\n            return;\n        var mutation = mutations[0], rest = mutations.slice(1);\n        setMutations(rest);\n        return mutation;\n    }, [mutations]);\n    return (React.createElement(TakeUndoableMutationContext.Provider, { value: takeMutation },\n        React.createElement(AddUndoableMutationContext.Provider, { value: addMutation }, children)));\n};\n//# sourceMappingURL=UndoableMutationsContextProvider.js.map","import { useContext } from 'react';\nimport { TakeUndoableMutationContext } from \"./TakeUndoableMutationContext.js\";\nexport var useTakeUndoableMutation = function () {\n    return useContext(TakeUndoableMutationContext);\n};\n//# sourceMappingURL=useTakeUndoableMutation.js.map","import { createContext } from 'react';\nexport var PreferencesEditorContext = createContext(undefined);\n//# sourceMappingURL=PreferencesEditorContext.js.map","import * as React from 'react';\nimport { useCallback, useMemo, useState } from 'react';\nimport { PreferencesEditorContext, } from \"./PreferencesEditorContext.js\";\nexport var PreferencesEditorContextProvider = function (_a) {\n    var children = _a.children;\n    var _b = useState(false), isEnabled = _b[0], setIsEnabled = _b[1];\n    var _c = useState(null), editor = _c[0], setEditor = _c[1];\n    var _d = useState(null), preferenceKey = _d[0], setPreferenceKey = _d[1];\n    var _e = useState(null), path = _e[0], setPath = _e[1];\n    var _f = useState(null), title = _f[0], setTitleString = _f[1];\n    var _g = useState(), titleOptions = _g[0], setTitleOptions = _g[1];\n    var enable = useCallback(function () { return setIsEnabled(true); }, []);\n    var disable = useCallback(function () {\n        setIsEnabled(false);\n        setEditor(null);\n    }, []);\n    var setTitle = useCallback(function (title, titleOptions) {\n        setTitleString(title);\n        setTitleOptions(titleOptions);\n    }, []);\n    var context = useMemo(function () {\n        return {\n            editor: editor,\n            setEditor: setEditor,\n            preferenceKey: preferenceKey,\n            setPreferenceKey: setPreferenceKey,\n            title: title,\n            titleOptions: titleOptions,\n            setTitle: setTitle,\n            isEnabled: isEnabled,\n            disable: disable,\n            enable: enable,\n            path: path,\n            setPath: setPath,\n        };\n    }, [\n        disable,\n        enable,\n        editor,\n        preferenceKey,\n        isEnabled,\n        path,\n        setPath,\n        title,\n        titleOptions,\n        setTitle,\n    ]);\n    return (React.createElement(PreferencesEditorContext.Provider, { value: context }, children));\n};\n//# sourceMappingURL=PreferencesEditorContextProvider.js.map","import * as React from 'react';\nimport { useMemo } from 'react';\nimport { QueryClientProvider, QueryClient } from '@tanstack/react-query';\nimport { AdminRouter } from \"../routing/index.js\";\nimport { AuthContext, convertLegacyAuthProvider } from \"../auth/index.js\";\nimport { DataProviderContext, UndoableMutationsContextProvider, convertLegacyDataProvider, defaultDataProvider, } from \"../dataProvider/index.js\";\nimport { StoreContextProvider, memoryStore } from \"../store/index.js\";\nimport { PreferencesEditorContextProvider } from \"../preferences/PreferencesEditorContextProvider.js\";\nimport { I18nContextProvider } from \"../i18n/index.js\";\nimport { ResourceDefinitionContextProvider } from \"./ResourceDefinitionContext.js\";\nimport { NotificationContextProvider } from \"../notification/index.js\";\nvar defaultStore = memoryStore();\nexport var CoreAdminContext = function (props) {\n    var authProvider = props.authProvider, basename = props.basename, _a = props.dataProvider, dataProvider = _a === void 0 ? defaultDataProvider : _a, i18nProvider = props.i18nProvider, _b = props.store, store = _b === void 0 ? defaultStore : _b, children = props.children, queryClient = props.queryClient;\n    if (!dataProvider) {\n        throw new Error(\"Missing dataProvider prop.\\nReact-admin requires a valid dataProvider function to work.\");\n    }\n    var finalQueryClient = useMemo(function () { return queryClient || new QueryClient(); }, [queryClient]);\n    var finalAuthProvider = useMemo(function () {\n        return authProvider instanceof Function\n            ? convertLegacyAuthProvider(authProvider)\n            : authProvider;\n    }, [authProvider]);\n    var finalDataProvider = useMemo(function () {\n        return dataProvider instanceof Function\n            ? convertLegacyDataProvider(dataProvider)\n            : dataProvider;\n    }, [dataProvider]);\n    return (React.createElement(AuthContext.Provider, { value: finalAuthProvider },\n        React.createElement(DataProviderContext.Provider, { value: finalDataProvider },\n            React.createElement(StoreContextProvider, { value: store },\n                React.createElement(PreferencesEditorContextProvider, null,\n                    React.createElement(QueryClientProvider, { client: finalQueryClient },\n                        React.createElement(AdminRouter, { basename: basename },\n                            React.createElement(I18nContextProvider, { value: i18nProvider },\n                                React.createElement(NotificationContextProvider, null,\n                                    React.createElement(UndoableMutationsContextProvider, null,\n                                        React.createElement(ResourceDefinitionContextProvider, null, children)))))))))));\n};\n//# sourceMappingURL=CoreAdminContext.js.map","'use client';\nimport { createContext, Component, createElement, useContext, useState, useMemo, forwardRef } from 'react';\n\nconst ErrorBoundaryContext = createContext(null);\n\nconst initialState = {\n  didCatch: false,\n  error: null\n};\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.resetErrorBoundary = this.resetErrorBoundary.bind(this);\n    this.state = initialState;\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      didCatch: true,\n      error\n    };\n  }\n  resetErrorBoundary() {\n    const {\n      error\n    } = this.state;\n    if (error !== null) {\n      var _this$props$onReset, _this$props;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_this$props$onReset = (_this$props = this.props).onReset) === null || _this$props$onReset === void 0 ? void 0 : _this$props$onReset.call(_this$props, {\n        args,\n        reason: \"imperative-api\"\n      });\n      this.setState(initialState);\n    }\n  }\n  componentDidCatch(error, info) {\n    var _this$props$onError, _this$props2;\n    (_this$props$onError = (_this$props2 = this.props).onError) === null || _this$props$onError === void 0 ? void 0 : _this$props$onError.call(_this$props2, error, info);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      didCatch\n    } = this.state;\n    const {\n      resetKeys\n    } = this.props;\n\n    // There's an edge case where if the thing that triggered the error happens to *also* be in the resetKeys array,\n    // we'd end up resetting the error boundary immediately.\n    // This would likely trigger a second error to be thrown.\n    // So we make sure that we don't check the resetKeys on the first call of cDU after the error is set.\n\n    if (didCatch && prevState.error !== null && hasArrayChanged(prevProps.resetKeys, resetKeys)) {\n      var _this$props$onReset2, _this$props3;\n      (_this$props$onReset2 = (_this$props3 = this.props).onReset) === null || _this$props$onReset2 === void 0 ? void 0 : _this$props$onReset2.call(_this$props3, {\n        next: resetKeys,\n        prev: prevProps.resetKeys,\n        reason: \"keys\"\n      });\n      this.setState(initialState);\n    }\n  }\n  render() {\n    const {\n      children,\n      fallbackRender,\n      FallbackComponent,\n      fallback\n    } = this.props;\n    const {\n      didCatch,\n      error\n    } = this.state;\n    let childToRender = children;\n    if (didCatch) {\n      const props = {\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      };\n      if (typeof fallbackRender === \"function\") {\n        childToRender = fallbackRender(props);\n      } else if (FallbackComponent) {\n        childToRender = createElement(FallbackComponent, props);\n      } else if (fallback !== undefined) {\n        childToRender = fallback;\n      } else {\n        throw error;\n      }\n    }\n    return createElement(ErrorBoundaryContext.Provider, {\n      value: {\n        didCatch,\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      }\n    }, childToRender);\n  }\n}\nfunction hasArrayChanged() {\n  let a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return a.length !== b.length || a.some((item, index) => !Object.is(item, b[index]));\n}\n\nfunction assertErrorBoundaryContext(value) {\n  if (value == null || typeof value.didCatch !== \"boolean\" || typeof value.resetErrorBoundary !== \"function\") {\n    throw new Error(\"ErrorBoundaryContext not found\");\n  }\n}\n\nfunction useErrorBoundary() {\n  const context = useContext(ErrorBoundaryContext);\n  assertErrorBoundaryContext(context);\n  const [state, setState] = useState({\n    error: null,\n    hasError: false\n  });\n  const memoized = useMemo(() => ({\n    resetBoundary: () => {\n      context.resetErrorBoundary();\n      setState({\n        error: null,\n        hasError: false\n      });\n    },\n    showBoundary: error => setState({\n      error,\n      hasError: true\n    })\n  }), [context.resetErrorBoundary]);\n  if (state.hasError) {\n    throw state.error;\n  }\n  return memoized;\n}\n\nfunction withErrorBoundary(component, errorBoundaryProps) {\n  const Wrapped = forwardRef((props, ref) => createElement(ErrorBoundary, errorBoundaryProps, createElement(component, {\n    ...props,\n    ref\n  })));\n\n  // Format for display in DevTools\n  const name = component.displayName || component.name || \"Unknown\";\n  Wrapped.displayName = \"withErrorBoundary(\".concat(name, \")\");\n  return Wrapped;\n}\n\nexport { ErrorBoundary, ErrorBoundaryContext, useErrorBoundary, withErrorBoundary };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useEffect, useMemo } from 'react';\nimport { useQuery, } from '@tanstack/react-query';\nimport useAuthProvider from \"./useAuthProvider.js\";\nimport useLogoutIfAccessDenied from \"./useLogoutIfAccessDenied.js\";\nimport { useEvent } from \"../util/index.js\";\nvar emptyParams = {};\n/**\n * Hook for getting user permissions\n *\n * Calls the authProvider.getPermissions() method using react-query.\n * If the authProvider returns a rejected promise, returns empty permissions.\n *\n * The return value updates according to the request state:\n *\n * - start: { isPending: true }\n * - success: { permissions: [any], isPending: false }\n * - error: { error: [error from provider], isPending: false }\n *\n * Useful to enable features based on user permissions\n *\n * @param {Object} params Any params you want to pass to the authProvider\n *\n * @returns The current auth check state. Destructure as { permissions, error, isPending, refetch }.\n *\n * @example\n *     import { usePermissions } from 'react-admin';\n *\n *     const PostDetail = () => {\n *         const { isPending, permissions } = usePermissions();\n *         if (!isPending && permissions == 'editor') {\n *             return <PostEdit />\n *         } else {\n *             return <PostShow />\n *         }\n *     };\n */\nvar usePermissions = function (params, queryParams) {\n    if (params === void 0) { params = emptyParams; }\n    if (queryParams === void 0) { queryParams = {\n        staleTime: 5 * 60 * 1000,\n    }; }\n    var authProvider = useAuthProvider();\n    var logoutIfAccessDenied = useLogoutIfAccessDenied();\n    var _a = queryParams !== null && queryParams !== void 0 ? queryParams : {}, onSuccess = _a.onSuccess, onError = _a.onError, onSettled = _a.onSettled, queryOptions = __rest(_a, [\"onSuccess\", \"onError\", \"onSettled\"]);\n    var queryResult = useQuery(__assign({ queryKey: ['auth', 'getPermissions', params], queryFn: function (_a) { return __awaiter(void 0, [_a], void 0, function (_b) {\n            var permissions;\n            var signal = _b.signal;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        if (!authProvider || !authProvider.getPermissions) {\n                            return [2 /*return*/, []];\n                        }\n                        return [4 /*yield*/, authProvider.getPermissions(__assign(__assign({}, params), { signal: signal }))];\n                    case 1:\n                        permissions = _c.sent();\n                        return [2 /*return*/, permissions !== null && permissions !== void 0 ? permissions : null];\n                }\n            });\n        }); } }, queryOptions));\n    var onSuccessEvent = useEvent(onSuccess !== null && onSuccess !== void 0 ? onSuccess : noop);\n    var onSettledEvent = useEvent(onSettled !== null && onSettled !== void 0 ? onSettled : noop);\n    var onErrorEvent = useEvent(onError !== null && onError !== void 0 ? onError : (function (error) {\n        if (process.env.NODE_ENV === 'development') {\n            console.error(error);\n        }\n        logoutIfAccessDenied(error);\n    }));\n    useEffect(function () {\n        if (queryResult.data === undefined || queryResult.isFetching)\n            return;\n        onSuccessEvent(queryResult.data);\n    }, [onSuccessEvent, queryResult.data, queryResult.isFetching]);\n    useEffect(function () {\n        if (queryResult.error == null || queryResult.isFetching)\n            return;\n        onErrorEvent(queryResult.error);\n    }, [onErrorEvent, queryResult.error, queryResult.isFetching]);\n    useEffect(function () {\n        if (queryResult.status === 'pending' || queryResult.isFetching)\n            return;\n        onSettledEvent(queryResult.data, queryResult.error);\n    }, [\n        onSettledEvent,\n        queryResult.data,\n        queryResult.error,\n        queryResult.status,\n        queryResult.isFetching,\n    ]);\n    var result = useMemo(function () { return (__assign(__assign({}, queryResult), { permissions: queryResult.data })); }, [queryResult]);\n    return !authProvider || !authProvider.getPermissions\n        ? fakeQueryResult\n        : result;\n};\nexport default usePermissions;\nvar noop = function () { };\nvar fakeQueryResult = {\n    permissions: undefined,\n    data: undefined,\n    dataUpdatedAt: 0,\n    error: null,\n    errorUpdatedAt: 0,\n    errorUpdateCount: 0,\n    failureCount: 0,\n    failureReason: null,\n    fetchStatus: 'idle',\n    isError: false,\n    isInitialLoading: false,\n    isLoading: false,\n    isLoadingError: false,\n    isFetched: true,\n    isFetchedAfterMount: true,\n    isFetching: false,\n    isPaused: false,\n    isPlaceholderData: false,\n    isPending: false,\n    isRefetchError: false,\n    isRefetching: false,\n    isStale: false,\n    isSuccess: true,\n    status: 'success',\n    refetch: function () { return Promise.resolve(fakeQueryResult); },\n};\n//# sourceMappingURL=usePermissions.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport * as React from 'react';\nimport { Children, Fragment, useCallback, useEffect, useState, } from 'react';\nimport useLogout from \"../auth/useLogout.js\";\nimport usePermissions from \"../auth/usePermissions.js\";\nimport { useResourceDefinitionContext } from \"./useResourceDefinitionContext.js\";\n/**\n * This hook inspects the CoreAdminRouter children and returns them separated in three groups:\n * - Custom routes without layout\n * - Custom routes with layout\n * - Resources\n *\n * It also returns a status:\n * - loading: still loading children from a function child\n * - empty: no resources were provided among children\n * - ready: admin is ready to be rendered\n *\n * @example\n * const {\n *    customRoutesWithLayout,\n *    customRoutesWithoutLayout,\n *    resources,\n *    status,\n * } = useConfigureAdminRouterFromChildren(children);\n */\nexport var useConfigureAdminRouterFromChildren = function (children) {\n    var _a = usePermissions(), permissions = _a.permissions, isPending = _a.isPending;\n    // Whenever children are updated, update our custom routes and resources\n    var _b = useRoutesAndResourcesFromChildren(children, permissions, isPending), routesAndResources = _b[0], status = _b[1];\n    // Whenever the resources change, we must ensure they're all registered\n    useRegisterResources(routesAndResources.resources, permissions);\n    return {\n        customRoutesWithLayout: routesAndResources.customRoutesWithLayout,\n        customRoutesWithoutLayout: routesAndResources.customRoutesWithoutLayout,\n        status: status,\n        resources: routesAndResources.resources,\n    };\n};\n/**\n * A hook that determine the routes and resources from React nodes and permissions.\n * Returns a tuple with the routes and resources as a single object, and the status.\n * @param children React nodes to inspect\n * @param permissions The permissions\n */\nvar useRoutesAndResourcesFromChildren = function (children, permissions, isLoading) {\n    // Gather custom routes and resources that were declared as direct children of CoreAdminRouter\n    // e.g. Not returned from the child function (if any)\n    // We need to know right away whether some resources were declared to correctly\n    // initialize the status at the next stop\n    var doLogout = useLogout();\n    var _a = useRoutesAndResourcesState(getRoutesAndResourceFromNodes(children)), routesAndResources = _a[0], setRoutesAndResources = _a[1], mergeRoutesAndResources = _a[2];\n    var _b = useState(function () {\n        return getStatus(__assign({ children: children }, routesAndResources));\n    }), status = _b[0], setStatus = _b[1];\n    if (!status) {\n        throw new Error('Status should be defined');\n    }\n    useEffect(function () {\n        var resolveChildFunction = function (childFunc) { return __awaiter(void 0, void 0, void 0, function () {\n            var childrenFuncResult;\n            return __generator(this, function (_a) {\n                try {\n                    childrenFuncResult = childFunc(permissions);\n                    if (childrenFuncResult === null || childrenFuncResult === void 0 ? void 0 : childrenFuncResult.then) {\n                        childrenFuncResult.then(function (resolvedChildren) {\n                            mergeRoutesAndResources(getRoutesAndResourceFromNodes(resolvedChildren));\n                            setStatus('ready');\n                        });\n                    }\n                    else {\n                        mergeRoutesAndResources(getRoutesAndResourceFromNodes(childrenFuncResult));\n                        setStatus('ready');\n                    }\n                }\n                catch (error) {\n                    console.error(error);\n                    doLogout();\n                }\n                return [2 /*return*/];\n            });\n        }); };\n        var updateFromChildren = function () { return __awaiter(void 0, void 0, void 0, function () {\n            var functionChild, newRoutesAndResources;\n            return __generator(this, function (_a) {\n                functionChild = getSingleChildFunction(children);\n                newRoutesAndResources = getRoutesAndResourceFromNodes(children);\n                setRoutesAndResources(newRoutesAndResources);\n                setStatus(functionChild\n                    ? 'loading'\n                    : newRoutesAndResources.resources.length > 0 ||\n                        newRoutesAndResources.customRoutesWithLayout.length >\n                            0 ||\n                        newRoutesAndResources.customRoutesWithoutLayout.length >\n                            0\n                        ? 'ready'\n                        : 'empty');\n                if (functionChild) {\n                    resolveChildFunction(functionChild);\n                }\n                return [2 /*return*/];\n            });\n        }); };\n        if (!isLoading) {\n            updateFromChildren();\n        }\n    }, [\n        children,\n        doLogout,\n        isLoading,\n        mergeRoutesAndResources,\n        permissions,\n        setRoutesAndResources,\n        setStatus,\n    ]);\n    return [routesAndResources, status];\n};\n/*\n * A hook that store the routes and resources just like setState but also provides an additional function\n * to merge new routes and resources with the existing ones.\n */\nvar useRoutesAndResourcesState = function (initialState) {\n    var _a = useState(initialState), routesAndResources = _a[0], setRoutesAndResources = _a[1];\n    var mergeRoutesAndResources = useCallback(function (newRoutesAndResources) {\n        setRoutesAndResources(function (previous) { return ({\n            customRoutesWithLayout: previous.customRoutesWithLayout.concat(newRoutesAndResources.customRoutesWithLayout),\n            customRoutesWithoutLayout: previous.customRoutesWithoutLayout.concat(newRoutesAndResources.customRoutesWithoutLayout),\n            resources: previous.resources.concat(newRoutesAndResources.resources),\n        }); });\n    }, []);\n    return [routesAndResources, setRoutesAndResources, mergeRoutesAndResources];\n};\n/**\n * A hook that register resources and unregister them when the calling component is unmounted.\n * @param resources: An array of Resource elements\n * @param permissions: The permissions\n */\nvar useRegisterResources = function (resources, permissions) {\n    var _a = useResourceDefinitionContext(), register = _a.register, unregister = _a.unregister;\n    useEffect(function () {\n        resources.forEach(function (resource) {\n            if (typeof resource.type.registerResource === 'function') {\n                var definition = resource.type.registerResource(resource.props, permissions);\n                register(definition);\n            }\n            else {\n                throw new Error('When using a custom Resource element, it must have a static registerResource method accepting its props and returning a ResourceDefinition');\n            }\n        });\n        return function () {\n            resources.forEach(function (resource) {\n                if (typeof resource.type.registerResource === 'function') {\n                    var definition = resource.type.registerResource(resource.props, permissions);\n                    unregister(definition);\n                }\n                else {\n                    throw new Error('When using a custom Resource element, it must have a static registerResource method accepting its props and returning a ResourceDefinition');\n                }\n            });\n        };\n    }, [permissions, register, resources, unregister]);\n};\nvar getStatus = function (_a) {\n    var children = _a.children, resources = _a.resources, customRoutesWithLayout = _a.customRoutesWithLayout, customRoutesWithoutLayout = _a.customRoutesWithoutLayout;\n    return getSingleChildFunction(children)\n        ? 'loading'\n        : resources.length > 0 ||\n            customRoutesWithLayout.length > 0 ||\n            customRoutesWithoutLayout.length > 0\n            ? 'ready'\n            : 'empty';\n};\n/**\n * Inspect the children of a CoreAdminRouter to see if one of them is a function.\n * Throws an error if there are more than one function child.\n * Returns the function child if one was provided, or null otherwise.\n */\nvar getSingleChildFunction = function (children) {\n    var childrenArray = Array.isArray(children) ? children : [children];\n    var functionChildren = childrenArray.filter(function (child) { return typeof child === 'function'; });\n    if (functionChildren.length > 1) {\n        throw new Error('You can only provide one function child to AdminRouter');\n    }\n    if (functionChildren.length === 0) {\n        return null;\n    }\n    return functionChildren[0];\n};\n/**\n * Inspect the children and return an object with the following keys:\n * - customRoutesWithLayout: an array of the custom routes to render inside the layout\n * - customRoutesWithoutLayout: an array of custom routes to render outside the layout\n * - resources: an array of resources elements\n */\nvar getRoutesAndResourceFromNodes = function (children) {\n    var customRoutesWithLayout = [];\n    var customRoutesWithoutLayout = [];\n    var resources = [];\n    if (typeof children === 'function') {\n        return {\n            customRoutesWithLayout: [],\n            customRoutesWithoutLayout: [],\n            resources: [],\n        };\n    }\n    // @ts-ignore\n    Children.forEach(children, function (element) {\n        if (!React.isValidElement(element)) {\n            // Ignore non-elements. This allows people to more easily inline\n            // conditionals in their route config.\n            return;\n        }\n        if (element.type === Fragment) {\n            var customRoutesFromFragment = getRoutesAndResourceFromNodes(element.props.children);\n            customRoutesWithLayout.push.apply(customRoutesWithLayout, customRoutesFromFragment.customRoutesWithLayout);\n            customRoutesWithoutLayout.push.apply(customRoutesWithoutLayout, customRoutesFromFragment.customRoutesWithoutLayout);\n            resources.push.apply(resources, customRoutesFromFragment.resources);\n        }\n        if (element.type.raName === 'CustomRoutes') {\n            var customRoutesElement = element;\n            if (customRoutesElement.props.noLayout) {\n                customRoutesWithoutLayout.push(customRoutesElement.props.children);\n            }\n            else {\n                customRoutesWithLayout.push(customRoutesElement.props.children);\n            }\n        }\n        else if (element.type.raName === 'Resource') {\n            resources.push(element);\n        }\n    });\n    return {\n        customRoutesWithLayout: customRoutesWithLayout,\n        customRoutesWithoutLayout: customRoutesWithoutLayout,\n        resources: resources,\n    };\n};\n//# sourceMappingURL=useConfigureAdminRouterFromChildren.js.map","import { createContext, useContext } from 'react';\nexport var HasDashboardContext = createContext(false);\nexport var HasDashboardContextProvider = HasDashboardContext.Provider;\n/**\n * Returns true if the app has a dashboard defined at the <Admin> level.\n *\n * @private\n * @example\n * import { useHasDashboard } from 'react-admin';\n *\n * const MyMenu = () => {\n *    const hasDashboard = useHasDashboard();\n *    return (\n *       <Menu>\n *          {hasDashboard && <DashboardMenuItem />}\n *          <MenuItemLink to=\"/posts\" />\n *          <MenuItemLink to=\"/comments\" />\n *       </Menu>\n *     );\n * }\n */\nexport var useHasDashboard = function () { return useContext(HasDashboardContext); };\n//# sourceMappingURL=HasDashboardContext.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useMemo } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport useAuthProvider from \"./useAuthProvider.js\";\nimport { useRecordContext } from \"../controller/index.js\";\n/**\n * Checks whether users can access the provided resources.\n *\n * `useCanAccessResources` returns an object describing the state of the request:\n *\n * - start: { isPending: true }\n * - success: { canAccess: Object<string, boolean>, isPending: false }\n * - error: { error: [error from provider], isPending: false }\n *\n * @param {Object} params Any params you want to pass to the authProvider\n * @param {string} params.action The action to check access for\n * @param {string[]} params.resources The list of resources to check access for\n * @param {Object} params.record Optional. The record to check access for\n *\n * @returns Return the react-query result and a canAccess property which is a map of the resources and their access status { [resource: string]: boolean }\n *\n * @example\n * import { useCanAccessResources } from 'react-admin';\n *\n * const UserList = ({ record }) => {\n *     const { isPending, canAccess } = useCanAccessResources({\n *         action: 'read',\n *         resources: ['users.id', 'users.name', 'users.email'],\n *         record\n *     });\n *\n *     if (isPending) {\n *         return null;\n *     }\n *     return (\n *         <SimpleList\n *              primaryText={record => canAccess.users.name ? record.name : ''}\n *              secondaryText={record => canAccess.users.email ? record.email : ''}\n *              tertiaryText={record => canAccess.users.id ? record.id : ''}\n *          />\n *     );\n * };\n */\nexport var useCanAccessResources = function (params) {\n    var authProvider = useAuthProvider();\n    var record = useRecordContext(params);\n    var action = params.action, resources = params.resources, options = __rest(params, [\"action\", \"resources\"]);\n    var queryResult = useQuery(__assign({ queryKey: ['auth', 'canAccess', resources, action, record], queryFn: function (_a) { return __awaiter(void 0, [_a], void 0, function (_b) {\n            var queries, result;\n            var signal = _b.signal;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0: return [4 /*yield*/, Promise.all(resources.map(function (resource) { return __awaiter(void 0, void 0, void 0, function () {\n                            var canAccess;\n                            return __generator(this, function (_a) {\n                                switch (_a.label) {\n                                    case 0:\n                                        if (!authProvider || !authProvider.canAccess) {\n                                            return [2 /*return*/, { canAccess: true, resource: resource }];\n                                        }\n                                        return [4 /*yield*/, authProvider.canAccess({\n                                                resource: resource,\n                                                action: action,\n                                                record: record,\n                                                signal: authProvider.supportAbortSignal\n                                                    ? signal\n                                                    : undefined,\n                                            })];\n                                    case 1:\n                                        canAccess = _a.sent();\n                                        return [2 /*return*/, { canAccess: canAccess, resource: resource }];\n                                }\n                            });\n                        }); }))];\n                    case 1:\n                        queries = _c.sent();\n                        result = queries.reduce(function (acc, _a) {\n                            var resource = _a.resource, canAccess = _a.canAccess;\n                            acc[resource] = canAccess;\n                            return acc;\n                        }, {});\n                        return [2 /*return*/, result];\n                }\n            });\n        }); } }, options));\n    var result = useMemo(function () {\n        return __assign({ canAccess: queryResult.data }, queryResult);\n    }, [queryResult]);\n    var resultWithoutAuthProvider = useMemo(function () {\n        return {\n            canAccess: resources.reduce(function (acc, resource) {\n                acc[resource] = true;\n                return acc;\n            }, {}),\n            isPending: false,\n            isError: false,\n            error: null,\n        };\n    }, [resources]);\n    return !authProvider || !authProvider.canAccess\n        ? resultWithoutAuthProvider\n        : result;\n};\n//# sourceMappingURL=useCanAccessResources.js.map","import { useCanAccessResources } from \"../auth/useCanAccessResources.js\";\nimport { useAuthenticated } from \"../auth/index.js\";\nimport { useResourceDefinitions } from \"./useResourceDefinitions.js\";\n/**\n * A hook that returns the first resource for which users have access to the list page.\n * It calls the `authProvider.canAccess` if available to check the permissions.\n */\nexport var useFirstResourceWithListAccess = function () {\n    var isPendingAuthenticated = useAuthenticated().isPending;\n    var resources = useResourceDefinitions();\n    var resourcesNames = Object.keys(resources).filter(function (resource) { return resources[resource].hasList; });\n    var _a = useCanAccessResources({\n        action: 'list',\n        resources: resourcesNames,\n        enabled: !isPendingAuthenticated,\n    }), canAccess = _a.canAccess, isPending = _a.isPending;\n    var firstResourceWithListAccess = resourcesNames.find(function (resource) { return canAccess && canAccess[resource] === true; });\n    return { resource: firstResourceWithListAccess, isPending: isPending };\n};\n//# sourceMappingURL=useFirstResourceWithListAccess.js.map","import * as React from 'react';\nimport { Navigate } from 'react-router';\nimport { useFirstResourceWithListAccess } from \"./useFirstResourceWithListAccess.js\";\nimport { useCreatePath } from \"../routing/index.js\";\n/**\n * This component will inspect the registered resources and navigate to the first one for which users have access to the list page.\n * @param props\n * @param props.loading The component to display while the component is loading.\n */\nexport var NavigateToFirstResource = function (_a) {\n    var LoadingPage = _a.loading;\n    var _b = useFirstResourceWithListAccess(), resource = _b.resource, isPending = _b.isPending;\n    var createPath = useCreatePath();\n    if (isPending) {\n        return React.createElement(LoadingPage, null);\n    }\n    if (resource) {\n        return (React.createElement(Navigate, { to: createPath({\n                resource: resource,\n                type: 'list',\n            }), replace: true }));\n    }\n};\n//# sourceMappingURL=NavigateToFirstResource.js.map","import * as React from 'react';\nimport { Children } from 'react';\nimport { Route, Routes } from 'react-router-dom';\nimport { WithPermissions, LogoutOnMount, useAuthState } from \"../auth/index.js\";\nimport { useScrollToTop } from \"../routing/index.js\";\nimport { useConfigureAdminRouterFromChildren } from \"./useConfigureAdminRouterFromChildren.js\";\nimport { HasDashboardContextProvider } from \"./HasDashboardContext.js\";\nimport { NavigateToFirstResource } from \"./NavigateToFirstResource.js\";\nexport var CoreAdminRoutes = function (props) {\n    useScrollToTop();\n    var _a = useConfigureAdminRouterFromChildren(props.children), customRoutesWithLayout = _a.customRoutesWithLayout, customRoutesWithoutLayout = _a.customRoutesWithoutLayout, status = _a.status, resources = _a.resources;\n    var Layout = props.layout, CatchAll = props.catchAll, dashboard = props.dashboard, LoadingPage = props.loading, requireAuth = props.requireAuth, Ready = props.ready, _b = props.authenticationError, AuthenticationError = _b === void 0 ? Noop : _b, _c = props.accessDenied, AccessDenied = _c === void 0 ? Noop : _c;\n    var _d = useAuthState(undefined, \n    // do not log the user out on failure to allow access to custom routes with no layout\n    false, { enabled: requireAuth }), authenticated = _d.authenticated, isPendingAuthenticated = _d.isPending;\n    if (status === 'empty') {\n        if (!Ready) {\n            throw new Error('The admin is empty. Please provide an empty component, or pass Resource or CustomRoutes as children.');\n        }\n        return React.createElement(Ready, null);\n    }\n    // Note: custom routes with no layout are always rendered, regardless of the auth status\n    if (status === 'loading' || (requireAuth && isPendingAuthenticated)) {\n        return (React.createElement(Routes, null,\n            customRoutesWithoutLayout,\n            React.createElement(Route, { path: \"*\", element: React.createElement(\"div\", { style: { height: '100vh' } },\n                    React.createElement(LoadingPage, null)) })));\n    }\n    if (requireAuth && (isPendingAuthenticated || !authenticated)) {\n        return (React.createElement(Routes, null,\n            customRoutesWithoutLayout,\n            React.createElement(Route, { path: \"*\", element: React.createElement(LogoutOnMount, null) })));\n    }\n    return (React.createElement(Routes, null,\n        customRoutesWithoutLayout,\n        React.createElement(Route, { path: \"/*\", element: React.createElement(HasDashboardContextProvider, { value: !!dashboard },\n                React.createElement(Layout, null,\n                    React.createElement(Routes, null,\n                        customRoutesWithLayout,\n                        Children.map(resources, function (resource) { return (React.createElement(Route, { key: resource.props.name, path: \"\".concat(resource.props.name, \"/*\"), element: resource })); }),\n                        React.createElement(Route, { path: \"/\", element: dashboard ? (React.createElement(WithPermissions, { authParams: defaultAuthParams, component: dashboard, loading: LoadingPage })) : (React.createElement(NavigateToFirstResource, { loading: LoadingPage })) }),\n                        React.createElement(Route, { path: \"/authentication-error\", element: React.createElement(AuthenticationError, null) }),\n                        React.createElement(Route, { path: \"/access-denied\", element: React.createElement(AccessDenied, null) }),\n                        React.createElement(Route, { path: \"*\", element: React.createElement(CatchAll, null) })))) })));\n};\n// FIXME in v6: make dashboard anonymous by default to remove this hack\nvar defaultAuthParams = { params: { route: 'dashboard' } };\nvar Noop = function () { return null; };\n//# sourceMappingURL=CoreAdminRoutes.js.map","import { createContext, useContext } from 'react';\nexport var DefaultTitleContext = createContext('React Admin');\nexport var DefaultTitleContextProvider = DefaultTitleContext.Provider;\n/**\n * Get the application title defined at the `<Admin>` level\n *\n * @example\n * import { useDefaultTitle } from 'react-admin';\n *\n * const AppBar = () => {\n *    const defaultTitle = useDefaultTitle();\n *    return <span>{defaultTitle}</span>;\n * }\n */\nexport var useDefaultTitle = function () { return useContext(DefaultTitleContext); };\n//# sourceMappingURL=DefaultTitleContext.js.map","import * as React from 'react';\nimport { useEffect, isValidElement, createElement, useState, } from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport { CoreAdminRoutes } from \"./CoreAdminRoutes.js\";\nimport { useResetErrorBoundaryOnLocationChange } from \"../routing/index.js\";\nimport { Ready } from \"../util/index.js\";\nimport { DefaultTitleContextProvider } from \"./DefaultTitleContext.js\";\nvar DefaultLayout = function (_a) {\n    var children = _a.children;\n    return (React.createElement(React.Fragment, null, children));\n};\nvar DefaultError = function (_a) {\n    var error = _a.error, errorInfo = _a.errorInfo, resetErrorBoundary = _a.resetErrorBoundary;\n    useResetErrorBoundaryOnLocationChange(resetErrorBoundary);\n    return (React.createElement(\"div\", null,\n        React.createElement(\"h1\", null, \"Error\"),\n        React.createElement(\"pre\", null,\n            error.message, errorInfo === null || errorInfo === void 0 ? void 0 :\n            errorInfo.componentStack)));\n};\nexport var CoreAdminUI = function (props) {\n    var _a = useState({}), errorInfo = _a[0], setErrorInfo = _a[1];\n    var _b = props.authCallbackPage, LoginCallbackPage = _b === void 0 ? false : _b, _c = props.catchAll, catchAll = _c === void 0 ? Noop : _c, children = props.children, dashboard = props.dashboard, _d = props.disableTelemetry, disableTelemetry = _d === void 0 ? false : _d, _e = props.error, ErrorComponent = _e === void 0 ? DefaultError : _e, _f = props.layout, layout = _f === void 0 ? DefaultLayout : _f, _g = props.loading, loading = _g === void 0 ? Noop : _g, _h = props.loginPage, LoginPage = _h === void 0 ? false : _h, _j = props.ready, ready = _j === void 0 ? Ready : _j, _k = props.requireAuth, requireAuth = _k === void 0 ? false : _k, _l = props.title, title = _l === void 0 ? 'React Admin' : _l, _m = props.authenticationError, authenticationError = _m === void 0 ? Noop : _m, _o = props.accessDenied, accessDenied = _o === void 0 ? Noop : _o;\n    useEffect(function () {\n        if (disableTelemetry ||\n            process.env.NODE_ENV !== 'production' ||\n            typeof window === 'undefined' ||\n            typeof window.location === 'undefined' ||\n            typeof Image === 'undefined') {\n            return;\n        }\n        var img = new Image();\n        img.src = \"https://react-admin-telemetry.marmelab.com/react-admin-telemetry?domain=\".concat(window.location.hostname);\n    }, [disableTelemetry]);\n    var handleError = function (error, info) { return setErrorInfo(info); };\n    return (React.createElement(DefaultTitleContextProvider, { value: title },\n        React.createElement(ErrorBoundary, { onError: handleError, fallbackRender: function (_a) {\n                var error = _a.error, resetErrorBoundary = _a.resetErrorBoundary;\n                return (React.createElement(\"div\", { style: { minHeight: '100vh' } },\n                    React.createElement(ErrorComponent, { error: error, errorInfo: errorInfo, resetErrorBoundary: resetErrorBoundary })));\n            } },\n            React.createElement(Routes, null,\n                LoginPage !== false && LoginPage !== true ? (React.createElement(Route, { path: \"/login\", element: createOrGetElement(LoginPage) })) : null,\n                LoginCallbackPage !== false &&\n                    LoginCallbackPage !== true ? (React.createElement(Route, { path: \"/auth-callback\", element: createOrGetElement(LoginCallbackPage) })) : null,\n                React.createElement(Route, { path: \"/*\", element: React.createElement(CoreAdminRoutes, { catchAll: catchAll, dashboard: dashboard, layout: layout, loading: loading, requireAuth: requireAuth, ready: ready, authenticationError: authenticationError, accessDenied: accessDenied }, children) })))));\n};\nvar createOrGetElement = function (el) { return (isValidElement(el) ? el : createElement(el)); };\nvar Noop = function () { return null; };\n//# sourceMappingURL=CoreAdminUI.js.map","/**\n * This component allows you to provide custom routes to the Admin.\n * @param props The component props\n * @param props.children The custom routes.\n * @param props.noLayout A boolean indicating whether to render the routes outside the Layout. Defaults to false.\n * @returns Nothing. This is a configuration component.\n */\nexport var CustomRoutes = function (_props) {\n    return null;\n};\nCustomRoutes.raName = 'CustomRoutes';\n//# sourceMappingURL=CustomRoutes.js.map","import * as React from 'react';\nimport { ResourceContextProvider } from \"./ResourceContextProvider.js\";\n/**\n * Wrap children with a ResourceContext provider only if the value is defined.\n *\n * Allows a component to work outside of a resource context.\n *\n * @example\n *\n * import { OptionalResourceContextProvider, EditButton } from 'react-admin';\n *\n * const Button = ({ resource }) => (\n *     <OptionalResourceContextProvider value={resource}>\n *         <EditButton />\n *     </OptionalResourceContextProvider>\n * );\n */\nexport var OptionalResourceContextProvider = function (_a) {\n    var value = _a.value, children = _a.children;\n    return value ? (React.createElement(ResourceContextProvider, { value: value }, children)) : (children);\n};\n//# sourceMappingURL=OptionalResourceContextProvider.js.map","/**\n * @license React\n * react-is.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  REACT_VIEW_TRANSITION_TYPE = Symbol.for(\"react.view_transition\"),\n  REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\");\nfunction typeOf(object) {\n  if (\"object\" === typeof object && null !== object) {\n    var $$typeof = object.$$typeof;\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        switch (((object = object.type), object)) {\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n          case REACT_SUSPENSE_LIST_TYPE:\n          case REACT_VIEW_TRANSITION_TYPE:\n            return object;\n          default:\n            switch (((object = object && object.$$typeof), object)) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n                return object;\n              case REACT_CONSUMER_TYPE:\n                return object;\n              default:\n                return $$typeof;\n            }\n        }\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n}\nexports.ContextConsumer = REACT_CONSUMER_TYPE;\nexports.ContextProvider = REACT_CONTEXT_TYPE;\nexports.Element = REACT_ELEMENT_TYPE;\nexports.ForwardRef = REACT_FORWARD_REF_TYPE;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Lazy = REACT_LAZY_TYPE;\nexports.Memo = REACT_MEMO_TYPE;\nexports.Portal = REACT_PORTAL_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.SuspenseList = REACT_SUSPENSE_LIST_TYPE;\nexports.isContextConsumer = function (object) {\n  return typeOf(object) === REACT_CONSUMER_TYPE;\n};\nexports.isContextProvider = function (object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n};\nexports.isElement = function (object) {\n  return (\n    \"object\" === typeof object &&\n    null !== object &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n};\nexports.isForwardRef = function (object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n};\nexports.isFragment = function (object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n};\nexports.isLazy = function (object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n};\nexports.isMemo = function (object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n};\nexports.isPortal = function (object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n};\nexports.isProfiler = function (object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n};\nexports.isStrictMode = function (object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n};\nexports.isSuspense = function (object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n};\nexports.isSuspenseList = function (object) {\n  return typeOf(object) === REACT_SUSPENSE_LIST_TYPE;\n};\nexports.isValidElementType = function (type) {\n  return \"string\" === typeof type ||\n    \"function\" === typeof type ||\n    type === REACT_FRAGMENT_TYPE ||\n    type === REACT_PROFILER_TYPE ||\n    type === REACT_STRICT_MODE_TYPE ||\n    type === REACT_SUSPENSE_TYPE ||\n    type === REACT_SUSPENSE_LIST_TYPE ||\n    (\"object\" === typeof type &&\n      null !== type &&\n      (type.$$typeof === REACT_LAZY_TYPE ||\n        type.$$typeof === REACT_MEMO_TYPE ||\n        type.$$typeof === REACT_CONTEXT_TYPE ||\n        type.$$typeof === REACT_CONSUMER_TYPE ||\n        type.$$typeof === REACT_FORWARD_REF_TYPE ||\n        type.$$typeof === REACT_CLIENT_REFERENCE ||\n        void 0 !== type.getModuleId))\n    ? !0\n    : !1;\n};\nexports.typeOf = typeOf;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","import * as React from 'react';\nimport { isValidElement } from 'react';\nimport { Route, Routes } from 'react-router-dom';\nimport { isValidElementType } from 'react-is';\nimport { ResourceContextProvider } from \"./ResourceContextProvider.js\";\nimport { RestoreScrollPosition } from \"../routing/RestoreScrollPosition.js\";\nexport var Resource = function (props) {\n    var create = props.create, edit = props.edit, list = props.list, name = props.name, show = props.show;\n    return (React.createElement(ResourceContextProvider, { value: name },\n        React.createElement(Routes, null,\n            create && (React.createElement(Route, { path: \"create/*\", element: getElement(create) })),\n            show && React.createElement(Route, { path: \":id/show/*\", element: getElement(show) }),\n            edit && React.createElement(Route, { path: \":id/*\", element: getElement(edit) }),\n            list && (React.createElement(Route, { path: \"/*\", element: React.createElement(RestoreScrollPosition, { storeKey: \"\".concat(name, \".list.scrollPosition\") }, getElement(list)) })),\n            props.children)));\n};\nvar getElement = function (ElementOrComponent) {\n    if (isValidElement(ElementOrComponent)) {\n        return ElementOrComponent;\n    }\n    if (isValidElementType(ElementOrComponent)) {\n        var Element_1 = ElementOrComponent;\n        return React.createElement(Element_1, null);\n    }\n    return null;\n};\nResource.raName = 'Resource';\nResource.registerResource = function (_a) {\n    var create = _a.create, edit = _a.edit, icon = _a.icon, list = _a.list, name = _a.name, options = _a.options, show = _a.show, recordRepresentation = _a.recordRepresentation, hasCreate = _a.hasCreate, hasEdit = _a.hasEdit, hasShow = _a.hasShow;\n    return ({\n        name: name,\n        options: options,\n        hasList: !!list,\n        hasCreate: !!create || !!hasCreate,\n        hasEdit: !!edit || !!hasEdit,\n        hasShow: !!show || !!hasShow,\n        icon: icon,\n        recordRepresentation: recordRepresentation,\n    });\n};\n//# sourceMappingURL=Resource.js.map","\"use strict\";\n/*!\n * inflection\n * Copyright(c) 2011 Ben Lin <ben@dreamerslab.com>\n * MIT Licensed\n *\n * @fileoverview\n * A port of inflection-js to node.js module.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.pluralize = pluralize;\nexports.singularize = singularize;\nexports.inflect = inflect;\nexports.camelize = camelize;\nexports.underscore = underscore;\nexports.humanize = humanize;\nexports.capitalize = capitalize;\nexports.dasherize = dasherize;\nexports.titleize = titleize;\nexports.demodulize = demodulize;\nexports.tableize = tableize;\nexports.classify = classify;\nexports.foreignKey = foreignKey;\nexports.ordinalize = ordinalize;\nexports.transform = transform;\n/**\n * @description This is a list of nouns that use the same form for both singular and plural.\n *              This list should remain entirely in lower case to correctly match Strings.\n */\nconst uncountableWords = [\n    // 'access',\n    'accommodation',\n    'adulthood',\n    'advertising',\n    'advice',\n    'aggression',\n    'aid',\n    'air',\n    'aircraft',\n    'alcohol',\n    'anger',\n    'applause',\n    'arithmetic',\n    // 'art',\n    'assistance',\n    'athletics',\n    // 'attention',\n    'bacon',\n    'baggage',\n    // 'ballet',\n    // 'beauty',\n    'beef',\n    // 'beer',\n    // 'behavior',\n    'biology',\n    // 'billiards',\n    'blood',\n    'botany',\n    // 'bowels',\n    'bread',\n    // 'business',\n    'butter',\n    'carbon',\n    'cardboard',\n    'cash',\n    'chalk',\n    'chaos',\n    'chess',\n    'crossroads',\n    'countryside',\n    // 'damage',\n    'dancing',\n    // 'danger',\n    'deer',\n    // 'delight',\n    // 'dessert',\n    'dignity',\n    'dirt',\n    // 'distribution',\n    'dust',\n    'economics',\n    'education',\n    'electricity',\n    // 'employment',\n    // 'energy',\n    'engineering',\n    'enjoyment',\n    // 'entertainment',\n    'envy',\n    'equipment',\n    'ethics',\n    'evidence',\n    'evolution',\n    // 'failure',\n    // 'faith',\n    'fame',\n    'fiction',\n    // 'fish',\n    'flour',\n    'flu',\n    'food',\n    // 'freedom',\n    // 'fruit',\n    'fuel',\n    'fun',\n    // 'funeral',\n    'furniture',\n    'gallows',\n    'garbage',\n    'garlic',\n    // 'gas',\n    'genetics',\n    // 'glass',\n    'gold',\n    'golf',\n    'gossip',\n    // 'grass',\n    'gratitude',\n    'grief',\n    // 'ground',\n    'guilt',\n    'gymnastics',\n    // 'hair',\n    'happiness',\n    'hardware',\n    'harm',\n    'hate',\n    'hatred',\n    'health',\n    'heat',\n    // 'height',\n    'help',\n    'homework',\n    'honesty',\n    'honey',\n    'hospitality',\n    'housework',\n    'humour',\n    'hunger',\n    'hydrogen',\n    'ice',\n    'importance',\n    'inflation',\n    'information',\n    // 'injustice',\n    'innocence',\n    // 'intelligence',\n    'iron',\n    'irony',\n    'jam',\n    // 'jealousy',\n    // 'jelly',\n    'jewelry',\n    // 'joy',\n    'judo',\n    // 'juice',\n    // 'justice',\n    'karate',\n    // 'kindness',\n    'knowledge',\n    // 'labour',\n    'lack',\n    // 'land',\n    'laughter',\n    'lava',\n    'leather',\n    'leisure',\n    'lightning',\n    'linguine',\n    'linguini',\n    'linguistics',\n    'literature',\n    'litter',\n    'livestock',\n    'logic',\n    'loneliness',\n    // 'love',\n    'luck',\n    'luggage',\n    'macaroni',\n    'machinery',\n    'magic',\n    // 'mail',\n    'management',\n    'mankind',\n    'marble',\n    'mathematics',\n    'mayonnaise',\n    'measles',\n    // 'meat',\n    // 'metal',\n    'methane',\n    'milk',\n    'minus',\n    'money',\n    // 'moose',\n    'mud',\n    'music',\n    'mumps',\n    'nature',\n    'news',\n    'nitrogen',\n    'nonsense',\n    'nurture',\n    'nutrition',\n    'obedience',\n    'obesity',\n    // 'oil',\n    'oxygen',\n    // 'paper',\n    // 'passion',\n    'pasta',\n    'patience',\n    // 'permission',\n    'physics',\n    'poetry',\n    'pollution',\n    'poverty',\n    // 'power',\n    'pride',\n    // 'production',\n    // 'progress',\n    // 'pronunciation',\n    'psychology',\n    'publicity',\n    'punctuation',\n    // 'quality',\n    // 'quantity',\n    'quartz',\n    'racism',\n    // 'rain',\n    // 'recreation',\n    'relaxation',\n    'reliability',\n    'research',\n    'respect',\n    'revenge',\n    'rice',\n    'rubbish',\n    'rum',\n    'safety',\n    // 'salad',\n    // 'salt',\n    // 'sand',\n    // 'satire',\n    'scenery',\n    'seafood',\n    'seaside',\n    'series',\n    'shame',\n    'sheep',\n    'shopping',\n    // 'silence',\n    'sleep',\n    // 'slang'\n    'smoke',\n    'smoking',\n    'snow',\n    'soap',\n    'software',\n    'soil',\n    // 'sorrow',\n    // 'soup',\n    'spaghetti',\n    // 'speed',\n    'species',\n    // 'spelling',\n    // 'sport',\n    'steam',\n    // 'strength',\n    'stuff',\n    'stupidity',\n    // 'success',\n    // 'sugar',\n    'sunshine',\n    'symmetry',\n    // 'tea',\n    'tennis',\n    'thirst',\n    'thunder',\n    'timber',\n    // 'time',\n    // 'toast',\n    // 'tolerance',\n    // 'trade',\n    'traffic',\n    'transportation',\n    // 'travel',\n    'trust',\n    // 'understanding',\n    'underwear',\n    'unemployment',\n    'unity',\n    // 'usage',\n    'validity',\n    'veal',\n    'vegetation',\n    'vegetarianism',\n    'vengeance',\n    'violence',\n    // 'vision',\n    'vitality',\n    'warmth',\n    // 'water',\n    'wealth',\n    'weather',\n    // 'weight',\n    'welfare',\n    'wheat',\n    // 'whiskey',\n    // 'width',\n    'wildlife',\n    // 'wine',\n    'wisdom',\n    // 'wood',\n    // 'wool',\n    // 'work',\n    // 'yeast',\n    'yoga',\n    'zinc',\n    'zoology',\n];\n/**\n * @description These rules translate from the singular form of a noun to its plural form.\n */\nconst regex = {\n    plural: {\n        men: new RegExp('^(m|wom)en$', 'gi'),\n        people: new RegExp('(pe)ople$', 'gi'),\n        children: new RegExp('(child)ren$', 'gi'),\n        tia: new RegExp('([ti])a$', 'gi'),\n        analyses: new RegExp('((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$', 'gi'),\n        databases: new RegExp('(database)s$', 'gi'),\n        drives: new RegExp('(drive)s$', 'gi'),\n        hives: new RegExp('(hi|ti)ves$', 'gi'),\n        curves: new RegExp('(curve)s$', 'gi'),\n        lrves: new RegExp('([lr])ves$', 'gi'),\n        aves: new RegExp('([a])ves$', 'gi'),\n        foves: new RegExp('([^fo])ves$', 'gi'),\n        movies: new RegExp('(m)ovies$', 'gi'),\n        aeiouyies: new RegExp('([^aeiouy]|qu)ies$', 'gi'),\n        series: new RegExp('(s)eries$', 'gi'),\n        xes: new RegExp('(x|ch|ss|sh)es$', 'gi'),\n        mice: new RegExp('([m|l])ice$', 'gi'),\n        buses: new RegExp('(bus)es$', 'gi'),\n        oes: new RegExp('(o)es$', 'gi'),\n        shoes: new RegExp('(shoe)s$', 'gi'),\n        crises: new RegExp('(cris|ax|test)es$', 'gi'),\n        octopuses: new RegExp('(octop|vir)uses$', 'gi'),\n        aliases: new RegExp('(alias|canvas|status|campus)es$', 'gi'),\n        summonses: new RegExp('^(summons|bonus)es$', 'gi'),\n        oxen: new RegExp('^(ox)en', 'gi'),\n        matrices: new RegExp('(matr)ices$', 'gi'),\n        vertices: new RegExp('(vert|ind)ices$', 'gi'),\n        feet: new RegExp('^feet$', 'gi'),\n        teeth: new RegExp('^teeth$', 'gi'),\n        geese: new RegExp('^geese$', 'gi'),\n        quizzes: new RegExp('(quiz)zes$', 'gi'),\n        whereases: new RegExp('^(whereas)es$', 'gi'),\n        criteria: new RegExp('^(criteri)a$', 'gi'),\n        genera: new RegExp('^genera$', 'gi'),\n        ss: new RegExp('ss$', 'gi'),\n        s: new RegExp('s$', 'gi'),\n    },\n    singular: {\n        man: new RegExp('^(m|wom)an$', 'gi'),\n        person: new RegExp('(pe)rson$', 'gi'),\n        child: new RegExp('(child)$', 'gi'),\n        drive: new RegExp('(drive)$', 'gi'),\n        ox: new RegExp('^(ox)$', 'gi'),\n        axis: new RegExp('(ax|test)is$', 'gi'),\n        octopus: new RegExp('(octop|vir)us$', 'gi'),\n        alias: new RegExp('(alias|status|canvas|campus)$', 'gi'),\n        summons: new RegExp('^(summons|bonus)$', 'gi'),\n        bus: new RegExp('(bu)s$', 'gi'),\n        buffalo: new RegExp('(buffal|tomat|potat)o$', 'gi'),\n        tium: new RegExp('([ti])um$', 'gi'),\n        sis: new RegExp('sis$', 'gi'),\n        ffe: new RegExp('(?:([^f])fe|([lr])f)$', 'gi'),\n        focus: new RegExp('^(focus)$', 'gi'),\n        hive: new RegExp('(hi|ti)ve$', 'gi'),\n        aeiouyy: new RegExp('([^aeiouy]|qu)y$', 'gi'),\n        x: new RegExp('(x|ch|ss|sh)$', 'gi'),\n        matrix: new RegExp('(matr)ix$', 'gi'),\n        vertex: new RegExp('(vert|ind)ex$', 'gi'),\n        mouse: new RegExp('([m|l])ouse$', 'gi'),\n        foot: new RegExp('^foot$', 'gi'),\n        tooth: new RegExp('^tooth$', 'gi'),\n        goose: new RegExp('^goose$', 'gi'),\n        quiz: new RegExp('(quiz)$', 'gi'),\n        whereas: new RegExp('^(whereas)$', 'gi'),\n        criterion: new RegExp('^(criteri)on$', 'gi'),\n        genus: new RegExp('^genus$', 'gi'),\n        s: new RegExp('s$', 'gi'),\n        common: new RegExp('$', 'gi'),\n    },\n};\nconst pluralRules = [\n    // do not replace if its already a plural word\n    [regex.plural.men],\n    [regex.plural.people],\n    [regex.plural.children],\n    [regex.plural.tia],\n    [regex.plural.analyses],\n    [regex.plural.databases],\n    [regex.plural.drives],\n    [regex.plural.hives],\n    [regex.plural.curves],\n    [regex.plural.lrves],\n    [regex.plural.foves],\n    [regex.plural.aeiouyies],\n    [regex.plural.series],\n    [regex.plural.movies],\n    [regex.plural.xes],\n    [regex.plural.mice],\n    [regex.plural.buses],\n    [regex.plural.oes],\n    [regex.plural.shoes],\n    [regex.plural.crises],\n    [regex.plural.octopuses],\n    [regex.plural.aliases],\n    [regex.plural.summonses],\n    [regex.plural.oxen],\n    [regex.plural.matrices],\n    [regex.plural.feet],\n    [regex.plural.teeth],\n    [regex.plural.geese],\n    [regex.plural.quizzes],\n    [regex.plural.whereases],\n    [regex.plural.criteria],\n    [regex.plural.genera],\n    // original rule\n    [regex.singular.man, '$1en'],\n    [regex.singular.person, '$1ople'],\n    [regex.singular.child, '$1ren'],\n    [regex.singular.drive, '$1s'],\n    [regex.singular.ox, '$1en'],\n    [regex.singular.axis, '$1es'],\n    [regex.singular.octopus, '$1uses'],\n    [regex.singular.alias, '$1es'],\n    [regex.singular.summons, '$1es'],\n    [regex.singular.bus, '$1ses'],\n    [regex.singular.buffalo, '$1oes'],\n    [regex.singular.tium, '$1a'],\n    [regex.singular.sis, 'ses'],\n    [regex.singular.ffe, '$1$2ves'],\n    [regex.singular.focus, '$1es'],\n    [regex.singular.hive, '$1ves'],\n    [regex.singular.aeiouyy, '$1ies'],\n    [regex.singular.matrix, '$1ices'],\n    [regex.singular.vertex, '$1ices'],\n    [regex.singular.x, '$1es'],\n    [regex.singular.mouse, '$1ice'],\n    [regex.singular.foot, 'feet'],\n    [regex.singular.tooth, 'teeth'],\n    [regex.singular.goose, 'geese'],\n    [regex.singular.quiz, '$1zes'],\n    [regex.singular.whereas, '$1es'],\n    [regex.singular.criterion, '$1a'],\n    [regex.singular.genus, 'genera'],\n    [regex.singular.s, 's'],\n    [regex.singular.common, 's'],\n];\n/**\n * @description These rules translate from the plural form of a noun to its singular form.\n */\nconst singularRules = [\n    // do not replace if its already a singular word\n    [regex.singular.man],\n    [regex.singular.person],\n    [regex.singular.child],\n    [regex.singular.drive],\n    [regex.singular.ox],\n    [regex.singular.axis],\n    [regex.singular.octopus],\n    [regex.singular.alias],\n    [regex.singular.summons],\n    [regex.singular.bus],\n    [regex.singular.buffalo],\n    [regex.singular.tium],\n    [regex.singular.sis],\n    [regex.singular.ffe],\n    [regex.singular.focus],\n    [regex.singular.hive],\n    [regex.singular.aeiouyy],\n    [regex.singular.x],\n    [regex.singular.matrix],\n    [regex.singular.mouse],\n    [regex.singular.foot],\n    [regex.singular.tooth],\n    [regex.singular.goose],\n    [regex.singular.quiz],\n    [regex.singular.whereas],\n    [regex.singular.criterion],\n    [regex.singular.genus],\n    // original rule\n    [regex.plural.men, '$1an'],\n    [regex.plural.people, '$1rson'],\n    [regex.plural.children, '$1'],\n    [regex.plural.databases, '$1'],\n    [regex.plural.drives, '$1'],\n    [regex.plural.genera, 'genus'],\n    [regex.plural.criteria, '$1on'],\n    [regex.plural.tia, '$1um'],\n    [regex.plural.analyses, '$1$2sis'],\n    [regex.plural.hives, '$1ve'],\n    [regex.plural.curves, '$1'],\n    [regex.plural.lrves, '$1f'],\n    [regex.plural.aves, '$1ve'],\n    [regex.plural.foves, '$1fe'],\n    [regex.plural.movies, '$1ovie'],\n    [regex.plural.aeiouyies, '$1y'],\n    [regex.plural.series, '$1eries'],\n    [regex.plural.xes, '$1'],\n    [regex.plural.mice, '$1ouse'],\n    [regex.plural.buses, '$1'],\n    [regex.plural.oes, '$1'],\n    [regex.plural.shoes, '$1'],\n    [regex.plural.crises, '$1is'],\n    [regex.plural.octopuses, '$1us'],\n    [regex.plural.aliases, '$1'],\n    [regex.plural.summonses, '$1'],\n    [regex.plural.oxen, '$1'],\n    [regex.plural.matrices, '$1ix'],\n    [regex.plural.vertices, '$1ex'],\n    [regex.plural.feet, 'foot'],\n    [regex.plural.teeth, 'tooth'],\n    [regex.plural.geese, 'goose'],\n    [regex.plural.quizzes, '$1'],\n    [regex.plural.whereases, '$1'],\n    [regex.plural.ss, 'ss'],\n    [regex.plural.s, ''],\n];\n/**\n * @description This is a list of words that should not be capitalized for title case.\n */\nconst nonTitlecasedWords = [\n    'and',\n    'or',\n    'nor',\n    'a',\n    'an',\n    'the',\n    'so',\n    'but',\n    'to',\n    'of',\n    'at',\n    'by',\n    'from',\n    'into',\n    'on',\n    'onto',\n    'off',\n    'out',\n    'in',\n    'over',\n    'with',\n    'for',\n];\n/**\n * @description These are regular expressions used for converting between String formats.\n */\nconst idSuffix = new RegExp('(_ids|_id)$', 'g');\nconst underbar = new RegExp('_', 'g');\nconst spaceOrUnderbar = new RegExp('[ _]', 'g');\nconst uppercase = new RegExp('([A-Z])', 'g');\nconst underbarPrefix = new RegExp('^_');\n/**\n * A helper method that applies rules based replacement to a String.\n * @param str String to modify and return based on the passed rules.\n * @param rules Regexp to match paired with String to use for replacement\n * @param skip Strings to skip if they match\n * @param override String to return as though this method succeeded (used to conform to APIs)\n * @returns Return passed String modified by passed rules.\n * @example\n *\n *     applyRules( 'cows', singular_rules ); // === 'cow'\n */\nfunction applyRules(str, rules, skip, override) {\n    if (override) {\n        return override;\n    }\n    else {\n        if (skip.includes(str.toLocaleLowerCase())) {\n            return str;\n        }\n        for (const rule of rules) {\n            if (str.match(rule[0])) {\n                if (rule[1] !== undefined) {\n                    return str.replace(rule[0], rule[1]);\n                }\n                return str;\n            }\n        }\n    }\n    return str;\n}\n/**\n * This function adds pluralization support to every String object.\n * @param str The subject string.\n * @param plural Overrides normal output with said String.(optional)\n * @returns Singular English language nouns are returned in plural form.\n * @example\n *\n *     const inflection = require( 'inflection' );\n *\n *     inflection.pluralize( 'person' ); // === 'people'\n *     inflection.pluralize( 'octopus' ); // === 'octopuses'\n *     inflection.pluralize( 'Hat' ); // === 'Hats'\n *     inflection.pluralize( 'person', 'guys' ); // === 'guys'\n */\nfunction pluralize(str, plural) {\n    return applyRules(str, pluralRules, uncountableWords, plural);\n}\n/**\n * This function adds singularization support to every String object.\n * @param str The subject string.\n * @param singular Overrides normal output with said String.(optional)\n * @returns Plural English language nouns are returned in singular form.\n * @example\n *\n *     const inflection = require( 'inflection' );\n *\n *     inflection.singularize( 'people' ); // === 'person'\n *     inflection.singularize( 'octopuses' ); // === 'octopus'\n *     inflection.singularize( 'Hats' ); // === 'Hat'\n *     inflection.singularize( 'guys', 'person' ); // === 'person'\n */\nfunction singularize(str, singular) {\n    return applyRules(str, singularRules, uncountableWords, singular);\n}\n/**\n * This function will pluralize or singularlize a String appropriately based on a number value\n * @param str The subject string.\n * @param count The number to base pluralization off of.\n * @param singular Overrides normal output with said String.(optional)\n * @param plural Overrides normal output with said String.(optional)\n * @returns English language nouns are returned in the plural or singular form based on the count.\n * @example\n *\n *     const inflection = require( 'inflection' );\n *\n *     inflection.inflect( 'people' 1 ); // === 'person'\n *     inflection.inflect( 'octopuses' 1 ); // === 'octopus'\n *     inflection.inflect( 'Hats' 1 ); // === 'Hat'\n *     inflection.inflect( 'guys', 1 , 'person' ); // === 'person'\n *     inflection.inflect( 'inches', 1.5 ); // === 'inches'\n *     inflection.inflect( 'person', 2 ); // === 'people'\n *     inflection.inflect( 'octopus', 2 ); // === 'octopuses'\n *     inflection.inflect( 'Hat', 2 ); // === 'Hats'\n *     inflection.inflect( 'person', 2, null, 'guys' ); // === 'guys'\n */\nfunction inflect(str, count, singular, plural) {\n    if (isNaN(count))\n        return str;\n    if (count === 1) {\n        return applyRules(str, singularRules, uncountableWords, singular);\n    }\n    else {\n        return applyRules(str, pluralRules, uncountableWords, plural);\n    }\n}\n/**\n * This function adds camelization support to every String object.\n * @param str The subject string.\n * @param lowFirstLetter Default is to capitalize the first letter of the results.(optional)\n *                                 Passing true will lowercase it.\n * @returns Lower case underscored words will be returned in camel case.\n *                  additionally '/' is translated to '::'\n * @example\n *\n *     const inflection = require( 'inflection' );\n *\n *     inflection.camelize( 'message_properties' ); // === 'MessageProperties'\n *     inflection.camelize( 'message_properties', true ); // === 'messageProperties'\n */\nfunction camelize(str, lowFirstLetter) {\n    const strPath = str.split('/');\n    const j = strPath.length;\n    let strArr, k, l, first;\n    for (let i = 0; i < j; i++) {\n        strArr = strPath[i].split('_');\n        k = 0;\n        l = strArr.length;\n        for (; k < l; k++) {\n            if (k !== 0) {\n                strArr[k] = strArr[k].toLowerCase();\n            }\n            first = strArr[k].charAt(0);\n            first =\n                lowFirstLetter && i === 0 && k === 0\n                    ? first.toLowerCase()\n                    : first.toUpperCase();\n            strArr[k] = first + strArr[k].substring(1);\n        }\n        strPath[i] = strArr.join('');\n    }\n    return strPath.join('::');\n}\n/**\n * This function adds underscore support to every String object.\n * @param str The subject string.\n * @param allUpperCase Default is to lowercase and add underscore prefix.(optional)\n *                  Passing true will return as entered.\n * @returns Camel cased words are returned as lower cased and underscored.\n *                  additionally '::' is translated to '/'.\n * @example\n *\n *     const inflection = require( 'inflection' );\n *\n *     inflection.underscore( 'MessageProperties' ); // === 'message_properties'\n *     inflection.underscore( 'messageProperties' ); // === 'message_properties'\n *     inflection.underscore( 'MP', true ); // === 'MP'\n */\nfunction underscore(str, allUpperCase) {\n    if (allUpperCase && str === str.toUpperCase())\n        return str;\n    const strPath = str.split('::');\n    const j = strPath.length;\n    for (let i = 0; i < j; i++) {\n        strPath[i] = strPath[i].replace(uppercase, '_$1');\n        strPath[i] = strPath[i].replace(underbarPrefix, '');\n    }\n    return strPath.join('/').toLowerCase();\n}\n/**\n * This function adds humanize support to every String object.\n * @param str The subject string.\n * @param lowFirstLetter Default is to capitalize the first letter of the results.(optional)\n *                                 Passing true will lowercase it.\n * @returns Lower case underscored words will be returned in humanized form.\n * @example\n *\n *     const inflection = require( 'inflection' );\n *\n *     inflection.humanize( 'message_properties' ); // === 'Message properties'\n *     inflection.humanize( 'message_properties', true ); // === 'message properties'\n */\nfunction humanize(str, lowFirstLetter) {\n    str = str.toLowerCase();\n    str = str.replace(idSuffix, '');\n    str = str.replace(underbar, ' ');\n    if (!lowFirstLetter) {\n        str = capitalize(str);\n    }\n    return str;\n}\n/**\n * This function adds capitalization support to every String object.\n * @param str The subject string.\n * @returns All characters will be lower case and the first will be upper.\n * @example\n *\n *     const inflection = require( 'inflection' );\n *\n *     inflection.capitalize( 'message_properties' ); // === 'Message_properties'\n *     inflection.capitalize( 'message properties', true ); // === 'Message properties'\n */\nfunction capitalize(str) {\n    str = str.toLowerCase();\n    return str.substring(0, 1).toUpperCase() + str.substring(1);\n}\n/**\n * This function replaces underscores with dashes in the string.\n * @param str The subject string.\n * @returns Replaces all spaces or underscores with dashes.\n * @example\n *\n *     const inflection = require( 'inflection' );\n *\n *     inflection.dasherize( 'message_properties' ); // === 'message-properties'\n *     inflection.dasherize( 'Message Properties' ); // === 'Message-Properties'\n */\nfunction dasherize(str) {\n    return str.replace(spaceOrUnderbar, '-');\n}\n/**\n * This function adds titleize support to every String object.\n * @param str The subject string.\n * @returns Capitalizes words as you would for a book title.\n * @example\n *\n *     const inflection = require( 'inflection' );\n *\n *     inflection.titleize( 'message_properties' ); // === 'Message Properties'\n *     inflection.titleize( 'message properties to keep' ); // === 'Message Properties to Keep'\n */\nfunction titleize(str) {\n    str = str.toLowerCase().replace(underbar, ' ');\n    const strArr = str.split(' ');\n    const j = strArr.length;\n    let d, l;\n    for (let i = 0; i < j; i++) {\n        d = strArr[i].split('-');\n        l = d.length;\n        for (let k = 0; k < l; k++) {\n            if (nonTitlecasedWords.indexOf(d[k].toLowerCase()) < 0) {\n                d[k] = capitalize(d[k]);\n            }\n        }\n        strArr[i] = d.join('-');\n    }\n    str = strArr.join(' ');\n    str = str.substring(0, 1).toUpperCase() + str.substring(1);\n    return str;\n}\n/**\n * This function adds demodulize support to every String object.\n * @param str The subject string.\n * @returns Removes module names leaving only class names.(Ruby style)\n * @example\n *\n *     const inflection = require( 'inflection' );\n *\n *     inflection.demodulize( 'Message::Bus::Properties' ); // === 'Properties'\n */\nfunction demodulize(str) {\n    const strArr = str.split('::');\n    return strArr[strArr.length - 1];\n}\n/**\n * This function adds tableize support to every String object.\n * @param str The subject string.\n * @returns Return camel cased words into their underscored plural form.\n * @example\n *\n *     const inflection = require( 'inflection' );\n *\n *     inflection.tableize( 'MessageBusProperty' ); // === 'message_bus_properties'\n */\nfunction tableize(str) {\n    str = underscore(str);\n    str = pluralize(str);\n    return str;\n}\n/**\n * This function adds classification support to every String object.\n * @param str The subject string.\n * @returns Underscored plural nouns become the camel cased singular form.\n * @example\n *\n *     const inflection = require( 'inflection' );\n *\n *     inflection.classify( 'message_bus_properties' ); // === 'MessageBusProperty'\n */\nfunction classify(str) {\n    str = camelize(str);\n    str = singularize(str);\n    return str;\n}\n/**\n   * This function adds foreign key support to every String object.\n   * @param str The subject string.\n   * @param dropIdUbar Default is to seperate id with an underbar at the end of the class name,\n                                 you can pass true to skip it.(optional)\n   * @returns Underscored plural nouns become the camel cased singular form.\n   * @example\n   *\n   *     const inflection = require( 'inflection' );\n   *\n   *     inflection.foreign_key( 'MessageBusProperty' ); // === 'message_bus_property_id'\n   *     inflection.foreign_key( 'MessageBusProperty', true ); // === 'message_bus_propertyid'\n   */\nfunction foreignKey(str, dropIdUbar) {\n    str = demodulize(str);\n    str = underscore(str) + (dropIdUbar ? '' : '_') + 'id';\n    return str;\n}\n/**\n * This function adds ordinalize support to every String object.\n * @param str The subject string.\n * @returns Return all found numbers their sequence like '22nd'.\n * @example\n *\n *     const inflection = require( 'inflection' );\n *\n *     inflection.ordinalize( 'the 1 pitch' ); // === 'the 1st pitch'\n */\nfunction ordinalize(str) {\n    const strArr = str.split(' ');\n    const j = strArr.length;\n    for (let i = 0; i < j; i++) {\n        const k = parseInt(strArr[i], 10);\n        if (!isNaN(k)) {\n            const ltd = strArr[i].substring(strArr[i].length - 2);\n            const ld = strArr[i].substring(strArr[i].length - 1);\n            let suf = 'th';\n            if (ltd != '11' && ltd != '12' && ltd != '13') {\n                if (ld === '1') {\n                    suf = 'st';\n                }\n                else if (ld === '2') {\n                    suf = 'nd';\n                }\n                else if (ld === '3') {\n                    suf = 'rd';\n                }\n            }\n            strArr[i] += suf;\n        }\n    }\n    return strArr.join(' ');\n}\nconst transformFunctions = {\n    pluralize,\n    singularize,\n    camelize,\n    underscore,\n    humanize,\n    capitalize,\n    dasherize,\n    titleize,\n    demodulize,\n    tableize,\n    classify,\n    foreignKey,\n    ordinalize,\n};\n/**\n * This function performs multiple inflection methods on a string\n * @param str The subject string.\n * @param arr An array of inflection methods.\n * @returns\n * @example\n *\n *     const inflection = require( 'inflection' );\n *\n *     inflection.transform( 'all job', [ 'pluralize', 'capitalize', 'dasherize' ]); // === 'All-jobs'\n */\nfunction transform(str, arr) {\n    const j = arr.length;\n    for (let i = 0; i < j; i++) {\n        const method = arr[i];\n        const methodFn = transformFunctions[method];\n        if (methodFn) {\n            str = methodFn(str);\n        }\n    }\n    return str;\n}\n","import { useResourceDefinitions } from \"./useResourceDefinitions.js\";\nimport { useTranslate } from \"../i18n/index.js\";\nimport { humanize, inflect } from 'inflection';\n/**\n * A hook which returns function to get a translated resource name. It will use the label option of the `Resource` component if it was provided.\n *\n * @returns {GetResourceLabel} A function which takes a resource name and an optional number indicating the number of items (used for pluralization) and returns a translated string.\n * @example\n * const Menu = () => {\n *     const resources = useResourceDefinitions();\n *     const getResourceLabel = useGetResourceLabel();\n *\n *     return (\n *         <ul>\n *             {Object.keys(resources).map(name => (\n *                 <li key={name}>\n *                     {getResourceLabel(name, 2)}\n *                 </li>\n *             ))}\n *         </ul>\n *     )\n * }\n */\nexport var useGetResourceLabel = function () {\n    var translate = useTranslate();\n    var definitions = useResourceDefinitions();\n    return function (resource, count) {\n        if (count === void 0) { count = 2; }\n        var resourceDefinition = definitions[resource];\n        var label = translate(\"resources.\".concat(resource, \".name\"), {\n            smart_count: count,\n            _: resourceDefinition &&\n                resourceDefinition.options &&\n                resourceDefinition.options.label\n                ? translate(resourceDefinition.options.label, {\n                    smart_count: count,\n                    _: resourceDefinition.options.label,\n                })\n                : humanize(inflect(resource, count)),\n        });\n        return label;\n    };\n};\n//# sourceMappingURL=useGetResourceLabel.js.map","import { useMemo } from 'react';\nimport defaults from 'lodash/defaults.js';\nimport { useResourceDefinitions } from \"./useResourceDefinitions.js\";\nimport { useResourceContext } from \"./useResourceContext.js\";\n/**\n * Hook to get the definition of a given resource\n *\n * @example // Get the current resource definition (based on ResourceContext)\n *\n * const definition = useResourceDefinition();\n * console.log(definition);\n * // {\n * //   name: 'posts',\n * //   hasList: true,\n * //   hasEdit: true,\n * //   hasShow: true,\n * //   hasCreate: true,\n * //   options: {},\n * //   icon: PostIcon,\n * // }\n *\n * @example // Pass a resource prop to check a different resource definition\n *\n * const definition = useResourceDefinition({ resource: 'posts' });\n */\nexport var useResourceDefinition = function (props) {\n    var resource = useResourceContext(props);\n    var resourceDefinitions = useResourceDefinitions();\n    var _a = props || {}, hasCreate = _a.hasCreate, hasEdit = _a.hasEdit, hasList = _a.hasList, hasShow = _a.hasShow, recordRepresentation = _a.recordRepresentation;\n    var definition = useMemo(function () {\n        return defaults({}, {\n            hasCreate: hasCreate,\n            hasEdit: hasEdit,\n            hasList: hasList,\n            hasShow: hasShow,\n            recordRepresentation: recordRepresentation,\n        }, resource ? resourceDefinitions[resource] : {});\n    }, [\n        resource,\n        resourceDefinitions,\n        hasCreate,\n        hasEdit,\n        hasList,\n        hasShow,\n        recordRepresentation,\n    ]);\n    return definition;\n};\n//# sourceMappingURL=useResourceDefinition.js.map","import * as React from 'react';\nimport { useCallback } from 'react';\nimport get from 'lodash/get.js';\nimport { useResourceDefinition } from \"./useResourceDefinition.js\";\n/**\n * Get the default representation of a record (either a string or a React node)\n *\n * @example // No customization\n * const getRecordRepresentation = useGetRecordRepresentation('posts');\n * getRecordRepresentation({ id: 1, title: 'Hello' }); // => \"#1\"\n *\n * @example // With <Resource name=\"posts\" recordRepresentation=\"title\" />\n * const getRecordRepresentation = useGetRecordRepresentation('posts');\n * getRecordRepresentation({ id: 1, title: 'Hello' }); // => \"Hello\"\n */\nexport var useGetRecordRepresentation = function (resource) {\n    var recordRepresentation = useResourceDefinition({ resource: resource }).recordRepresentation;\n    return useCallback(function (record) {\n        if (!record)\n            return '';\n        if (typeof recordRepresentation === 'function') {\n            return recordRepresentation(record);\n        }\n        if (typeof recordRepresentation === 'string') {\n            return get(record, recordRepresentation);\n        }\n        if (React.isValidElement(recordRepresentation)) {\n            return recordRepresentation;\n        }\n        if ((record === null || record === void 0 ? void 0 : record.name) != null && (record === null || record === void 0 ? void 0 : record.name) !== '') {\n            return record.name;\n        }\n        if ((record === null || record === void 0 ? void 0 : record.title) != null && (record === null || record === void 0 ? void 0 : record.title) !== '') {\n            return record.title;\n        }\n        if ((record === null || record === void 0 ? void 0 : record.label) != null && (record === null || record === void 0 ? void 0 : record.label) !== '') {\n            return record.label;\n        }\n        if ((record === null || record === void 0 ? void 0 : record.reference) != null && (record === null || record === void 0 ? void 0 : record.reference) !== '') {\n            return record.reference;\n        }\n        return \"#\".concat(record.id);\n    }, [recordRepresentation]);\n};\n//# sourceMappingURL=useGetRecordRepresentation.js.map","import { useCallback } from 'react';\nimport { useTranslate } from \"./useTranslate.js\";\nimport { getFieldLabelTranslationArgs } from \"../util/index.js\";\nimport { useResourceContext, useOptionalSourceContext } from \"../core/index.js\";\nexport var useTranslateLabel = function () {\n    var translate = useTranslate();\n    var resourceFromContext = useResourceContext();\n    var sourceContext = useOptionalSourceContext();\n    return useCallback(function (_a) {\n        var source = _a.source, label = _a.label, resource = _a.resource;\n        if (label === false || label === '') {\n            return null;\n        }\n        if (label && typeof label !== 'string') {\n            return label;\n        }\n        return translate.apply(void 0, getFieldLabelTranslationArgs({\n            label: label,\n            defaultLabel: source\n                ? sourceContext === null || sourceContext === void 0 ? void 0 : sourceContext.getLabel(source)\n                : undefined,\n            resource: resource,\n            resourceFromContext: resourceFromContext,\n            source: source,\n        }));\n    }, [resourceFromContext, translate, sourceContext]);\n};\n//# sourceMappingURL=useTranslateLabel.js.map","import * as React from 'react';\nimport { memo } from 'react';\nimport { useTranslateLabel } from \"../i18n/index.js\";\nexport var FieldTitle = function (props) {\n    var source = props.source, label = props.label, resource = props.resource, isRequired = props.isRequired;\n    var translateLabel = useTranslateLabel();\n    if (label === true) {\n        throw new Error('Label parameter must be a string, a ReactElement or false');\n    }\n    if (label === false || label === '') {\n        return null;\n    }\n    if (label != null && typeof label !== 'string') {\n        return label;\n    }\n    return (React.createElement(\"span\", null,\n        translateLabel({\n            label: label,\n            resource: resource,\n            source: source,\n        }),\n        isRequired && React.createElement(\"span\", { \"aria-hidden\": \"true\" }, \"\\u2009*\")));\n};\n// What? TypeScript loses the displayName if we don't set it explicitly\nFieldTitle.displayName = 'FieldTitle';\nexport default memo(FieldTitle);\n//# sourceMappingURL=FieldTitle.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useState } from 'react';\nvar styles = {\n    root: {\n        width: '100vw',\n        height: '100vh',\n        display: 'flex',\n        flexDirection: 'column',\n        fontFamily: '\"Roboto\", sans-serif',\n    },\n    main: {\n        flex: 1,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        textAlign: 'center',\n        flexDirection: 'column',\n        background: 'linear-gradient(135deg, #00023b 0%, #00023b 50%, #313264 100%)',\n        color: 'white',\n        fontSize: '1.5em',\n        fontWeight: 'bold',\n    },\n    secondary: {\n        height: '20vh',\n        background: '#e8e8e8',\n        color: 'black',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-evenly',\n    },\n    link: {\n        textAlign: 'center',\n        width: 150,\n        display: 'block',\n        textDecoration: 'none',\n        color: 'black',\n        opacity: 0.7,\n    },\n    linkHovered: {\n        opacity: 1,\n    },\n    image: {\n        display: 'block',\n        margin: 'auto',\n        width: 50,\n    },\n    logo: {\n        height: 100,\n    },\n};\nvar Button = function (_a) {\n    var img = _a.img, label = _a.label, href = _a.href;\n    var _b = useState(false), hovered = _b[0], setHovered = _b[1];\n    return (React.createElement(\"div\", null,\n        React.createElement(\"a\", { href: href, style: hovered\n                ? __assign(__assign({}, styles.link), styles.linkHovered) : styles.link, onMouseEnter: function () { return setHovered(true); }, onMouseLeave: function () { return setHovered(false); } },\n            React.createElement(\"img\", { src: img, alt: label, style: styles.image }),\n            React.createElement(\"br\", null),\n            label)));\n};\nexport default (function () {\n    return process.env.NODE_ENV === 'production' ? (React.createElement(\"span\", null)) : (React.createElement(\"div\", { style: styles.root },\n        React.createElement(\"div\", { style: styles.main },\n            React.createElement(\"img\", { style: styles.logo, src: \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhbHF1ZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTMxIDEzMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTMxIDEzMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMyMjI0NTg7fQoJLnN0MXtmaWxsOiM1MTUzN0Q7fQoJLnN0MntmaWxsOiNBM0E0Qjk7fQoJLnN0M3tmaWxsOiMwMDAyM0I7fQoJLnN0NHtmaWxsOiNGRkZGRkY7fQoJLnN0NXtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30KPC9zdHlsZT4KPHRpdGxlPkxvZ29fc29tYnJlX2FpPC90aXRsZT4KPGcgaWQ9IlJlY3RhbmdsZV81NiI+Cgk8Zz4KCQk8cmVjdCB4PSIxOS4xIiB5PSIxOSIgdHJhbnNmb3JtPSJtYXRyaXgoMC41IC0wLjg2NiAwLjg2NiAwLjUgLTIzLjkyMjYgODkuNTQ2KSIgY2xhc3M9InN0MCIgd2lkdGg9IjkyLjkiIGhlaWdodD0iOTIuOSIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik04MywxMzAuM0wwLjgsODIuOUw0OC4yLDAuN2w4Mi4yLDQ3LjVMODMsMTMwLjN6IE0zLjUsODIuMWw3OC43LDQ1LjVsNDUuNS03OC43TDQ5LDMuNEwzLjUsODIuMXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjdGFuZ2xlXzU2LTIiPgoJPGc+CgkJPHJlY3QgeD0iMTkiIHk9IjE5LjEiIHRyYW5zZm9ybT0ibWF0cml4KDAuODY2IC0wLjUgMC41IDAuODY2IC0yMy45Nzc3IDQxLjUyNykiIGNsYXNzPSJzdDAiIHdpZHRoPSI5Mi45IiBoZWlnaHQ9IjkyLjkiLz4KCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNDcuOSwxMzFMMCw0OEw4My4xLDBsNDgsODMuMUw0Ny45LDEzMXogTTQuMSw0OS4xbDQ1LDc3LjlsNzcuOS00NUw4Miw0LjFMNC4xLDQ5LjF6Ii8+Cgk8L2c+CjwvZz4KPGcgaWQ9IlJlY3RhbmdsZV81Ni0zIj4KCTxnPgoJCTxyZWN0IHg9IjE5LjEiIHk9IjE5IiBjbGFzcz0ic3QzIiB3aWR0aD0iOTIuOSIgaGVpZ2h0PSI5Mi45Ii8+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTExNC41LDExNC41SDE2LjZWMTYuNWg5Ny45VjExNC41eiBNMjEuNiwxMDkuNWg4Ny45VjIxLjVIMjEuNlYxMDkuNXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmEiPgoJPGcgY2xhc3M9InN0NSI+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTU5LDg2LjdsLTYuNy0xOS4yaC0xLjJIMzguOXYxOS4yaC01LjZWMzguNWgxOC41YzMuNiwwLDYuMywwLjYsOC4xLDEuOGMxLjgsMS4yLDMsMi44LDMuNSw0LjgKCQkJYzAuNSwyLDAuOCw0LjYsMC44LDcuOGMwLDMuNS0wLjQsNi40LTEuMyw4LjdjLTAuOCwyLjMtMi42LDMuOS01LjMsNC44TDY1LDg2LjdINTl6IE01NS43LDYxLjZjMS4yLTAuNywyLTEuNywyLjQtMwoJCQljMC40LTEuMywwLjYtMy4yLDAuNi01LjZjMC0yLjUtMC4yLTQuMy0wLjUtNS42Yy0wLjMtMS4zLTEuMS0yLjItMi4zLTIuOWMtMS4yLTAuNy0zLTEtNS41LTFIMzguOXYxOS4xSDUwCgkJCUM1Mi41LDYyLjYsNTQuNCw2Mi4zLDU1LjcsNjEuNnoiLz4KCQk8cGF0aCBjbGFzcz0ic3Q0IiBkPSJNNzQuMyw4NWMtMS42LTEuNS0yLjUtNC4yLTIuNS04LjJjMC0yLjcsMC4zLTQuOCwwLjktNi4zYzAuNi0xLjUsMS42LTIuNiwzLTMuM2MxLjQtMC43LDMuNC0xLDYtMQoJCQljMS4zLDAsNS4xLDAuMSwxMS40LDAuM3YtMi40YzAtMi45LTAuMi01LTAuNy02LjJjLTAuNS0xLjItMS4zLTItMi42LTIuNGMtMS4yLTAuMy0zLjMtMC41LTYuMy0wLjVjLTEuMywwLTMsMC4xLTQuOSwwLjIKCQkJYy0yLDAuMS0zLjYsMC4zLTQuOCwwLjV2LTQuM2MzLjMtMC43LDcuMS0xLDExLjQtMWMzLjcsMCw2LjUsMC40LDguNCwxLjJjMS44LDAuOCwzLjEsMi4yLDMuOCw0LjFjMC43LDEuOSwxLDQuNywxLDguNHYyMi41aC00LjgKCQkJbC0wLjMtNWgtMC4zYy0wLjgsMi4yLTIuMiwzLjctNC4xLDQuNGMtMS45LDAuNy00LjEsMS4xLTYuNiwxLjFDNzguNiw4Ny4yLDc2LDg2LjUsNzQuMyw4NXogTTg5LjEsODJjMS4yLTAuNCwyLjItMS4yLDIuOC0yLjQKCQkJYzAuOS0xLjgsMS4zLTQuMywxLjMtNy4zdi0yaC0xMGMtMS43LDAtMywwLjItMy44LDAuNWMtMC44LDAuMy0xLjQsMC45LTEuNywxLjhjLTAuMywwLjktMC41LDIuMi0wLjUsNGMwLDEuOCwwLjIsMy4xLDAuNiwzLjkKCQkJYzAuNCwwLjgsMS4xLDEuNCwyLDEuOGMxLDAuMywyLjUsMC41LDQuNSwwLjVDODYuMiw4Mi42LDg3LjgsODIuNCw4OS4xLDgyeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\", alt: \"react-admin logo\" }),\n            React.createElement(\"h1\", null, \"Welcome to React-admin\"),\n            React.createElement(\"div\", null,\n                \"Your application is properly configured.\",\n                React.createElement(\"br\", null),\n                \"Now you can add a <Resource> as child of <Admin>.\")),\n        React.createElement(\"div\", { style: styles.secondary },\n            React.createElement(Button, { href: \"https://marmelab.com/react-admin/documentation.html\", img: \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0yMSw1Yy0xLjExLTAuMzUtMi4zMy0wLjUtMy41LTAuNWMtMS45NSwwLTQuMDUsMC40LTUuNSwxLjVjLTEuNDUtMS4xLTMuNTUtMS41LTUuNS0xLjVTMi40NSw0LjksMSw2djE0LjY1CgkJCWMwLDAuMjUsMC4yNSwwLjUsMC41LDAuNWMwLjEsMCwwLjE1LTAuMDUsMC4yNS0wLjA1QzMuMSwyMC40NSw1LjA1LDIwLDYuNSwyMGMxLjk1LDAsNC4wNSwwLjQsNS41LDEuNWMxLjM1LTAuODUsMy44LTEuNSw1LjUtMS41CgkJCWMxLjY1LDAsMy4zNSwwLjMsNC43NSwxLjA1YzAuMSwwLjA1LDAuMTUsMC4wNSwwLjI1LDAuMDVjMC4yNSwwLDAuNS0wLjI1LDAuNS0wLjVWNkMyMi40LDUuNTUsMjEuNzUsNS4yNSwyMSw1eiBNMywxOC41VjcKCQkJYzEuMS0wLjM1LDIuMy0wLjUsMy41LTAuNWMxLjM0LDAsMy4xMywwLjQxLDQuNSwwLjk5djExLjVDOS42MywxOC40MSw3Ljg0LDE4LDYuNSwxOEM1LjMsMTgsNC4xLDE4LjE1LDMsMTguNXogTTIxLDE4LjUKCQkJYy0xLjEtMC4zNS0yLjMtMC41LTMuNS0wLjVjLTEuMzQsMC0zLjEzLDAuNDEtNC41LDAuOTlWNy40OWMxLjM3LTAuNTksMy4xNi0wLjk5LDQuNS0wLjk5YzEuMiwwLDIuNCwwLjE1LDMuNSwwLjVWMTguNXoiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik0xMSw3LjQ5QzkuNjMsNi45MSw3Ljg0LDYuNSw2LjUsNi41QzUuMyw2LjUsNC4xLDYuNjUsMyw3djExLjVDNC4xLDE4LjE1LDUuMywxOCw2LjUsMTgKCQkJYzEuMzQsMCwzLjEzLDAuNDEsNC41LDAuOTlWNy40OXoiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0xNy41LDEwLjVjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlY5LjI0QzE5LjIxLDkuMDksMTguMzYsOSwxNy41LDljLTEuMjgsMC0yLjQ2LDAuMTYtMy41LDAuNDd2MS41NwoJCQlDMTQuOTksMTAuNjksMTYuMTgsMTAuNSwxNy41LDEwLjV6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTMuMTZjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlYxMS45Yy0wLjc5LTAuMTUtMS42NC0wLjI0LTIuNS0wLjI0Yy0xLjI4LDAtMi40NiwwLjE2LTMuNSwwLjQ3djEuNTcKCQkJQzE0Ljk5LDEzLjM2LDE2LjE4LDEzLjE2LDE3LjUsMTMuMTZ6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTUuODNjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNnYtMS41MmMtMC43OS0wLjE1LTEuNjQtMC4yNC0yLjUtMC4yNGMtMS4yOCwwLTIuNDYsMC4xNi0zLjUsMC40N3YxLjU3CgkJCUMxNC45OSwxNi4wMiwxNi4xOCwxNS44MywxNy41LDE1LjgzeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\", label: \"Documentation\" }),\n            React.createElement(Button, { href: \"https://github.com/marmelab/react-admin/tree/master/examples\", img: \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDI0djI0SDBWMHoiLz48cGF0aCBkPSJNOS40IDE2LjZMNC44IDEybDQuNi00LjZMOCA2bC02IDYgNiA2IDEuNC0xLjR6bTUuMiAwbDQuNi00LjYtNC42LTQuNkwxNiA2bDYgNi02IDYtMS40LTEuNHoiLz48L3N2Zz4=\", label: \"Examples\" }),\n            React.createElement(Button, { href: \"https://stackoverflow.com/questions/tagged/react-admin\", img: \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxjaXJjbGUgb3BhY2l0eT0iMC4zIiBjeD0iOSIgY3k9IjgiIHI9IjIiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik05LDE1Yy0yLjcsMC01LjgsMS4yOS02LDIuMDFMMywxOGgxMnYtMUMxNC44LDE2LjI5LDExLjcsMTUsOSwxNXoiLz4KCQk8cGF0aCBkPSJNMTYuNjcsMTMuMTNDMTguMDQsMTQuMDYsMTksMTUuMzIsMTksMTd2M2g0di0zQzIzLDE0LjgyLDE5LjQzLDEzLjUzLDE2LjY3LDEzLjEzeiIvPgoJCTxwYXRoIGQ9Ik0xNSwxMmMyLjIxLDAsNC0xLjc5LDQtNGMwLTIuMjEtMS43OS00LTQtNGMtMC40NywwLTAuOTEsMC4xLTEuMzMsMC4yNEMxNC41LDUuMjcsMTUsNi41OCwxNSw4cy0wLjUsMi43My0xLjMzLDMuNzYKCQkJQzE0LjA5LDExLjksMTQuNTMsMTIsMTUsMTJ6Ii8+CgkJPHBhdGggZD0iTTksMTJjMi4yMSwwLDQtMS43OSw0LTRjMC0yLjIxLTEuNzktNC00LTRTNSw1Ljc5LDUsOEM1LDEwLjIxLDYuNzksMTIsOSwxMnogTTksNmMxLjEsMCwyLDAuOSwyLDJjMCwxLjEtMC45LDItMiwyCgkJCVM3LDkuMSw3LDhDNyw2LjksNy45LDYsOSw2eiIvPgoJCTxwYXRoIGQ9Ik05LDEzYy0yLjY3LDAtOCwxLjM0LTgsNHYzaDE2di0zQzE3LDE0LjM0LDExLjY3LDEzLDksMTN6IE0xNSwxOEgzbDAtMC45OUMzLjIsMTYuMjksNi4zLDE1LDksMTVzNS44LDEuMjksNiwyVjE4eiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\", label: \"Community\" }))));\n});\n//# sourceMappingURL=Ready.js.map","export default (function (condition, message) {\n    if (condition && process.env.NODE_ENV !== 'production') {\n        console.warn(message);\n    }\n});\n//# sourceMappingURL=warning.js.map","import { transform } from 'inflection';\n/**\n * Returns an array of arguments to use with the translate function for the label of a field.\n * The label will be computed from the resource and source props.\n *\n * Usage:\n *  <span>\n *      {translate(...getFieldLabelTranslationArgs({ label, resource, source }))}\n *  </span>\n *\n * @see useTranslateLabel for a ready-to-use hook\n */\nexport var getFieldLabelTranslationArgs = function (options) {\n    if (!options)\n        return [''];\n    var label = options.label, defaultLabel = options.defaultLabel, resource = options.resource, resourceFromContext = options.resourceFromContext, source = options.source;\n    if (typeof label !== 'undefined')\n        return [label, { _: label }];\n    if (typeof source === 'undefined')\n        return [''];\n    var _a = getSourceParts(source), sourceWithoutDigits = _a.sourceWithoutDigits, sourceSuffix = _a.sourceSuffix;\n    var defaultLabelTranslation = transform(sourceSuffix.replace(/\\./g, ' '), ['underscore', 'humanize']);\n    if (resource) {\n        return [\n            getResourceFieldLabelKey(resource, sourceWithoutDigits),\n            { _: defaultLabelTranslation },\n        ];\n    }\n    if (defaultLabel) {\n        return [defaultLabel, { _: defaultLabelTranslation }];\n    }\n    return [\n        getResourceFieldLabelKey(resourceFromContext || 'undefined', sourceWithoutDigits),\n        { _: defaultLabelTranslation },\n    ];\n};\nexport default getFieldLabelTranslationArgs;\nexport var getResourceFieldLabelKey = function (resource, source) {\n    return \"resources.\".concat(resource, \".fields.\").concat(source);\n};\n/**\n * Uses the source string to guess a translation message and a default label.\n *\n * @example\n * getSourceParts('pictures') // { sourceWithoutDigits: 'pictures', sourceSuffix: 'pictures' }\n * getSourceParts('pictures.url') // { sourceWithoutDigits: 'pictures.url', sourceSuffix: 'pictures.url' }\n * getSourceParts('pictures.0.url') // { sourceWithoutDigits: 'pictures.url', sourceSuffix: 'url' }\n * getSourceParts('pictures.12.urls.5.protocol') // { sourceWithoutDigits: 'pictures.urls.protocol', sourceSuffix: 'protocol' }\n */\nvar getSourceParts = function (source) {\n    // remove digits, e.g. 'book.authors.2.categories.3.identifier.name' => 'book.authors.categories.identifier.name'\n    var sourceWithoutDigits = source.replace(/\\.\\d+\\./g, '.');\n    // get final part, e.g. 'book.authors.2.categories.3.identifier.name' => 'identifier.name'\n    // we're not using a regexp here to avoid code scanning alert \"Polynomial regular expression used on uncontrolled data\"\n    var parts = source.split('.');\n    var lastPartWithDigits;\n    parts.forEach(function (part, index) {\n        if (onlyDigits(part)) {\n            lastPartWithDigits = index;\n        }\n    });\n    var sourceSuffix = lastPartWithDigits != null\n        ? parts.slice(lastPartWithDigits + 1).join('.')\n        : source;\n    return { sourceWithoutDigits: sourceWithoutDigits, sourceSuffix: sourceSuffix };\n};\n// 48 and 57 are the char codes for \"0\" and \"9\", respectively\nvar onlyDigits = function (s) {\n    for (var i = s.length - 1; i >= 0; i--) {\n        var d = s.charCodeAt(i);\n        if (d < 48 || d > 57)\n            return false;\n    }\n    return true;\n};\n//# sourceMappingURL=getFieldLabelTranslationArgs.js.map","import * as React from 'react';\nimport { useCallback } from 'react';\n// allow the hook to work in SSR\nvar useLayoutEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n/**\n * Alternative to useCallback that doesn't update the callback when dependencies change\n *\n * @see https://reactjs.org/docs/hooks-faq.html#how-to-read-an-often-changing-value-from-usecallback\n * @see https://github.com/facebook/react/issues/14099#issuecomment-440013892\n */\nexport var useEvent = function (fn) {\n    var ref = React.useRef(function () {\n        throw new Error('Cannot call an event handler while rendering.');\n    });\n    useLayoutEffect(function () {\n        ref.current = fn;\n    });\n    return useCallback(function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return ref.current.apply(ref, args);\n    }, []);\n};\n//# sourceMappingURL=useEvent.js.map","import * as React from 'react';\nimport { useCallback, useRef } from 'react';\nimport debounce from 'lodash/debounce.js';\nimport { useEvent } from \"./useEvent.js\";\n// allow the hook to work in SSR\nvar useLayoutEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n/**\n * Hook somewhat equivalent to useEvent, but with a debounce\n * Returns a debounced callback which will not change across re-renders unless the\n * callback or delay changes\n * @see https://reactjs.org/docs/hooks-faq.html#how-to-read-an-often-changing-value-from-usecallback\n * @see https://github.com/facebook/react/issues/14099#issuecomment-440013892\n */\nexport var useDebouncedEvent = function (callback, delay) {\n    // Create a ref that stores the debounced callback\n    var debouncedCallbackRef = useRef(function () {\n        throw new Error('Cannot call an event handler while rendering.');\n    });\n    // Keep a stable ref to the callback (in case it's an inline function for instance)\n    var stableCallback = useEvent(callback);\n    // Whenever callback or delay changes, we need to update the debounced callback\n    useLayoutEffect(function () {\n        debouncedCallbackRef.current = debounce(stableCallback, delay);\n    }, [stableCallback, delay]);\n    // The function returned by useCallback will invoke the debounced callback\n    // Its dependencies array is empty, so it never changes across re-renders\n    return useCallback(function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return debouncedCallbackRef.current.apply(debouncedCallbackRef, args);\n    }, []);\n};\n//# sourceMappingURL=useDebouncedEvent.js.map","import get from 'lodash/get.js';\nimport { useRecordContext } from \"../controller/index.js\";\n/**\n * A hook that gets the value of a field of the current record.\n * @param params The hook parameters\n * @param params.source The field source\n * @param params.record The record to use. Uses the record from the RecordContext if not provided\n * @param params.defaultValue The value to return when the field value is empty\n * @returns The field value\n *\n * @example\n * const MyField = (props: { source: string }) => {\n *   const value = useFieldValue(props);\n *   return <span>{value}</span>;\n * }\n */\nexport var useFieldValue = function (params) {\n    var defaultValue = params.defaultValue, source = params.source;\n    // We use the record from the RecordContext and do not rely on the SourceContext on purpose to\n    // avoid having the wrong source targeting the record.\n    // Indeed, some components may create a sub record context (SimpleFormIterator, TranslatableInputs, etc.). In this case,\n    // it they used the SourceContext as well, they would have the wrong source.\n    // Inputs needs the SourceContext as they rely on the Form value and you can't have nested forms.\n    // Fields needs the RecordContext as they rely on the Record value and you can have nested RecordContext.\n    var record = useRecordContext(params);\n    return get(record, source, defaultValue);\n};\n//# sourceMappingURL=useFieldValue.js.map","import { useState, useEffect } from 'react';\nimport isEqual from 'lodash/isEqual.js';\nimport { useEvent } from \"../util/index.js\";\nimport { useStoreContext } from \"./useStoreContext.js\";\nfunction useStore(key, defaultValue) {\n    var _a = useStoreContext(), getItem = _a.getItem, setItem = _a.setItem, subscribe = _a.subscribe;\n    var _b = useState(function () { return getItem(key, defaultValue); }), value = _b[0], setValue = _b[1];\n    // subscribe to changes on this key, and change the state when they happen\n    useEffect(function () {\n        var storedValue = getItem(key, defaultValue);\n        if (!isEqual(value, storedValue)) {\n            setValue(storedValue);\n        }\n        var unsubscribe = subscribe(key, function (newValue) {\n            setValue(typeof newValue === 'undefined' ? defaultValue : newValue);\n        });\n        return function () { return unsubscribe(); };\n    }, [key, subscribe, defaultValue, getItem, value]);\n    var set = useEvent(function (valueParam, runtimeDefaultValue) {\n        var newValue = typeof valueParam === 'function' ? valueParam(value) : valueParam;\n        // we only set the value in the Store;\n        // the value in the local state will be updated\n        // by the useEffect during the next render\n        setItem(key, typeof newValue === 'undefined'\n            ? typeof runtimeDefaultValue === 'undefined'\n                ? defaultValue\n                : runtimeDefaultValue\n            : newValue);\n    });\n    return [value, set];\n}\nexport { useStore };\n//# sourceMappingURL=useStore.js.map","import { useStoreContext } from \"./useStoreContext.js\";\n/**\n * Get a callback to remove all items from the store\n *\n * @example\n * import { useResetStore } from 'react-admin';\n *\n * const ResetPrefs = () {\n *    const reset = useResetStore();\n *\n *    const handleClick = () => {\n *        reset();\n *    };\n *\n *    return <Button onClick={handleClick}>Reset preferences</Button>;\n * }\n */\nexport var useResetStore = function () {\n    var reset = useStoreContext().reset;\n    return reset;\n};\n//# sourceMappingURL=useResetStore.js.map","import { useCallback, useEffect, useRef } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { useQueryClient } from '@tanstack/react-query';\nimport useAuthProvider, { defaultAuthParams } from \"./useAuthProvider.js\";\nimport { useResetStore } from \"../store/index.js\";\nimport { useBasename } from \"../routing/index.js\";\nimport { removeDoubleSlashes } from \"../routing/useCreatePath.js\";\n/**\n * Get a callback for calling the authProvider.logout() method,\n * redirect to the login page, and clear the store.\n *\n * @see useAuthProvider\n *\n * @returns {Function} logout callback\n *\n * @example\n *\n * import { useLogout } from 'react-admin';\n *\n * const LogoutButton = () => {\n *     const logout = useLogout();\n *     const handleClick = () => logout();\n *     return <button onClick={handleClick}>Logout</button>;\n * }\n */\nvar useLogout = function () {\n    var authProvider = useAuthProvider();\n    var queryClient = useQueryClient();\n    var resetStore = useResetStore();\n    var navigate = useNavigate();\n    // useNavigate forces rerenders on every navigation, even if we don't use the result\n    // see https://github.com/remix-run/react-router/issues/7634\n    // so we use a ref to bail out of rerenders when we don't need to\n    var navigateRef = useRef(navigate);\n    var location = useLocation();\n    var locationRef = useRef(location);\n    var basename = useBasename();\n    var loginUrl = removeDoubleSlashes(\"\".concat(basename, \"/\").concat(defaultAuthParams.loginUrl));\n    /*\n     * We need the current location to pass in the router state\n     * so that the login hook knows where to redirect to as next route after login.\n     *\n     * But if we used the location from useLocation as a dependency of the logout\n     * function, it would be rebuilt each time the user changes location.\n     * Consequently, that would force a rerender of all components using this hook\n     * upon navigation (CoreAdminRouter for example).\n     *\n     * To avoid that, we store the location in a ref.\n     */\n    useEffect(function () {\n        locationRef.current = location;\n        navigateRef.current = navigate;\n    }, [location, navigate]);\n    var logout = useCallback(function (params, redirectFromCaller, redirectToCurrentLocationAfterLogin) {\n        if (params === void 0) { params = {}; }\n        if (redirectToCurrentLocationAfterLogin === void 0) { redirectToCurrentLocationAfterLogin = true; }\n        if (authProvider) {\n            return authProvider.logout(params).then(function (redirectFromLogout) {\n                if (redirectFromLogout === false ||\n                    redirectFromCaller === false) {\n                    resetStore();\n                    queryClient.clear();\n                    // do not redirect\n                    return;\n                }\n                var finalRedirectTo = redirectFromCaller || redirectFromLogout || loginUrl;\n                if (finalRedirectTo === null || finalRedirectTo === void 0 ? void 0 : finalRedirectTo.startsWith('http')) {\n                    // absolute link (e.g. https://my.oidc.server/login)\n                    resetStore();\n                    queryClient.clear();\n                    window.location.href = finalRedirectTo;\n                    return finalRedirectTo;\n                }\n                // redirectTo is an internal location that may contain a query string, e.g. '/login?foo=bar'\n                // we must split it to pass a structured location to navigate()\n                var redirectToParts = finalRedirectTo.split('?');\n                var newLocation = {\n                    pathname: redirectToParts[0],\n                };\n                var newLocationOptions = {};\n                if (redirectToCurrentLocationAfterLogin &&\n                    locationRef.current &&\n                    locationRef.current.pathname) {\n                    newLocationOptions = {\n                        state: {\n                            nextPathname: locationRef.current.pathname,\n                            nextSearch: locationRef.current.search,\n                        },\n                    };\n                }\n                if (redirectToParts[1]) {\n                    newLocation.search = redirectToParts[1];\n                }\n                // We need to navigate and reset the store after a litte delay to avoid a race condition\n                // between the store reset and the navigation.\n                //\n                // This would only happen when the `authProvider.getPermissions` method returns\n                // a resolved promise with no delay: If the store was reset before the navigation,\n                // the `usePermissions` query would reset, causing the `CoreAdminRoutes` component to\n                // rerender the `LogoutOnMount` component leading to an infinite loop.\n                setTimeout(function () {\n                    navigateRef.current(newLocation, newLocationOptions);\n                    resetStore();\n                    queryClient.clear();\n                }, 0);\n                return redirectFromLogout;\n            });\n        }\n        else {\n            navigateRef.current({\n                pathname: loginUrl,\n            }, {\n                state: {\n                    nextPathname: locationRef.current &&\n                        locationRef.current.pathname,\n                },\n            });\n            resetStore();\n            queryClient.clear();\n            return Promise.resolve();\n        }\n    }, [authProvider, resetStore, loginUrl, queryClient]);\n    return logout;\n};\nexport default useLogout;\n//# sourceMappingURL=useLogout.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useEffect, useMemo } from 'react';\nimport { useQuery, } from '@tanstack/react-query';\nimport useAuthProvider, { defaultAuthParams } from \"./useAuthProvider.js\";\nimport useLogout from \"./useLogout.js\";\nimport { removeDoubleSlashes, useBasename } from \"../routing/index.js\";\nimport { useNotify } from \"../notification/index.js\";\nimport { useEvent } from \"../util/index.js\";\nvar emptyParams = {};\n/**\n * Hook for getting the authentication status\n *\n * Calls the authProvider.checkAuth() method asynchronously.\n *\n * The return value updates according to the authProvider request state:\n *\n * - isPending: true just after mount, while the authProvider is being called. false once the authProvider has answered.\n * - authenticated: true while loading. then true or false depending on the authProvider response.\n *\n * To avoid rendering a component and force waiting for the authProvider response, use the useAuthState() hook\n * instead of the useAuthenticated() hook.\n *\n * You can render different content depending on the authenticated status.\n *\n * @see useAuthenticated()\n *\n * @param {Object} params Any params you want to pass to the authProvider\n *\n * @param {Boolean} logoutOnFailure: Optional. Whether the user should be logged out if the authProvider fails to authenticate them. False by default.\n *\n * @returns The current auth check state. Destructure as { authenticated, error, isPending }.\n *\n * @example\n * import { useAuthState, Loading } from 'react-admin';\n *\n * const MyPage = () => {\n *     const { isPending, authenticated } = useAuthState();\n *     if (isPending) {\n *         return <Loading />;\n *     }\n *     if (authenticated) {\n *        return <AuthenticatedContent />;\n *     }\n *     return <AnonymousContent />;\n * };\n */\nvar useAuthState = function (params, logoutOnFailure, queryOptions) {\n    if (params === void 0) { params = emptyParams; }\n    if (logoutOnFailure === void 0) { logoutOnFailure = false; }\n    if (queryOptions === void 0) { queryOptions = emptyParams; }\n    var authProvider = useAuthProvider();\n    var logout = useLogout();\n    var basename = useBasename();\n    var notify = useNotify();\n    var onSuccess = queryOptions.onSuccess, onError = queryOptions.onError, onSettled = queryOptions.onSettled, options = __rest(queryOptions, [\"onSuccess\", \"onError\", \"onSettled\"]);\n    var queryResult = useQuery(__assign({ queryKey: ['auth', 'checkAuth', params], queryFn: function (_a) { return __awaiter(void 0, [_a], void 0, function (_b) {\n            var error_1;\n            var signal = _b.signal;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        // The authProvider is optional in react-admin\n                        if (!authProvider) {\n                            return [2 /*return*/, true];\n                        }\n                        _c.label = 1;\n                    case 1:\n                        _c.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, authProvider.checkAuth(__assign(__assign({}, params), { signal: signal }))];\n                    case 2:\n                        _c.sent();\n                        return [2 /*return*/, true];\n                    case 3:\n                        error_1 = _c.sent();\n                        // This is necessary because react-query requires the error to be defined\n                        if (error_1 != null) {\n                            throw error_1;\n                        }\n                        throw new Error();\n                    case 4: return [2 /*return*/];\n                }\n            });\n        }); }, retry: false }, options));\n    var onSuccessEvent = useEvent(onSuccess !== null && onSuccess !== void 0 ? onSuccess : noop);\n    var onSettledEvent = useEvent(onSettled !== null && onSettled !== void 0 ? onSettled : noop);\n    var onErrorEvent = useEvent(onError !== null && onError !== void 0 ? onError : (function (error) {\n        if (!logoutOnFailure)\n            return;\n        var loginUrl = removeDoubleSlashes(\"\".concat(basename, \"/\").concat(defaultAuthParams.loginUrl));\n        logout({}, error && error.redirectTo != null\n            ? error.redirectTo\n            : loginUrl);\n        var shouldSkipNotify = error && error.message === false;\n        !shouldSkipNotify &&\n            notify(getErrorMessage(error, 'ra.auth.auth_check_error'), {\n                type: 'error',\n            });\n    }));\n    useEffect(function () {\n        if (queryResult.data === undefined || queryResult.isFetching)\n            return;\n        if (queryOptions.enabled === false)\n            return;\n        onSuccessEvent(queryResult.data);\n    }, [\n        onSuccessEvent,\n        queryResult.data,\n        queryResult.isFetching,\n        queryOptions.enabled,\n    ]);\n    useEffect(function () {\n        if (queryResult.error == null || queryResult.isFetching)\n            return;\n        if (queryOptions.enabled === false)\n            return;\n        onErrorEvent(queryResult.error);\n    }, [\n        onErrorEvent,\n        queryResult.error,\n        queryResult.isFetching,\n        queryOptions.enabled,\n    ]);\n    useEffect(function () {\n        if (queryResult.status === 'pending' || queryResult.isFetching)\n            return;\n        if (queryOptions.enabled === false)\n            return;\n        onSettledEvent(queryResult.data, queryResult.error);\n    }, [\n        onSettledEvent,\n        queryResult.data,\n        queryResult.error,\n        queryResult.status,\n        queryResult.isFetching,\n        queryOptions.enabled,\n    ]);\n    var result = useMemo(function () {\n        return __assign(__assign({}, queryResult), { authenticated: queryResult.error ? false : queryResult.data });\n    }, [queryResult]);\n    return authProvider != null\n        ? result\n        : noAuthProviderQueryResult;\n};\nexport default useAuthState;\nvar getErrorMessage = function (error, defaultMessage) {\n    return typeof error === 'string'\n        ? error\n        : typeof error === 'undefined' || !error.message\n            ? defaultMessage\n            : error.message;\n};\nvar noop = function () { };\nvar noAuthProviderQueryResult = {\n    authenticated: true,\n    data: true,\n    dataUpdatedAt: 0,\n    error: null,\n    errorUpdatedAt: 0,\n    errorUpdateCount: 0,\n    failureCount: 0,\n    failureReason: null,\n    fetchStatus: 'idle',\n    isError: false,\n    isInitialLoading: false,\n    isLoading: false,\n    isLoadingError: false,\n    isFetched: true,\n    isFetchedAfterMount: true,\n    isFetching: false,\n    isPaused: false,\n    isPlaceholderData: false,\n    isPending: false,\n    isRefetchError: false,\n    isRefetching: false,\n    isStale: false,\n    isSuccess: true,\n    status: 'success',\n    refetch: function () { return Promise.resolve(noAuthProviderQueryResult); },\n};\n//# sourceMappingURL=useAuthState.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport useAuthState from \"./useAuthState.js\";\n/**\n * Restrict access to authenticated users.\n * Redirect anonymous users to the login page.\n *\n * Use it in your custom page components to require\n * authentication.\n *\n * You can set additional `authParams` at will if your authProvider\n * requires it.\n *\n * @example\n * import { Admin, CustomRoutes, useAuthenticated } from 'react-admin';\n *\n * const FooPage = () => {\n *     const { isPending } = useAuthenticated();\n *     if (isPending) return null;\n *     return <Foo />;\n * }\n *\n * const customRoutes = [\n *     <Route path=\"/foo\" element={<FooPage />} />\n * ];\n *\n * const App = () => (\n *     <Admin>\n *         <CustomRoutes>{customRoutes}</CustomRoutes>\n *     </Admin>\n * );\n */\nexport var useAuthenticated = function (_a) {\n    if (_a === void 0) { _a = {}; }\n    var params = _a.params, _b = _a.logoutOnFailure, logoutOnFailure = _b === void 0 ? true : _b, options = __rest(_a, [\"params\", \"logoutOnFailure\"]);\n    return useAuthState(params !== null && params !== void 0 ? params : emptyParams, logoutOnFailure, options);\n};\nvar emptyParams = {};\n//# sourceMappingURL=useAuthenticated.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, createElement } from 'react';\nimport warning from \"../util/warning.js\";\nimport { useAuthenticated } from \"./useAuthenticated.js\";\nimport usePermissions from \"./usePermissions.js\";\nvar isEmptyChildren = function (children) { return Children.count(children) === 0; };\n/**\n * After checking that the user is authenticated,\n * retrieves the user's permissions for a specific context.\n *\n * Useful for Route components ; used internally by Resource.\n * Use it to decorate your custom page components to require\n * a custom role. It will pass the permissions as a prop to your\n * component.\n *\n * You can set additional `authParams` at will if your authProvider\n * requires it.\n *\n * @example\n *     import { Admin, CustomRoutes, WithPermissions } from 'react-admin';\n *\n *     const Foo = ({ permissions }) => (\n *         {permissions === 'admin' ? <p>Sensitive data</p> : null}\n *         <p>Not sensitive data</p>\n *     );\n *\n *     const customRoutes = [\n *         <Route path=\"/foo\" element={\n *             <WithPermissions\n *                  authParams={{ foo: 'bar' }}\n *                  component={({ permissions, ...props }) => <Foo permissions={permissions} {...props} />}\n *              />\n *         } />\n *     ];\n *     const App = () => (\n *         <Admin>\n *             <CustomRoutes>{customRoutes}</CustomRoutes>\n *         </Admin>\n *     );\n */\nvar WithPermissions = function (props) {\n    var authParams = props.authParams, children = props.children, render = props.render, component = props.component, _a = props.loading, Loading = _a === void 0 ? null : _a, staticContext = props.staticContext, rest = __rest(props, [\"authParams\", \"children\", \"render\", \"component\", \"loading\", \"staticContext\"]);\n    warning((render && children && !isEmptyChildren(children)) ||\n        (render && component) ||\n        (component && children && !isEmptyChildren(children)), 'You should only use one of the `component`, `render` and `children` props in <WithPermissions>');\n    var isAuthenticationPending = useAuthenticated(authParams).isPending;\n    var _b = usePermissions(authParams, {\n        enabled: !isAuthenticationPending,\n    }), permissions = _b.permissions, isPendingPermissions = _b.isPending;\n    // We must check both pending states here as if the authProvider does not implement getPermissions, isPendingPermissions will always be false\n    if (isAuthenticationPending || isPendingPermissions) {\n        return Loading ? React.createElement(Loading, null) : null;\n    }\n    if (component) {\n        return createElement(component, __assign({ permissions: permissions }, rest));\n    }\n    // @deprecated\n    if (render) {\n        return render(__assign({ permissions: permissions }, rest));\n    }\n    // @deprecated\n    if (children) {\n        return children(__assign({ permissions: permissions }, rest));\n    }\n};\nexport default WithPermissions;\n//# sourceMappingURL=WithPermissions.js.map","import { useCallback } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { useNotificationContext } from \"../notification/index.js\";\nimport { useBasename } from \"../routing/index.js\";\nimport useAuthProvider, { defaultAuthParams } from \"./useAuthProvider.js\";\nimport { removeDoubleSlashes } from \"../routing/useCreatePath.js\";\nimport { useQueryClient } from '@tanstack/react-query';\n/**\n * Get a callback for calling the authProvider.login() method\n * and redirect to the previous authenticated page (or the home page) on success.\n *\n * @see useAuthProvider\n *\n * @returns {Function} login callback\n *\n * @example\n *\n * import { useLogin } from 'react-admin';\n *\n * const LoginButton = () => {\n *     const [loading, setLoading] = useState(false);\n *     const login = useLogin();\n *     const handleClick = {\n *         setLoading(true);\n *         login({ username: 'john', password: 'p@ssw0rd' }, '/posts')\n *             .then(() => setLoading(false));\n *     }\n *     return <button onClick={handleClick}>Login</button>;\n * }\n */\nvar useLogin = function () {\n    var authProvider = useAuthProvider();\n    var queryClient = useQueryClient();\n    var location = useLocation();\n    var locationState = location.state;\n    var navigate = useNavigate();\n    var basename = useBasename();\n    var resetNotifications = useNotificationContext().resetNotifications;\n    var nextPathName = locationState && locationState.nextPathname;\n    var nextSearch = locationState && locationState.nextSearch;\n    var afterLoginUrl = removeDoubleSlashes(\"\".concat(basename, \"/\").concat(defaultAuthParams.afterLoginUrl));\n    var login = useCallback(function (params, pathName) {\n        if (params === void 0) { params = {}; }\n        if (authProvider) {\n            return authProvider.login(params).then(function (ret) {\n                resetNotifications();\n                queryClient.invalidateQueries({\n                    queryKey: ['auth', 'getPermissions'],\n                });\n                if (ret && ret.hasOwnProperty('redirectTo')) {\n                    if (ret) {\n                        navigate(ret.redirectTo);\n                    }\n                }\n                else {\n                    var redirectUrl = pathName\n                        ? pathName\n                        : nextPathName + nextSearch || afterLoginUrl;\n                    navigate(redirectUrl);\n                }\n                return ret;\n            });\n        }\n        else {\n            resetNotifications();\n            navigate(afterLoginUrl);\n            return Promise.resolve();\n        }\n    }, [\n        authProvider,\n        queryClient,\n        navigate,\n        nextPathName,\n        nextSearch,\n        resetNotifications,\n        afterLoginUrl,\n    ]);\n    return login;\n};\nexport default useLogin;\n//# sourceMappingURL=useLogin.js.map","import { AUTH_LOGIN, AUTH_LOGOUT, AUTH_CHECK, AUTH_ERROR, AUTH_GET_PERMISSIONS, } from \"./types.js\";\n/**\n * Turn a function-based authProvider to an object-based one\n *\n * Allows using legacy authProviders transparently.\n *\n * @param {Function} legacyAuthProvider A legacy authProvider (type, params) => Promise<any>\n *\n * @returns {Object} An authProvider that react-admin can use\n */\nexport default (function (legacyAuthProvider) {\n    var authProvider = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return legacyAuthProvider.apply(null, args);\n    };\n    authProvider.login = function (params) { return legacyAuthProvider(AUTH_LOGIN, params); };\n    authProvider.logout = function (params) { return legacyAuthProvider(AUTH_LOGOUT, params); };\n    authProvider.checkAuth = function (params) { return legacyAuthProvider(AUTH_CHECK, params); };\n    authProvider.checkError = function (error) { return legacyAuthProvider(AUTH_ERROR, error); };\n    authProvider.getPermissions = function (params) {\n        return legacyAuthProvider(AUTH_GET_PERMISSIONS, params);\n    };\n    return authProvider;\n});\n//# sourceMappingURL=convertLegacyAuthProvider.js.map","export var AUTH_LOGIN = 'AUTH_LOGIN';\nexport var AUTH_CHECK = 'AUTH_CHECK';\nexport var AUTH_ERROR = 'AUTH_ERROR';\nexport var AUTH_LOGOUT = 'AUTH_LOGOUT';\nexport var AUTH_GET_PERMISSIONS = 'AUTH_GET_PERMISSIONS';\n//# sourceMappingURL=types.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useMemo } from 'react';\nimport { useQuery, } from '@tanstack/react-query';\nimport useAuthProvider from \"./useAuthProvider.js\";\nimport { useResourceContext } from \"../core/index.js\";\nimport { useRecordContext } from \"../controller/index.js\";\n/**\n * A hook that calls the authProvider.canAccess() method using react-query for a provided resource and action (and optionally a record).\n *\n * The return value updates according to the request state:\n *\n * - start: { isPending: true }\n * - success: { canAccess: true | false, isPending: false }\n * - error: { error: [error from provider], isPending: false }\n *\n * Useful to enable or disable features based on users permissions.\n *\n * @param {Object} params Any params you want to pass to the authProvider\n * @param {string} params.resource The resource to check access for\n * @param {string} params.action The action to check access for\n * @param {Object} params.record Optional. The record to check access for\n *\n * @returns Return the react-query result and a canAccess property which is a boolean indicating the access status\n *\n * @example\n *     import { useCanAccess } from 'react-admin';\n *\n *     const PostDetail = () => {\n *         const { isPending, canAccess, error } = useCanAccess({\n *             resource: 'posts',\n *             action: 'read',\n *         });\n *         if (isPending || !canAccess) {\n *             return null;\n *         }\n *         if (error) {\n *             return <div>{error.message}</div>;\n *         }\n *         return <PostEdit />;\n *     };\n */\nexport var useCanAccess = function (params) {\n    var authProvider = useAuthProvider();\n    var resource = useResourceContext(params);\n    if (!resource) {\n        throw new Error('useCanAccess must be used inside a <Resource> component or provide a resource prop');\n    }\n    var record = useRecordContext(params);\n    var _record = params.record, restParams = __rest(params, [\"record\"]);\n    var authProviderHasCanAccess = !!(authProvider === null || authProvider === void 0 ? void 0 : authProvider.canAccess);\n    var queryResult = useQuery(__assign({ queryKey: [\n            'auth',\n            'canAccess',\n            __assign(__assign({}, restParams), { recordId: record === null || record === void 0 ? void 0 : record.id, resource: resource }),\n        ], queryFn: function (_a) { return __awaiter(void 0, [_a], void 0, function (_b) {\n            var signal = _b.signal;\n            return __generator(this, function (_c) {\n                if (!authProvider || !authProvider.canAccess) {\n                    return [2 /*return*/, true];\n                }\n                return [2 /*return*/, authProvider.canAccess(__assign(__assign({}, params), { record: record, resource: resource, signal: authProvider.supportAbortSignal ? signal : undefined }))];\n            });\n        }); }, enabled: authProviderHasCanAccess }, params));\n    var result = useMemo(function () {\n        // Don't check for the authProvider or authProvider.canAccess method in the useMemo\n        // to avoid unnecessary re-renders\n        return __assign(__assign({}, queryResult), { canAccess: queryResult.data });\n    }, [queryResult]);\n    return authProviderHasCanAccess\n        ? result\n        : emptyQueryObserverResult;\n};\nvar emptyQueryObserverResult = {\n    canAccess: true,\n    data: true,\n    dataUpdatedAt: 0,\n    error: null,\n    errorUpdatedAt: 0,\n    errorUpdateCount: 0,\n    failureCount: 0,\n    failureReason: null,\n    fetchStatus: 'idle',\n    isError: false,\n    isInitialLoading: false,\n    isLoading: false,\n    isLoadingError: false,\n    isFetched: true,\n    isFetchedAfterMount: true,\n    isFetching: false,\n    isPaused: false,\n    isPlaceholderData: false,\n    isPending: false,\n    isRefetchError: false,\n    isRefetching: false,\n    isStale: false,\n    isSuccess: true,\n    status: 'success',\n    refetch: function () { return Promise.resolve(emptyQueryObserverResult); },\n};\n//# sourceMappingURL=useCanAccess.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Navigate } from 'react-router';\nimport { useCanAccess } from \"./useCanAccess.js\";\nimport { useBasename } from \"../routing/index.js\";\n/**\n * A component that only displays its children after checking whether users are authorized to access the provided resource and action.\n * @param options\n * @param options.action The action to check. One of 'list', 'create', 'edit', 'show', 'delete', or a custom action.\n * @param options.resource The resource to check. e.g. 'posts', 'comments', 'users'\n * @param options.children The component to render if users are authorized.\n * @param options.loading An optional element to render while the authorization is being checked. Defaults to null.\n * @param options.accessDenied An optional element to render if users are denied access. Defaults to null.\n * @param options.error An optional element to render if an error occur while checking users access rights. Redirect users to `/authentication-error` by default.\n */\nexport var CanAccess = function (_a) {\n    var children = _a.children, _b = _a.loading, loading = _b === void 0 ? null : _b, _c = _a.accessDenied, accessDenied = _c === void 0 ? null : _c, _d = _a.error, errorElement = _d === void 0 ? DEFAULT_ERROR : _d, props = __rest(_a, [\"children\", \"loading\", \"accessDenied\", \"error\"]);\n    var _e = useCanAccess(props), canAccess = _e.canAccess, error = _e.error, isPending = _e.isPending;\n    if (isPending) {\n        return loading;\n    }\n    if (error) {\n        return errorElement;\n    }\n    if (canAccess === false) {\n        return accessDenied;\n    }\n    return children;\n};\nvar CanAccessDefaultError = function () {\n    var basename = useBasename();\n    return React.createElement(Navigate, { to: \"\".concat(basename, \"/authentication-error\") });\n};\nvar DEFAULT_ERROR = React.createElement(CanAccessDefaultError, null);\n//# sourceMappingURL=CanAccess.js.map","import { useEffect } from 'react';\nimport useLogout from \"./useLogout.js\";\n/**\n * Log the user out and redirect them to login.\n *\n * To be used as a catch-all route for anonymous users in a secure app.\n *\n * @see CoreAdminRoutes\n */\nexport var LogoutOnMount = function () {\n    var logout = useLogout();\n    useEffect(function () {\n        logout();\n    }, [logout]);\n    return null;\n};\n//# sourceMappingURL=LogoutOnMount.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useEffect, useMemo } from 'react';\nimport { useQuery, } from '@tanstack/react-query';\nimport useAuthProvider from \"./useAuthProvider.js\";\nimport { useEvent } from \"../util/index.js\";\nvar defaultIdentity = {\n    id: '',\n};\nvar defaultQueryParams = {\n    staleTime: 5 * 60 * 1000,\n};\n/**\n * Return the current user identity by calling authProvider.getIdentity() on mount\n *\n * The return value updates according to the call state:\n *\n * - mount: { isPending: true }\n * - success: { identity, refetch: () => {}, isPending: false }\n * - error: { error: Error, isPending: false }\n *\n * The implementation is left to the authProvider.\n *\n * @returns The current user identity. Destructure as { isPending, identity, error, refetch }.\n *\n * @example\n * import { useGetIdentity, useGetOne } from 'react-admin';\n *\n * const PostDetail = ({ id }) => {\n *     const { data: post, isPending: postLoading } = useGetOne('posts', { id });\n *     const { identity, isPending: identityLoading } = useGetIdentity();\n *     if (postLoading || identityLoading) return <>Loading...</>;\n *     if (!post.lockedBy || post.lockedBy === identity.id) {\n *         // post isn't locked, or is locked by me\n *         return <PostEdit post={post} />\n *     } else {\n *         // post is locked by someone else and cannot be edited\n *         return <PostShow post={post} />\n *     }\n * }\n */\nexport var useGetIdentity = function (options) {\n    if (options === void 0) { options = defaultQueryParams; }\n    var authProvider = useAuthProvider();\n    var onSuccess = options.onSuccess, onError = options.onError, onSettled = options.onSettled, queryOptions = __rest(options, [\"onSuccess\", \"onError\", \"onSettled\"]);\n    var result = useQuery(__assign({ queryKey: ['auth', 'getIdentity'], queryFn: function (_a) { return __awaiter(void 0, [_a], void 0, function (_b) {\n            var signal = _b.signal;\n            return __generator(this, function (_c) {\n                if (authProvider &&\n                    typeof authProvider.getIdentity === 'function') {\n                    return [2 /*return*/, authProvider.getIdentity({ signal: signal })];\n                }\n                else {\n                    return [2 /*return*/, defaultIdentity];\n                }\n                return [2 /*return*/];\n            });\n        }); } }, queryOptions));\n    var onSuccessEvent = useEvent(onSuccess !== null && onSuccess !== void 0 ? onSuccess : noop);\n    var onErrorEvent = useEvent(onError !== null && onError !== void 0 ? onError : noop);\n    var onSettledEvent = useEvent(onSettled !== null && onSettled !== void 0 ? onSettled : noop);\n    useEffect(function () {\n        if (result.data === undefined || result.isFetching)\n            return;\n        onSuccessEvent(result.data);\n    }, [onSuccessEvent, result.data, result.isFetching]);\n    useEffect(function () {\n        if (result.error == null || result.isFetching)\n            return;\n        onErrorEvent(result.error);\n    }, [onErrorEvent, result.error, result.isFetching]);\n    useEffect(function () {\n        if (result.status === 'pending' || result.isFetching)\n            return;\n        onSettledEvent(result.data, result.error);\n    }, [\n        onSettledEvent,\n        result.data,\n        result.error,\n        result.status,\n        result.isFetching,\n    ]);\n    return useMemo(function () { return (__assign(__assign({}, result), { identity: result.data })); }, [result]);\n};\nexport default useGetIdentity;\nvar noop = function () { };\n//# sourceMappingURL=useGetIdentity.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useEffect } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { useLocation } from 'react-router';\nimport { useRedirect } from \"../routing/index.js\";\nimport useAuthProvider from \"./useAuthProvider.js\";\nimport { useEvent } from \"../util/index.js\";\n/**\n * This hook calls the `authProvider.handleCallback()` method on mount. This is meant to be used in a route called\n * by an external authentication service (e.g. Auth0) after the user has logged in.\n * By default, it redirects to application home page upon success, or to the `redirectTo` location returned by `authProvider. handleCallback`.\n *\n * @returns An object containing { isPending, data, error, refetch }.\n */\nexport var useHandleAuthCallback = function (options) {\n    var authProvider = useAuthProvider();\n    var redirect = useRedirect();\n    var location = useLocation();\n    var locationState = location.state;\n    var nextPathName = locationState && locationState.nextPathname;\n    var nextSearch = locationState && locationState.nextSearch;\n    var defaultRedirectUrl = nextPathName ? nextPathName + nextSearch : '/';\n    var _a = options !== null && options !== void 0 ? options : {}, onSuccess = _a.onSuccess, onError = _a.onError, onSettled = _a.onSettled, queryOptions = __rest(_a, [\"onSuccess\", \"onError\", \"onSettled\"]);\n    var handleCallbackPromise;\n    var queryResult = useQuery(__assign({ queryKey: ['auth', 'handleCallback'], queryFn: function (_a) {\n            var signal = _a.signal;\n            if (!handleCallbackPromise) {\n                handleCallbackPromise =\n                    authProvider &&\n                        typeof authProvider.handleCallback === 'function'\n                        ? authProvider\n                            .handleCallback({ signal: signal })\n                            .then(function (result) { return result !== null && result !== void 0 ? result : null; })\n                        : Promise.resolve();\n            }\n            return handleCallbackPromise;\n        }, retry: false }, queryOptions));\n    var onSuccessEvent = useEvent(onSuccess !== null && onSuccess !== void 0 ? onSuccess : (function (data) {\n        var _a;\n        // AuthProviders relying on a third party services redirect back to the app can't\n        // use the location state to store the path on which the user was before the login.\n        // So we support a fallback on the localStorage.\n        var previousLocation = localStorage.getItem(PreviousLocationStorageKey);\n        var redirectTo = (_a = data === null || data === void 0 ? void 0 : data.redirectTo) !== null && _a !== void 0 ? _a : previousLocation;\n        if (redirectTo === false) {\n            return;\n        }\n        redirect(redirectTo !== null && redirectTo !== void 0 ? redirectTo : defaultRedirectUrl);\n    }));\n    var onErrorEvent = useEvent(onError !== null && onError !== void 0 ? onError : noop);\n    var onSettledEvent = useEvent(onSettled !== null && onSettled !== void 0 ? onSettled : noop);\n    useEffect(function () {\n        if (queryResult.error == null || queryResult.isFetching)\n            return;\n        onErrorEvent(queryResult.error);\n    }, [onErrorEvent, queryResult.error, queryResult.isFetching]);\n    useEffect(function () {\n        if (queryResult.data === undefined || queryResult.isFetching)\n            return;\n        onSuccessEvent(queryResult.data);\n    }, [onSuccessEvent, queryResult.data, queryResult.isFetching]);\n    useEffect(function () {\n        if (queryResult.status === 'pending' || queryResult.isFetching)\n            return;\n        onSettledEvent(queryResult.data, queryResult.error);\n    }, [\n        onSettledEvent,\n        queryResult.data,\n        queryResult.error,\n        queryResult.status,\n        queryResult.isFetching,\n    ]);\n    return queryResult;\n};\n/**\n * Key used to store the previous location in localStorage.\n * Used by the useHandleAuthCallback hook to redirect the user to their previous location after a successful login.\n */\nexport var PreviousLocationStorageKey = '@react-admin/nextPathname';\nvar noop = function () { };\n//# sourceMappingURL=useHandleAuthCallback.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useQueryClient } from '@tanstack/react-query';\nimport { useResourceContext } from \"../core/index.js\";\nimport useAuthProvider from \"./useAuthProvider.js\";\n/**\n * A hook that returns true if the authProvider is currently checking the authentication status or the user's access rights.\n * @param params\n * @param params.action The action to check access for\n * @param params.resource The resource to check access for (optional). Defaults to the resource of the current ResourceContext.\n * @returns {boolean} true if the authProvider is currently checking the authentication status or the user's access rights, false otherwise.\n */\nexport var useIsAuthPending = function (params) {\n    var action = params.action, props = __rest(params, [\"action\"]);\n    var queryClient = useQueryClient();\n    var authProvider = useAuthProvider();\n    var resource = useResourceContext(props);\n    if (!authProvider) {\n        return false;\n    }\n    var authQueryState = queryClient.getQueryState(['auth', 'checkAuth', {}]);\n    var canAccessQueryState = queryClient.getQueryState([\n        'auth',\n        'canAccess',\n        { action: action, resource: resource },\n    ]);\n    if ((authQueryState === null || authQueryState === void 0 ? void 0 : authQueryState.status) === 'pending' ||\n        (authProvider.canAccess && (canAccessQueryState === null || canAccessQueryState === void 0 ? void 0 : canAccessQueryState.status) === 'pending')) {\n        return true;\n    }\n    return false;\n};\n//# sourceMappingURL=useIsAuthPending.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useEffect } from 'react';\nimport { useNavigate } from 'react-router';\nimport { useCanAccess, } from \"./useCanAccess.js\";\nimport { useBasename } from \"../routing/index.js\";\n/**\n * A hook that calls the authProvider.canAccess() method for a provided resource and action (and optionally a record).\n * It redirects to the /access-denied page if the user doesn't have the required permissions.\n * It redirects to the /authentication-error page if the authProvider.canAccess throws an error.\n *\n * The return value updates according to the request state:\n *\n * - start: { isPending: true }\n * - success: { isPending: false }\n * - error: { error: [error from provider], isPending: false }\n *\n * Useful to enable or disable features based on users permissions.\n *\n * @param {Object} params Any params you want to pass to the authProvider\n * @param {string} params.resource The resource to check access for\n * @param {string} params.action The action to check access for\n * @param {Object} params.record Optional. The record to check access for\n *\n * @returns Return the react-query result.\n *\n * @example\n *     import { useRequireAccess } from 'react-admin';\n *\n *     const PostDetail = () => {\n *         const { isPending } = useRequireAccess({\n *             resource: 'posts',\n *             action: 'read',\n *         });\n *         if (isPending) {\n *             return null;\n *         }\n *\n *         return <PostEdit />;\n *     };\n */\nexport var useRequireAccess = function (params) {\n    var _a = useCanAccess(params), canAccess = _a.canAccess, data = _a.data, error = _a.error, rest = __rest(_a, [\"canAccess\", \"data\", \"error\"]);\n    var navigate = useNavigate();\n    var basename = useBasename();\n    useEffect(function () {\n        if (rest.isPending)\n            return;\n        if (canAccess === false) {\n            navigate(\"\".concat(basename, \"/access-denied\"));\n        }\n    }, [basename, canAccess, navigate, rest.isPending]);\n    useEffect(function () {\n        if (error) {\n            navigate(\"\".concat(basename, \"/authentication-error\"));\n        }\n    }, [basename, navigate, error]);\n    return rest;\n};\n//# sourceMappingURL=useRequireAccess.js.map","import * as React from 'react';\nimport { createContext, useContext } from 'react';\nexport var PreferenceKeyContext = createContext('');\nexport var PreferenceKeyContextProvider = function (_a) {\n    var _b = _a.value, value = _b === void 0 ? '' : _b, children = _a.children;\n    return (React.createElement(PreferenceKeyContext.Provider, { value: value }, children));\n};\nexport var usePreferenceKey = function () {\n    return useContext(PreferenceKeyContext);\n};\n//# sourceMappingURL=PreferenceKeyContext.js.map","import { useStore } from \"../store/useStore.js\";\nimport { usePreferenceKey } from \"./PreferenceKeyContext.js\";\nfunction usePreference(key, defaultValue) {\n    if (key === void 0) { key = ''; }\n    if (defaultValue === void 0) { defaultValue = undefined; }\n    var preferenceKey = usePreferenceKey();\n    if (!preferenceKey) {\n        throw new Error(\"usePreference cannot be used outside of a Configurable component. Did you forget to wrap your component with <Configurable>? If you don't want to use Configurable, you can use the useStore hook instead.\");\n    }\n    return useStore(preferenceKey && key ? \"\".concat(preferenceKey, \".\").concat(key) : preferenceKey !== null && preferenceKey !== void 0 ? preferenceKey : key, defaultValue);\n}\nexport { usePreference };\n//# sourceMappingURL=usePreference.js.map","import { useContext } from 'react';\nimport { PreferencesEditorContext, } from \"./PreferencesEditorContext.js\";\nexport var usePreferencesEditor = function () {\n    var context = useContext(PreferencesEditorContext);\n    if (!context) {\n        throw new Error('usePreferencesEditor must be used within a PreferencesEditorContextProvider');\n    }\n    return context;\n};\n//# sourceMappingURL=usePreferencesEditor.js.map","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useState, useEffect } from 'react';\nimport { usePreference } from \"./usePreference.js\";\n/**\n * Get the props for a preference input that changes the value on blur\n *\n * Relies on `usePreference`, so it's using the PreferenceKeyContext\n *\n * @example\n * const FontSizePreferenceInput = () => {\n *     const field = usePreferenceInput('ui.font.size', 10);\n *     return (\n *         <div>\n *             <label for=\"font-size\">Font size</label>\n *             <input id=\"font-size\" {...field} />\n *         </div>\n *     );\n * }\n */\nexport var usePreferenceInput = function (key, defaultValue) {\n    var _a = usePreference(key, defaultValue), valueFromStore = _a[0], setValueFromStore = _a[1];\n    var _b = useState(valueFromStore), value = _b[0], setValue = _b[1];\n    useEffect(function () {\n        setValue(valueFromStore || defaultValue);\n    }, [valueFromStore, defaultValue]);\n    var onChange = function (event) {\n        setValue(event.target.value === '' ? defaultValue : event.target.value);\n    };\n    var onBlur = function () {\n        setValueFromStore(value);\n    };\n    var onKeyDown = function (event) {\n        var _a;\n        if (event.key === 'Enter') {\n            setValueFromStore(value);\n            var form = event.target.form;\n            if (form) {\n                var index = __spreadArray([], form, true).indexOf(event.target);\n                (_a = form.elements[index + 1]) === null || _a === void 0 ? void 0 : _a.focus();\n            }\n            event.preventDefault();\n        }\n    };\n    return { value: value, onChange: onChange, onBlur: onBlur, onKeyDown: onKeyDown };\n};\n//# sourceMappingURL=usePreferenceInput.js.map","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nmodule.exports = difference;\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useContext, useMemo } from 'react';\nimport { useList } from \"../../controller/index.js\";\nimport { ChoicesContext } from \"./ChoicesContext.js\";\nexport var useChoicesContext = function (options) {\n    var _a, _b, _c;\n    if (options === void 0) { options = {}; }\n    var context = useContext(ChoicesContext);\n    var choices = options.choices && isArrayOfStrings(options.choices)\n        ? convertOptionsToChoices(options.choices)\n        : options.choices;\n    // @ts-ignore cannot satisfy the type of useList because of ability to pass partial options\n    var _d = useList({\n        data: choices,\n        isLoading: (_a = options.isLoading) !== null && _a !== void 0 ? _a : false,\n        isPending: (_b = options.isPending) !== null && _b !== void 0 ? _b : false,\n        isFetching: (_c = options.isFetching) !== null && _c !== void 0 ? _c : false,\n        error: options.error,\n        // When not in a ChoicesContext, paginating does not make sense (e.g. AutocompleteInput).\n        perPage: Infinity,\n    }), data = _d.data, list = __rest(_d, [\"data\"]);\n    var result = useMemo(function () {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z;\n        // Props take precedence over context.\n        if (options.choices || !context) {\n            return {\n                allChoices: data,\n                availableChoices: (_a = options.availableChoices) !== null && _a !== void 0 ? _a : data,\n                selectedChoices: (_b = options.selectedChoices) !== null && _b !== void 0 ? _b : data,\n                displayedFilters: (_c = options.selectedChoices) !== null && _c !== void 0 ? _c : list.displayedFilters,\n                error: options.error,\n                filter: (_d = options.filter) !== null && _d !== void 0 ? _d : list.filter,\n                filterValues: (_e = options.filterValues) !== null && _e !== void 0 ? _e : list.filterValues,\n                hasNextPage: (_f = options.hasNextPage) !== null && _f !== void 0 ? _f : list.hasNextPage,\n                hasPreviousPage: (_g = options.hasPreviousPage) !== null && _g !== void 0 ? _g : list.hasPreviousPage,\n                hideFilter: (_h = options.hideFilter) !== null && _h !== void 0 ? _h : list.hideFilter,\n                isFetching: (_j = list.isFetching) !== null && _j !== void 0 ? _j : false, // we must take the one for useList, otherwise the loading state isn't synchronized with the data\n                isLoading: (_k = list.isLoading) !== null && _k !== void 0 ? _k : false, // same\n                isPaused: (_l = list.isPaused) !== null && _l !== void 0 ? _l : false, // same\n                isPending: (_m = list.isPending) !== null && _m !== void 0 ? _m : false, // same\n                isPlaceholderData: (_o = list.isPlaceholderData) !== null && _o !== void 0 ? _o : false, // same\n                page: (_p = options.page) !== null && _p !== void 0 ? _p : list.page,\n                perPage: (_q = options.perPage) !== null && _q !== void 0 ? _q : list.perPage,\n                refetch: (_r = options.refetch) !== null && _r !== void 0 ? _r : list.refetch,\n                resource: (_s = options.resource) !== null && _s !== void 0 ? _s : list.resource,\n                setFilters: (_t = options.setFilters) !== null && _t !== void 0 ? _t : list.setFilters,\n                setPage: (_u = options.setPage) !== null && _u !== void 0 ? _u : list.setPage,\n                setPerPage: (_v = options.setPerPage) !== null && _v !== void 0 ? _v : list.setPerPage,\n                setSort: (_w = options.setSort) !== null && _w !== void 0 ? _w : list.setSort,\n                showFilter: (_x = options.showFilter) !== null && _x !== void 0 ? _x : list.showFilter,\n                sort: (_y = options.sort) !== null && _y !== void 0 ? _y : list.sort,\n                source: options.source,\n                total: (_z = options.total) !== null && _z !== void 0 ? _z : list.total,\n                isFromReference: false,\n            };\n        }\n        return context;\n    }, [context, data, list, options]);\n    return result;\n};\nvar isArrayOfStrings = function (choices) {\n    return Array.isArray(choices) &&\n        choices.every(function (choice) { return typeof choice === 'string'; });\n};\nvar convertOptionsToChoices = function (options) {\n    return options.map(function (choice) { return ({\n        id: choice,\n        name: choice,\n    }); });\n};\n//# sourceMappingURL=useChoicesContext.js.map","import * as React from 'react';\nimport { isValidElement, useCallback } from 'react';\nimport get from 'lodash/get.js';\nimport { useTranslate } from \"../../i18n/index.js\";\nimport { RecordContextProvider } from \"../../controller/index.js\";\n/*\n * Returns helper functions for choices handling.\n *\n * @param optionText Either a string defining the property to use to get the choice text, a function or a React element\n * @param optionValue The property to use to get the choice value\n * @param translateChoice A boolean indicating whether to option text should be translated\n *\n * @returns An object with helper functions:\n * - getChoiceText: Returns the choice text or a React element\n * - getChoiceValue: Returns the choice value\n */\nexport var useChoices = function (_a) {\n    var _b = _a.optionText, optionText = _b === void 0 ? 'name' : _b, _c = _a.optionValue, optionValue = _c === void 0 ? 'id' : _c, _d = _a.disableValue, disableValue = _d === void 0 ? 'disabled' : _d, _e = _a.translateChoice, translateChoice = _e === void 0 ? true : _e, _f = _a.createValue, createValue = _f === void 0 ? '@@ra-create' : _f, _g = _a.createHintValue, createHintValue = _g === void 0 ? '@@ra-create-hint' : _g;\n    var translate = useTranslate();\n    var getChoiceText = useCallback(function (choice) {\n        if ((choice === null || choice === void 0 ? void 0 : choice.id) === createValue || (choice === null || choice === void 0 ? void 0 : choice.id) === createHintValue) {\n            return get(choice, typeof optionText === 'string' ? optionText : 'name');\n        }\n        if (isValidElement(optionText)) {\n            return (React.createElement(RecordContextProvider, { value: choice }, optionText));\n        }\n        var choiceName = typeof optionText === 'function'\n            ? optionText(choice)\n            : get(choice, optionText);\n        return isValidElement(choiceName)\n            ? choiceName\n            : translateChoice\n                ? translate(String(choiceName), { _: choiceName })\n                : String(choiceName);\n    }, [createHintValue, createValue, optionText, translate, translateChoice]);\n    var getChoiceValue = useCallback(function (choice) { return get(choice, optionValue, get(choice, 'id')); }, [optionValue]);\n    var getDisableValue = useCallback(function (choice) { return get(choice, disableValue); }, [disableValue]);\n    return {\n        getChoiceText: getChoiceText,\n        getChoiceValue: getChoiceValue,\n        getDisableValue: getDisableValue,\n    };\n};\n//# sourceMappingURL=useChoices.js.map","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport * as React from 'react';\nimport { useMemo, useRef } from 'react';\nimport { FormGroupsContext, } from \"./FormGroupsContext.js\";\n/**\n * This component provides functions through context to manage form groups,\n * allowing to link or unlink an input to a group.\n * @see FormGroupContextProvider\n * @see useFormGroup\n * @see useFormGroups\n */\nexport var FormGroupsProvider = function (_a) {\n    var children = _a.children;\n    var formGroups = useRef({});\n    var subscribers = useRef({});\n    var formContextValue = useMemo(function () { return ({\n        /**\n         * Register a subscriber function for the specified group. The subscriber\n         * will be called whenever the group content changes (fields added or removed).\n         */\n        subscribe: function (group, subscriber) {\n            if (!subscribers.current[group]) {\n                subscribers.current[group] = [];\n            }\n            subscribers.current[group].push(subscriber);\n            return function () {\n                subscribers.current[group] = subscribers.current[group].filter(function (s) { return s !== subscriber; });\n            };\n        },\n        getGroupFields: function (name) { return formGroups.current[name] || []; },\n        registerGroup: function (name) {\n            formGroups.current[name] = formGroups.current[name] || [];\n        },\n        unregisterGroup: function (name) {\n            delete formGroups[name];\n        },\n        registerField: function (source, group) {\n            if (group != null) {\n                if (!(formGroups.current[group] || []).includes(source)) {\n                    formGroups.current[group] = __spreadArray(__spreadArray([], (formGroups.current[group] || []), true), [\n                        source,\n                    ], false);\n                    // Notify subscribers that the group fields have changed\n                    if (subscribers.current[group]) {\n                        subscribers.current[group].forEach(function (subscriber) {\n                            return subscriber();\n                        });\n                    }\n                }\n            }\n        },\n        unregisterField: function (source, group) {\n            if (group != null) {\n                if (!formGroups.current[group]) {\n                    console.warn(\"Invalid form group \".concat(group));\n                }\n                else {\n                    var fields = new Set(formGroups.current[group]);\n                    fields.delete(source);\n                    formGroups.current[group] = Array.from(fields);\n                    // Notify subscribers that the group fields have changed\n                    if (subscribers.current[group]) {\n                        subscribers.current[group].forEach(function (subscriber) {\n                            return subscriber();\n                        });\n                    }\n                }\n            }\n        },\n    }); }, []);\n    return (React.createElement(FormGroupsContext.Provider, { value: formContextValue }, children));\n};\n//# sourceMappingURL=FormGroupsProvider.js.map","import { useEffect, useState } from 'react';\nimport { useFormState } from 'react-hook-form';\nimport { useBlocker } from 'react-router-dom';\nimport { useTranslate } from \"../i18n/index.js\";\n/**\n * Display a confirmation dialog if the form has unsaved changes.\n * - If the user confirms, the navigation continues and the changes are lost.\n * - If the user cancels, the navigation is cancelled and the changes are kept.\n */\nexport var useWarnWhenUnsavedChanges = function (enable, formRootPathname, control) {\n    var translate = useTranslate();\n    var _a = useFormState(control ? { control: control } : undefined), isSubmitSuccessful = _a.isSubmitSuccessful, dirtyFields = _a.dirtyFields;\n    var isDirty = Object.keys(dirtyFields).length > 0;\n    var _b = useState(false), shouldNotify = _b[0], setShouldNotify = _b[1];\n    var shouldNotBlock = !enable || !isDirty || isSubmitSuccessful;\n    var blocker = useBlocker(function (_a) {\n        var currentLocation = _a.currentLocation, nextLocation = _a.nextLocation;\n        if (shouldNotBlock)\n            return false;\n        // Also check if the new location is inside the form\n        var initialLocation = formRootPathname || currentLocation.pathname;\n        var newLocationIsInsideCurrentLocation = nextLocation.pathname.startsWith(initialLocation);\n        var newLocationIsShowView = nextLocation.pathname.startsWith(\"\".concat(initialLocation, \"/show\"));\n        var newLocationIsInsideForm = newLocationIsInsideCurrentLocation && !newLocationIsShowView;\n        if (newLocationIsInsideForm)\n            return false;\n        return true;\n    });\n    useEffect(function () {\n        if (blocker.state === 'blocked') {\n            // Corner case: the blocker might be triggered by a redirect in the onSuccess side effect,\n            // happening during the same tick the form is reset after a successful save.\n            // In that case, the blocker will block but shouldNotBlock will be true one tick after.\n            // If we are in that case, we can proceed immediately.\n            if (shouldNotBlock) {\n                blocker.proceed();\n                return;\n            }\n            setShouldNotify(true);\n        }\n        // This effect should only run when the blocker state changes, not when shouldNotBlock changes.\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [blocker.state]);\n    useEffect(function () {\n        if (shouldNotify) {\n            var shouldProceed = window.confirm(translate('ra.message.unsaved_changes'));\n            if (shouldProceed) {\n                blocker.proceed && blocker.proceed();\n            }\n            else {\n                blocker.reset && blocker.reset();\n            }\n        }\n        setShouldNotify(false);\n        // Can't use blocker in the dependency array because it is not stable across rerenders\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [shouldNotify, translate]);\n    // This effect handles document navigation, e.g. closing the tab\n    useEffect(function () {\n        var beforeunload = function (e) {\n            // Invoking event.preventDefault() will trigger a warning dialog when the user closes or navigates the tab\n            // https://developer.mozilla.org/en-US/docs/Web/API/Window/beforeunload_event#examples\n            e.preventDefault();\n            // Included for legacy support, e.g. Chrome/Edge < 119\n            e.returnValue = true;\n        };\n        if (shouldNotBlock) {\n            return;\n        }\n        window.addEventListener('beforeunload', beforeunload);\n        return function () {\n            window.removeEventListener('beforeunload', beforeunload);\n        };\n    }, [shouldNotBlock]);\n};\n//# sourceMappingURL=useWarnWhenUnsavedChanges.js.map","import { useWarnWhenUnsavedChanges } from \"./useWarnWhenUnsavedChanges.js\";\nexport var WarnWhenUnsavedChanges = function (_a) {\n    var _b = _a.enable, enable = _b === void 0 ? true : _b, formRootPathName = _a.formRootPathName, formControl = _a.formControl;\n    useWarnWhenUnsavedChanges(enable, formRootPathName, formControl);\n    return null;\n};\n//# sourceMappingURL=WarnWhenUnsavedChanges.js.map","import merge from 'lodash/merge.js';\nexport default function getFormInitialValues(defaultValues, record) {\n    var finalInitialValues = merge({}, getValues(defaultValues, record), record);\n    return finalInitialValues;\n}\nfunction getValues(values, record) {\n    if (typeof values === 'object') {\n        return values;\n    }\n    if (typeof values === 'function') {\n        return values(record);\n    }\n    return {};\n}\n//# sourceMappingURL=getFormInitialValues.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n/**\n * Convert a simple validation function that returns an object matching the form shape with errors\n * to a validation resolver compatible with react-hook-form.\n *\n * @example\n * const validate = (values: any) => {\n *     if (values.username == null || values.username.trim() === '') {\n *         return { username: 'Required' };\n *     }\n * }\n *\n * const validationResolver = getSimpleValidationResolver(validate);\n *\n * const UserForm = () => (\n *     <Form\n *         defaultValues={{ username: 'John' }}\n *         validationResolver={validationResolver}\n *     >\n *         <TextField source=\"username\" />\n *     </Form>\n * );\n */\nexport var getSimpleValidationResolver = function (validate) { return function (data) { return __awaiter(void 0, void 0, void 0, function () {\n    var errors, transformedErrors;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, validate(data)];\n            case 1:\n                errors = _a.sent();\n                // If there are no errors, early return the form values\n                if (!errors || isEmptyObject(errors)) {\n                    return [2 /*return*/, { values: data, errors: {} }];\n                }\n                transformedErrors = transformErrorFields(errors);\n                // Sometimes we still need to transform the error object to realize there are actually\n                // no errors in it.\n                //   e.g. with an ArrayInput we can get something like: `{backlinks: [{}, {}]}`\n                // If, after transformation, there are no errors, we return the form values\n                if (!transformedErrors || isEmptyObject(transformedErrors)) {\n                    return [2 /*return*/, { values: data, errors: {} }];\n                }\n                // Else return the errors and no values\n                return [2 /*return*/, {\n                        values: {},\n                        errors: transformedErrors,\n                    }];\n        }\n    });\n}); }; };\nvar transformErrorFields = function (error) {\n    return Object.keys(error).reduce(function (acc, field) {\n        var _a, _b, _c;\n        // Handle arrays\n        if (Array.isArray(error[field])) {\n            var arrayHasErrors_1 = false;\n            var transformedArrayErrors = error[field].map(function (item) {\n                if (!isEmptyObject(item)) {\n                    arrayHasErrors_1 = true;\n                }\n                return transformErrorFields(item);\n            });\n            if (!arrayHasErrors_1) {\n                return acc;\n            }\n            return __assign(__assign({}, acc), (_a = {}, _a[field] = transformedArrayErrors, _a));\n        }\n        // Handle objects\n        if (isEmptyObject(error[field])) {\n            return acc;\n        }\n        if (typeof error[field] === 'object' &&\n            !isRaTranslationObj(error[field])) {\n            return __assign(__assign({}, acc), (_b = {}, _b[field] = transformErrorFields(error[field]), _b));\n        }\n        // Handle leaf (either primary type or RaTranslationObj)\n        return __assign(__assign({}, acc), (_c = {}, _c[field] = addTypeAndMessage(error[field]), _c));\n    }, {});\n};\nvar addTypeAndMessage = function (error) { return ({\n    type: 'manual',\n    message: isRaTranslationObj(error) ? error : { message: error },\n}); };\nvar isRaTranslationObj = function (obj) {\n    return Object.keys(obj).includes('message') && Object.keys(obj).includes('args');\n};\nvar isEmptyObject = function (obj) {\n    return obj == null || Object.getOwnPropertyNames(obj).length === 0;\n};\n//# sourceMappingURL=getSimpleValidationResolver.js.map","/**\n * This internal function is used to convert an object matching the form shape with errors to a\n * format compatible with react-hook-form. It's used to handle submission errors. Only useful when\n * you are implementing a custom form without leveraging our Form component.\n *\n * @example\n * const MyForm = () => {\n *     const { register, handleSubmit, setError } = useForm();\n *     const onSubmit = data => {\n *         return saveAsync(data).catch(error => setSubmissionErrors(error.body.details));\n *     };\n *\n *     return (\n *         <form onSubmit={handleSubmit(onSubmit)}>\n *             ...\n *         </form>\n *     );\n * };\n */\nexport var setSubmissionErrors = function (errors, setError) {\n    var setErrorFromObject = function (errors, rootPath) {\n        Object.entries(errors).forEach(function (_a) {\n            var name = _a[0], error = _a[1];\n            if (typeof error === 'object') {\n                setErrorFromObject(error, \"\".concat(rootPath).concat(name, \".\"));\n                return;\n            }\n            setError(\"\".concat(rootPath).concat(name), {\n                type: 'server',\n                message: error.toString(),\n            });\n        });\n    };\n    setErrorFromObject(errors, '');\n};\n//# sourceMappingURL=setSubmissionErrors.js.map","import { useEffect, useRef } from 'react';\nimport { useFormState } from 'react-hook-form';\nimport { useNotify } from \"../../notification/index.js\";\n/**\n * This hook display an error message on submit in Form and SaveButton.\n *\n * We can't do the form validity check in the form submit handler\n * as the form state may not have been updated yet when onSubmit validation mode is enabled\n * or when the form hasn't been touched at all.\n */\nexport var useNotifyIsFormInvalid = function (control, enabled) {\n    if (enabled === void 0) { enabled = true; }\n    var _a = useFormState(control ? { control: control } : undefined), submitCount = _a.submitCount, errors = _a.errors;\n    var submitCountRef = useRef(submitCount);\n    var notify = useNotify();\n    useEffect(function () {\n        var _a, _b;\n        // Checking the submit count allows us to only display the notification after users\n        // tried to submit\n        if (submitCount > submitCountRef.current && enabled) {\n            submitCountRef.current = submitCount;\n            if (Object.keys(errors).length > 0) {\n                var serverError = typeof ((_b = (_a = errors.root) === null || _a === void 0 ? void 0 : _a.serverError) === null || _b === void 0 ? void 0 : _b.message) === 'string'\n                    ? errors.root.serverError.message\n                    : undefined;\n                notify(serverError || 'ra.message.invalid_form', {\n                    type: 'error',\n                });\n            }\n        }\n    }, [errors, submitCount, notify, enabled]);\n};\n//# sourceMappingURL=useNotifyIsFormInvalid.js.map","/**\n * Remove empty strings from form state\n *\n * @example\n * sanitizeEmptyValues({ foo: '', bar: 'baz' }) // { bar: 'baz' }\n */\nexport var sanitizeEmptyValues = function (values, record) {\n    if (record === void 0) { record = {}; }\n    var sanitizedValues = {};\n    Object.keys(values).forEach(function (key) {\n        if (values[key] == null || values[key] === '') {\n            if (record.hasOwnProperty(key)) {\n                // user has emptied a field, make the value null\n                sanitizedValues[key] = null;\n            }\n            else {\n                // user has emptied a field, but the initial value was undefined\n                // so we don't include it in the sanitized values\n            }\n        }\n        else {\n            // this is a non-empty value, so we include it in the sanitized values\n            sanitizedValues[key] = values[key];\n        }\n    });\n    return sanitizedValues;\n};\n//# sourceMappingURL=sanitizeEmptyValues.js.map","import { useEffect, useRef, useState } from 'react';\nimport { parse } from 'query-string';\nimport { useLocation } from 'react-router-dom';\nimport isEqual from 'lodash/isEqual.js';\n/**\n * A hook that returns the record to use to override the values in a form\n * @param options The hook options\n * @param options.searchSource The key in the location search to use as a source for the record. Its content should be a stringified JSON object.\n * @param options.stateSource The key in the location state to use as a source for the record\n * @returns The record to use to override the values in a form\n */\nexport var useRecordFromLocation = function (props) {\n    if (props === void 0) { props = {}; }\n    var searchSource = props.searchSource, stateSource = props.stateSource;\n    var location = useLocation();\n    var _a = useState(function () {\n        return getRecordFromLocation(location, {\n            stateSource: stateSource,\n            searchSource: searchSource,\n        });\n    }), recordFromLocation = _a[0], setRecordFromLocation = _a[1];\n    // To avoid having the form resets when the location changes but the final record is the same\n    // This is needed for forms such as TabbedForm or WizardForm that may change the location for their sections\n    var previousRecordRef = useRef(recordFromLocation);\n    useEffect(function () {\n        var newRecordFromLocation = getRecordFromLocation(location, {\n            stateSource: stateSource,\n            searchSource: searchSource,\n        });\n        if (!isEqual(newRecordFromLocation, previousRecordRef.current)) {\n            previousRecordRef.current = newRecordFromLocation;\n            setRecordFromLocation(newRecordFromLocation);\n        }\n    }, [location, stateSource, searchSource]);\n    return recordFromLocation;\n};\n/**\n * Get the initial record from the location, whether it comes from the location\n * state or is serialized in the url search part.\n */\nexport var getRecordFromLocation = function (_a, _b) {\n    var state = _a.state, search = _a.search;\n    var _c = _b === void 0 ? {} : _b, _d = _c.searchSource, searchSource = _d === void 0 ? 'source' : _d, _e = _c.stateSource, stateSource = _e === void 0 ? 'record' : _e;\n    if (state && state[stateSource]) {\n        return state[stateSource];\n    }\n    if (search) {\n        try {\n            var searchParams = parse(search);\n            var source = searchParams[searchSource];\n            if (source) {\n                if (Array.isArray(source)) {\n                    console.error(\"Failed to parse location \".concat(searchSource, \" parameter '\").concat(search, \"'. To pre-fill some fields in the Create form, pass a stringified \").concat(searchSource, \" parameter (e.g. '?\").concat(searchSource, \"={\\\"title\\\":\\\"foo\\\"}')\"));\n                    return null;\n                }\n                return JSON.parse(source);\n            }\n        }\n        catch (e) {\n            console.error(\"Failed to parse location \".concat(searchSource, \" parameter '\").concat(search, \"'. To pre-fill some fields in the Create form, pass a stringified \").concat(searchSource, \" parameter (e.g. '?\").concat(searchSource, \"={\\\"title\\\":\\\"foo\\\"}')\"));\n        }\n    }\n    return null;\n};\n//# sourceMappingURL=useRecordFromLocation.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useCallback, useEffect, useMemo, useRef, } from 'react';\nimport { useForm, } from 'react-hook-form';\nimport merge from 'lodash/merge.js';\nimport { useRecordContext, useSaveContext } from \"../controller/index.js\";\nimport getFormInitialValues from \"./getFormInitialValues.js\";\nimport { getSimpleValidationResolver, } from \"./validation/getSimpleValidationResolver.js\";\nimport { setSubmissionErrors } from \"./validation/setSubmissionErrors.js\";\nimport { useNotifyIsFormInvalid } from \"./validation/useNotifyIsFormInvalid.js\";\nimport { sanitizeEmptyValues as sanitizeValues } from \"./sanitizeEmptyValues.js\";\nimport { useRecordFromLocation } from \"./useRecordFromLocation.js\";\n/**\n * Wrapper around react-hook-form's useForm\n *\n * This hook adds the following features to react-hook-form's useForm:\n *\n * - form initialization based on RecordContext\n * - validation based on a validate function\n * - sanitization of empty values\n * - notification on invalid form\n * - stop form submission event propagation\n */\nexport var useAugmentedForm = function (props) {\n    var _a = props.criteriaMode, criteriaMode = _a === void 0 ? 'firstError' : _a, defaultValues = props.defaultValues, formRootPathname = props.formRootPathname, resolver = props.resolver, _b = props.reValidateMode, reValidateMode = _b === void 0 ? 'onChange' : _b, onSubmit = props.onSubmit, sanitizeEmptyValues = props.sanitizeEmptyValues, validate = props.validate, disableInvalidFormNotification = props.disableInvalidFormNotification, rest = __rest(props, [\"criteriaMode\", \"defaultValues\", \"formRootPathname\", \"resolver\", \"reValidateMode\", \"onSubmit\", \"sanitizeEmptyValues\", \"validate\", \"disableInvalidFormNotification\"]);\n    var saveContext = useSaveContext();\n    var record = useRecordContext(props);\n    var defaultValuesIncludingRecord = useMemo(function () { return getFormInitialValues(defaultValues, record); }, \n    // eslint-disable-next-line\n    [\n        // eslint-disable-next-line\n        JSON.stringify({\n            defaultValues: typeof defaultValues === 'function'\n                ? 'function'\n                : defaultValues,\n            record: record,\n        }),\n    ]);\n    var finalResolver = resolver\n        ? resolver\n        : validate\n            ? getSimpleValidationResolver(validate)\n            : undefined;\n    var form = useForm(__assign({ criteriaMode: criteriaMode, defaultValues: defaultValuesIncludingRecord, reValidateMode: reValidateMode, resolver: finalResolver }, rest));\n    var formRef = useRef(form);\n    var reset = form.reset;\n    useEffect(function () {\n        reset(defaultValuesIncludingRecord);\n    }, [defaultValuesIncludingRecord, reset]);\n    // notify on invalid form\n    useNotifyIsFormInvalid(form.control, !disableInvalidFormNotification);\n    var recordFromLocation = useRecordFromLocation();\n    var recordFromLocationApplied = useRef(false);\n    useEffect(function () {\n        if (recordFromLocation && !recordFromLocationApplied.current) {\n            reset(merge({}, defaultValuesIncludingRecord, recordFromLocation), {\n                keepDefaultValues: true,\n            });\n            recordFromLocationApplied.current = true;\n        }\n    }, [defaultValuesIncludingRecord, recordFromLocation, reset]);\n    // submit callbacks\n    var handleSubmit = useCallback(function (values, event) { return __awaiter(void 0, void 0, void 0, function () {\n        var errors, finalValues;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    finalValues = sanitizeEmptyValues\n                        ? sanitizeValues(values, record)\n                        : values;\n                    if (!onSubmit) return [3 /*break*/, 2];\n                    return [4 /*yield*/, onSubmit(finalValues, event)];\n                case 1:\n                    errors = _a.sent();\n                    _a.label = 2;\n                case 2:\n                    if (!(onSubmit == null && (saveContext === null || saveContext === void 0 ? void 0 : saveContext.save))) return [3 /*break*/, 4];\n                    return [4 /*yield*/, saveContext.save(finalValues, event)];\n                case 3:\n                    errors = _a.sent();\n                    _a.label = 4;\n                case 4:\n                    if (errors != null) {\n                        setSubmissionErrors(errors, formRef.current.setError);\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    }); }, [onSubmit, saveContext, sanitizeEmptyValues, record]);\n    var formHandleSubmit = useCallback(function (event) {\n        if (!event.defaultPrevented) {\n            // Prevent outer forms to receive the event\n            event.stopPropagation();\n            form.handleSubmit(handleSubmit)(event);\n        }\n        return;\n    }, [form, handleSubmit]);\n    return {\n        form: form,\n        handleSubmit: handleSubmit,\n        formHandleSubmit: formHandleSubmit,\n    };\n};\n//# sourceMappingURL=useAugmentedForm.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport { FormProvider, } from 'react-hook-form';\nimport { UNSAFE_DataRouterContext, UNSAFE_DataRouterStateContext, } from 'react-router';\nimport { FormGroupsProvider } from \"./groups/FormGroupsProvider.js\";\nimport { useRecordContext, OptionalRecordContextProvider, } from \"../controller/index.js\";\nimport { SourceContextProvider, useResourceContext, } from \"../core/index.js\";\nimport { WarnWhenUnsavedChanges } from \"./WarnWhenUnsavedChanges.js\";\nimport { useAugmentedForm } from \"./useAugmentedForm.js\";\n/**\n * Creates a form element, initialized with the current record, calling the saveContext on submit\n *\n * Wrapper around react-hook-form's useForm, FormContextProvider, and <form>.\n * Also sets up a FormGroupContext, and handles submission validation.\n *\n * @example\n *\n * const MyForm = ({ record, defaultValues, validate }) => (\n *    <Form record={record} defaultValues={defaultValues} validate={validate}>\n *        <Stack>\n *            <TextInput source=\"title\" />\n *            <SaveButton />\n *        </Stack>\n *    </Form>\n * );\n *\n * @typedef {Object} Props the props you can use\n * @prop {Object} defaultValues\n * @prop {Function} validate\n * @prop {Function} save\n *\n * @see useForm\n * @see FormGroupContext\n *\n * @link https://react-hook-form.com/docs/useformcontext\n */\nexport function Form(props) {\n    var children = props.children, id = props.id, className = props.className, _a = props.noValidate, noValidate = _a === void 0 ? false : _a, formRootPathname = props.formRootPathname, warnWhenUnsavedChanges = props.warnWhenUnsavedChanges, _b = props.WarnWhenUnsavedChangesComponent, WarnWhenUnsavedChangesComponent = _b === void 0 ? WarnWhenUnsavedChanges : _b;\n    var record = useRecordContext(props);\n    var resource = useResourceContext(props);\n    var _c = useAugmentedForm(props), form = _c.form, formHandleSubmit = _c.formHandleSubmit;\n    var sourceContext = React.useMemo(function () { return ({\n        getSource: function (source) { return source; },\n        getLabel: function (source) {\n            return \"resources.\".concat(resource, \".fields.\").concat(source);\n        },\n    }); }, [resource]);\n    var dataRouterContext = useContext(UNSAFE_DataRouterContext);\n    var dataRouterStateContext = useContext(UNSAFE_DataRouterStateContext);\n    if (warnWhenUnsavedChanges &&\n        (!dataRouterContext || !dataRouterStateContext) &&\n        process.env.NODE_ENV === 'development') {\n        console.error('Cannot use the warnWhenUnsavedChanges feature outside of a DataRouter. ' +\n            'The warnWhenUnsavedChanges feature is disabled. ' +\n            'Remove the warnWhenUnsavedChanges prop or convert your custom router to a Data Router.');\n    }\n    return (React.createElement(OptionalRecordContextProvider, { value: record },\n        React.createElement(SourceContextProvider, { value: sourceContext },\n            React.createElement(FormProvider, __assign({}, form),\n                React.createElement(FormGroupsProvider, null,\n                    React.createElement(\"form\", { onSubmit: formHandleSubmit, noValidate: noValidate, id: id, className: className }, children),\n                    warnWhenUnsavedChanges &&\n                        dataRouterContext &&\n                        dataRouterStateContext && (React.createElement(WarnWhenUnsavedChangesComponent, { enable: true, formRootPathName: formRootPathname, formControl: form.control })))))));\n}\n//# sourceMappingURL=Form.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useTranslate } from \"../../i18n/index.js\";\nvar ValidationErrorSpecialFormatPrefix = '@@react-admin@@';\nexport var ValidationError = function (props) {\n    var error = props.error;\n    var errorMessage = error;\n    var translate = useTranslate();\n    // react-hook-form expects errors to be plain strings but our validators can return objects\n    // that have message and args.\n    // To avoid double translation for users that validate with a schema instead of our validators\n    // we use a special format for our validators errors.\n    // The useInput hook handle the special formatting\n    if (typeof error === 'string' &&\n        error.startsWith(ValidationErrorSpecialFormatPrefix)) {\n        errorMessage = JSON.parse(error.substring(ValidationErrorSpecialFormatPrefix.length));\n    }\n    if (errorMessage.message) {\n        var _a = errorMessage, message = _a.message, args = _a.args;\n        return React.createElement(React.Fragment, null, translate(message, __assign({ _: message }, args)));\n    }\n    return React.createElement(React.Fragment, null, translate(errorMessage, { _: errorMessage }));\n};\n//# sourceMappingURL=ValidationError.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useEffect, useId } from 'react';\nimport { useController, } from 'react-hook-form';\nimport get from 'lodash/get.js';\nimport { useRecordContext } from \"../controller/index.js\";\nimport { composeValidators, isRequired } from \"./validation/index.js\";\nimport { useFormGroupContext, useFormGroups } from \"./groups/index.js\";\nimport { useApplyInputDefaultValues } from \"./useApplyInputDefaultValues.js\";\nimport { useEvent } from \"../util/index.js\";\nimport { useWrappedSource } from \"../core/index.js\";\n// replace null or undefined values by empty string to avoid controlled/uncontrolled input warning\nvar defaultFormat = function (value) { return (value == null ? '' : value); };\n// parse empty string into null as it's more suitable for a majority of backends\nvar defaultParse = function (value) { return (value === '' ? null : value); };\nexport var useInput = function (props) {\n    var defaultValue = props.defaultValue, _a = props.format, format = _a === void 0 ? defaultFormat : _a, id = props.id, isRequiredOption = props.isRequired, name = props.name, initialOnBlur = props.onBlur, initialOnChange = props.onChange, _b = props.parse, parseProp = _b === void 0 ? defaultParse : _b, source = props.source, validate = props.validate, options = __rest(props, [\"defaultValue\", \"format\", \"id\", \"isRequired\", \"name\", \"onBlur\", \"onChange\", \"parse\", \"source\", \"validate\"]);\n    var finalSource = useWrappedSource(source);\n    var finalName = name || finalSource;\n    var formGroupName = useFormGroupContext();\n    var formGroups = useFormGroups();\n    var record = useRecordContext();\n    // @ts-ignore\n    var parse = useEvent(parseProp);\n    var defaultId = useId();\n    if (!finalName && process.env.NODE_ENV === 'development') {\n        console.warn('Input components require either a source or a name prop.');\n    }\n    useEffect(function () {\n        if (!formGroups || formGroupName == null) {\n            return;\n        }\n        formGroups.registerField(finalSource, formGroupName);\n        return function () {\n            formGroups.unregisterField(finalSource, formGroupName);\n        };\n    }, [formGroups, formGroupName, finalSource]);\n    var sanitizedValidate = Array.isArray(validate)\n        ? composeValidators(validate)\n        : validate;\n    // Fetch the defaultValue from the record if available or apply the provided defaultValue.\n    // This ensures dynamically added inputs have their value set correctly (ArrayInput for example).\n    // We don't do this for the form level defaultValues so that it works as it should in react-hook-form\n    // (i.e. field level defaultValue override form level defaultValues for this field).\n    var _c = useController(__assign({ name: finalName, defaultValue: get(record, finalSource, defaultValue), rules: {\n            validate: function (value, values) { return __awaiter(void 0, void 0, void 0, function () {\n                var error;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!sanitizedValidate)\n                                return [2 /*return*/, true];\n                            return [4 /*yield*/, sanitizedValidate(value, values, __assign(__assign({}, props), { finalSource: finalSource }))];\n                        case 1:\n                            error = _a.sent();\n                            if (!error)\n                                return [2 /*return*/, true];\n                            // react-hook-form expects errors to be plain strings but our validators can return objects\n                            // that have message and args.\n                            // To avoid double translation for users that validate with a schema instead of our validators\n                            // we use a special format for our validators errors.\n                            // The ValidationError component will check for this format and extract the message and args\n                            // to translate.\n                            return [2 /*return*/, \"@@react-admin@@\".concat(JSON.stringify(error))];\n                    }\n                });\n            }); },\n        } }, options)), controllerField = _c.field, fieldState = _c.fieldState, formState = _c.formState;\n    // Because our forms may receive an asynchronously loaded record for instance,\n    // they may reset their default values which would override the input default value.\n    // This hook ensures that the input default value is applied when a new record is loaded but has\n    // no value for the input.\n    useApplyInputDefaultValues({ inputProps: props });\n    var onBlur = useEvent(function () {\n        var event = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            event[_i] = arguments[_i];\n        }\n        controllerField.onBlur();\n        if (initialOnBlur) {\n            initialOnBlur.apply(void 0, event);\n        }\n    });\n    var onChange = useEvent(function () {\n        var _a, _b, _c, _d, _e;\n        var event = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            event[_i] = arguments[_i];\n        }\n        var eventOrValue = (props.type === 'checkbox' && ((_b = (_a = event[0]) === null || _a === void 0 ? void 0 : _a.target) === null || _b === void 0 ? void 0 : _b.value) === 'on'\n            ? event[0].target.checked\n            : (_e = (_d = (_c = event[0]) === null || _c === void 0 ? void 0 : _c.target) === null || _d === void 0 ? void 0 : _d.value) !== null && _e !== void 0 ? _e : event[0]);\n        controllerField.onChange(parse ? parse(eventOrValue) : eventOrValue);\n        if (initialOnChange) {\n            initialOnChange.apply(void 0, event);\n        }\n    });\n    var field = __assign(__assign({}, controllerField), { value: format ? format(controllerField.value) : controllerField.value, onBlur: onBlur, onChange: onChange });\n    return {\n        id: id || defaultId,\n        field: field,\n        fieldState: fieldState,\n        formState: formState,\n        isRequired: isRequiredOption || isRequired(validate),\n    };\n};\n//# sourceMappingURL=useInput.js.map","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useCallback, isValidElement } from 'react';\nimport set from 'lodash/set.js';\nimport { useChoices, } from \"./choices/useChoices.js\";\nimport { useTranslate } from \"../i18n/index.js\";\n/*\n * Returns helper functions for suggestions handling.\n *\n * @param allowDuplicates A boolean indicating whether a suggestion can be added several times\n * @param choices An array of available choices\n * @param limitChoicesToValue A boolean indicating whether the initial suggestions should be limited to the currently selected one(s)\n * @param matchSuggestion Optional unless `optionText` is a React element. Function which check whether a choice matches a filter. Must return a boolean.\n * @param optionText Either a string defining the property to use to get the choice text, a function or a React element\n * @param optionValue The property to use to get the choice value\n * @param selectedItem The currently selected item. Maybe an array of selected items\n * @param suggestionLimit The maximum number of suggestions returned\n * @param translateChoice A boolean indicating whether to option text should be translated\n *\n * @returns An object with helper functions:\n * - getChoiceText: Returns the choice text or a React element\n * - getChoiceValue: Returns the choice value\n * - getSuggestions: A function taking a filter value (string) and returning the matching suggestions\n */\nexport var useSuggestions = function (_a) {\n    var allowCreate = _a.allowCreate, choices = _a.choices, _b = _a.createText, createText = _b === void 0 ? 'ra.action.create' : _b, _c = _a.createValue, createValue = _c === void 0 ? '@@create' : _c, _d = _a.createHintValue, createHintValue = _d === void 0 ? '@@ra-create-hint' : _d, limitChoicesToValue = _a.limitChoicesToValue, matchSuggestion = _a.matchSuggestion, optionText = _a.optionText, optionValue = _a.optionValue, selectedItem = _a.selectedItem, _e = _a.suggestionLimit, suggestionLimit = _e === void 0 ? 0 : _e, translateChoice = _a.translateChoice;\n    var translate = useTranslate();\n    var _f = useChoices({\n        optionText: optionText,\n        optionValue: optionValue,\n        translateChoice: translateChoice,\n        createValue: createValue,\n        createHintValue: createHintValue,\n    }), getChoiceText = _f.getChoiceText, getChoiceValue = _f.getChoiceValue;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    var getSuggestions = useCallback(getSuggestionsFactory({\n        allowCreate: allowCreate,\n        choices: choices,\n        createText: createText,\n        createValue: createValue,\n        getChoiceText: getChoiceText,\n        getChoiceValue: getChoiceValue,\n        limitChoicesToValue: limitChoicesToValue,\n        matchSuggestion: matchSuggestion,\n        optionText: optionText,\n        optionValue: optionValue,\n        selectedItem: selectedItem,\n        suggestionLimit: suggestionLimit,\n    }), [\n        allowCreate,\n        choices,\n        createText,\n        createValue,\n        getChoiceText,\n        getChoiceValue,\n        limitChoicesToValue,\n        matchSuggestion,\n        optionText,\n        optionValue,\n        selectedItem,\n        suggestionLimit,\n        translate,\n    ]);\n    return {\n        getChoiceText: getChoiceText,\n        getChoiceValue: getChoiceValue,\n        getSuggestions: getSuggestions,\n    };\n};\nvar escapeRegExp = function (value) {\n    return value ? value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') : '';\n}; // $& means the whole matched string\n/**\n * Default matcher implementation which check whether the suggestion text matches the filter.\n */\nvar defaultMatchSuggestion = function (getChoiceText) {\n    return function (filter, suggestion, exact) {\n        if (exact === void 0) { exact = false; }\n        var suggestionText = getChoiceText(suggestion);\n        var isReactElement = isValidElement(suggestionText);\n        var regex = escapeRegExp(filter);\n        return isReactElement\n            ? false\n            : suggestionText &&\n                !!suggestionText.match(\n                // We must escape any RegExp reserved characters to avoid errors\n                // For example, the filter might contain * which must be escaped as \\*\n                new RegExp(exact ? \"^\".concat(regex, \"$\") : regex, 'i'));\n    };\n};\n/**\n * Get the suggestions to display after applying a fuzzy search on the available choices\n *\n * @example\n *\n * getSuggestions({\n *   choices: [{ id: 1, name: 'admin' }, { id: 2, name: 'publisher' }],\n *   optionText: 'name',\n *   optionValue: 'id',\n *   getSuggestionText: choice => choice[optionText],\n * })('pub')\n *\n * // Will return [{ id: 2, name: 'publisher' }]\n * getSuggestions({\n *   choices: [{ id: 1, name: 'admin' }, { id: 2, name: 'publisher' }],\n *   optionText: 'name',\n *   optionValue: 'id',\n *   getSuggestionText: choice => choice[optionText],\n * })('pub')\n *\n * // Will return [{ id: 2, name: 'publisher' }]\n */\nexport var getSuggestionsFactory = function (_a) {\n    var _b = _a.allowCreate, allowCreate = _b === void 0 ? false : _b, _c = _a.choices, choices = _c === void 0 ? [] : _c, _d = _a.createText, createText = _d === void 0 ? 'ra.action.create' : _d, _e = _a.createValue, createValue = _e === void 0 ? '@@create' : _e, _f = _a.optionText, optionText = _f === void 0 ? 'name' : _f, _g = _a.optionValue, optionValue = _g === void 0 ? 'id' : _g, getChoiceText = _a.getChoiceText, getChoiceValue = _a.getChoiceValue, _h = _a.limitChoicesToValue, limitChoicesToValue = _h === void 0 ? false : _h, _j = _a.matchSuggestion, matchSuggestion = _j === void 0 ? defaultMatchSuggestion(getChoiceText) : _j, selectedItem = _a.selectedItem, _k = _a.suggestionLimit, suggestionLimit = _k === void 0 ? 0 : _k;\n    return function (filter) {\n        var suggestions = [];\n        // if an item is selected and matches the filter\n        if (selectedItem &&\n            !Array.isArray(selectedItem) &&\n            matchSuggestion(filter, selectedItem)) {\n            if (limitChoicesToValue) {\n                // display only the selected item\n                suggestions = choices.filter(function (choice) {\n                    return getChoiceValue(choice) === getChoiceValue(selectedItem);\n                });\n            }\n            else {\n                suggestions = __spreadArray([], choices, true);\n            }\n        }\n        else {\n            suggestions = choices.filter(function (choice) {\n                return matchSuggestion(filter, choice) ||\n                    (selectedItem != null &&\n                        (!Array.isArray(selectedItem)\n                            ? getChoiceValue(choice) ===\n                                getChoiceValue(selectedItem)\n                            : selectedItem.some(function (selected) {\n                                return getChoiceValue(choice) ===\n                                    getChoiceValue(selected);\n                            })));\n            });\n        }\n        suggestions = limitSuggestions(suggestions, suggestionLimit);\n        var hasExactMatch = suggestions.some(function (suggestion) {\n            return matchSuggestion(filter, suggestion, true);\n        });\n        if (allowCreate) {\n            var filterIsSelectedItem = \n            // If the selectedItem is an array (for example AutocompleteArrayInput)\n            // we shouldn't try to match\n            !!selectedItem && !Array.isArray(selectedItem)\n                ? matchSuggestion(filter, selectedItem, true)\n                : false;\n            if (!hasExactMatch && !filterIsSelectedItem) {\n                suggestions.push(getSuggestion({\n                    optionText: optionText,\n                    optionValue: optionValue,\n                    text: createText,\n                    value: createValue,\n                }));\n            }\n        }\n        // Only keep unique items. Necessary because we might have fetched\n        // the currently selected choice in addition of the possible choices\n        // that may also contain it\n        var result = suggestions.filter(function (suggestion, index) { return suggestions.indexOf(suggestion) === index; });\n        return result;\n    };\n};\n/**\n * @example\n *\n * limitSuggestions(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n *  1\n * );\n *\n * // Will return [{ id: 1, name: 'foo' }]\n *\n * @param suggestions List of suggestions\n * @param limit\n */\nvar limitSuggestions = function (suggestions, limit) {\n    if (limit === void 0) { limit = 0; }\n    return Number.isInteger(limit) && limit > 0\n        ? suggestions.slice(0, limit)\n        : suggestions;\n};\n/**\n * addSuggestion(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n * );\n *\n * // Will return [{ id: null, name: '' }, { id: 1, name: 'foo' }, { id: 2, name: 'bar' }]\n *\n * @param suggestions List of suggestions\n * @param options\n * @param options.optionText\n */\nvar getSuggestion = function (_a) {\n    var _b = _a.optionText, optionText = _b === void 0 ? 'name' : _b, _c = _a.optionValue, optionValue = _c === void 0 ? 'id' : _c, _d = _a.text, text = _d === void 0 ? '' : _d, _e = _a.value, value = _e === void 0 ? null : _e;\n    var suggestion = {};\n    set(suggestion, optionValue, value);\n    if (typeof optionText === 'string') {\n        set(suggestion, optionText, text);\n    }\n    return suggestion;\n};\n//# sourceMappingURL=useSuggestions.js.map","var baseMerge = require('./_baseMerge'),\n    createAssigner = require('./_createAssigner');\n\n/**\n * This method is like `_.merge` except that it accepts `customizer` which\n * is invoked to produce the merged values of the destination and source\n * properties. If `customizer` returns `undefined`, merging is handled by the\n * method instead. The `customizer` is invoked with six arguments:\n * (objValue, srcValue, key, object, source, stack).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} customizer The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   if (_.isArray(objValue)) {\n *     return objValue.concat(srcValue);\n *   }\n * }\n *\n * var object = { 'a': [1], 'b': [2] };\n * var other = { 'a': [3], 'b': [4] };\n *\n * _.mergeWith(object, other, customizer);\n * // => { 'a': [1, 3], 'b': [2, 4] }\n */\nvar mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n  baseMerge(object, source, srcIndex, customizer);\n});\n\nmodule.exports = mergeWith;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport isEqual from 'lodash/isEqual.js';\nimport cloneDeep from 'lodash/cloneDeep.js';\nimport get from 'lodash/get.js';\nimport mergeWith from 'lodash/mergeWith.js';\nimport set from 'lodash/set.js';\nimport { useEffect } from 'react';\nimport { FormProvider, useForm } from 'react-hook-form';\nimport { SourceContextProvider, useResourceContext, } from \"../core/index.js\";\nimport { FormGroupsProvider } from \"./groups/FormGroupsProvider.js\";\nimport { getSimpleValidationResolver } from \"./validation/index.js\";\nimport { useDebouncedEvent } from \"../util/index.js\";\nimport { useListContext } from \"../controller/list/useListContext.js\";\n/**\n * This component offers a convenient way to create a form that automatically\n * updates the filters when the user changes its child input values.\n *\n * It fits nicely alongside a `<FilterList>` component, but you can also use it\n * at other places to create your own filter UI.\n *\n * @example\n * import MailIcon from '@mui/icons-material/MailOutline';\n * import TitleIcon from '@mui/icons-material/Title';\n * import { Card, CardContent } from '@mui/material';\n * import * as React from 'react';\n * import {\n *     FilterLiveForm,\n *     FilterList,\n *     FilterListItem,\n *     FilterListSection,\n *     TextInput,\n * } from 'react-admin';\n *\n * export const BookListAside = () => (\n *     <Card sx={{ order: -1, mr: 2, mt: 6, width: 250, height: 'fit-content' }}>\n *         <CardContent>\n *             <FilterList label=\"Subscribed to newsletter\" icon={<MailIcon />}>\n *                 <FilterListItem label=\"Yes\" value={{ has_newsletter: true }} />\n *                 <FilterListItem label=\"No\" value={{ has_newsletter: false }} />\n *             </FilterList>\n *             <FilterListSection label=\"Title\" icon={<TitleIcon />}>\n *                 <FilterLiveForm>\n *                     <TextInput source=\"title\" resettable helperText={false} />\n *                 </FilterLiveForm>\n *             </FilterListSection>\n *         </CardContent>\n *     </Card>\n * );\n */\nexport var FilterLiveForm = function (props) {\n    var _a = useListContext(), filterValues = _a.filterValues, setFilters = _a.setFilters;\n    var resource = useResourceContext(props);\n    var _b = props.debounce, debounce = _b === void 0 ? 500 : _b, resolver = props.resolver, validate = props.validate, children = props.children, _c = props.formComponent, Component = _c === void 0 ? HTMLForm : _c, rest = __rest(props, [\"debounce\", \"resolver\", \"validate\", \"children\", \"formComponent\"]);\n    var finalResolver = resolver\n        ? resolver\n        : validate\n            ? getSimpleValidationResolver(validate)\n            : undefined;\n    var formContext = useForm(__assign({ mode: 'onChange', resolver: finalResolver }, rest));\n    var handleSubmit = formContext.handleSubmit, getValues = formContext.getValues, reset = formContext.reset, watch = formContext.watch, formState = formContext.formState;\n    var isValid = formState.isValid;\n    var hasJustBeenModifiedByUser = React.useRef(false);\n    // Reapply filterValues when they change externally\n    useEffect(function () {\n        // Unless users has just modified the form themselves in which case we want to avoid overriding it with\n        // a previous value which was applied with a delay (debounce in List)\n        if (hasJustBeenModifiedByUser.current) {\n            hasJustBeenModifiedByUser.current = false;\n            return;\n        }\n        var newValues = getFilterFormValues(getValues(), filterValues);\n        var previousValues = getValues();\n        if (!isEqual(newValues, previousValues)) {\n            reset(newValues);\n        }\n        // The reference to the filterValues object is not updated when it changes,\n        // so we must stringify it to compare it by value.\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [JSON.stringify(filterValues), getValues, reset]);\n    var onSubmit = function (values) {\n        // Do not call setFilters if the form is invalid\n        if (!isValid) {\n            return;\n        }\n        setFilters(mergeObjNotArray(filterValues, values));\n    };\n    var debouncedOnSubmit = useDebouncedEvent(onSubmit, debounce || 0);\n    // Submit the form on values change\n    useEffect(function () {\n        var unsubscribe = watch(function (values, _a) {\n            var name = _a.name;\n            // Check that the name is present to avoid setting filters when\n            // watch was triggered by a reset\n            if (name) {\n                if (get(values, name) === '') {\n                    var newValues = cloneDeep(values);\n                    set(newValues, name, '');\n                    hasJustBeenModifiedByUser.current = true;\n                    debouncedOnSubmit(newValues);\n                }\n                else {\n                    hasJustBeenModifiedByUser.current = true;\n                    debouncedOnSubmit(values);\n                }\n            }\n        }).unsubscribe;\n        return function () { return unsubscribe(); };\n    }, [watch, debouncedOnSubmit]);\n    var sourceContext = React.useMemo(function () { return ({\n        getSource: function (source) { return source; },\n        getLabel: function (source) {\n            return \"resources.\".concat(resource, \".fields.\").concat(source);\n        },\n    }); }, [resource]);\n    return (React.createElement(FormProvider, __assign({}, formContext),\n        React.createElement(FormGroupsProvider, null,\n            React.createElement(SourceContextProvider, { value: sourceContext },\n                React.createElement(Component, { onSubmit: handleSubmit(onSubmit) }, children)))));\n};\nvar HTMLForm = function (props) { return (React.createElement(\"form\", __assign({}, props))); };\n// Lodash merge customizer to merge objects but not arrays\nvar mergeCustomizer = function (objValue, srcValue) {\n    if (Array.isArray(srcValue)) {\n        return srcValue;\n    }\n};\nvar mergeObjNotArray = function (a, b) {\n    return mergeWith(cloneDeep(a), b, mergeCustomizer);\n};\n/**\n * Because we are using controlled inputs with react-hook-form, we must provide a default value\n * for each input when resetting the form. (see https://react-hook-form.com/docs/useform/reset).\n * To ensure we don't provide undefined which will result to the current input value being reapplied\n * and due to the dynamic nature of the filter form, we rebuild the filter form values from its current\n * values and make sure to pass at least an empty string for each input.\n */\nexport var getFilterFormValues = function (formValues, filterValues) {\n    return Object.keys(formValues).reduce(function (acc, key) {\n        acc[key] = getInputValue(formValues, key, filterValues);\n        return acc;\n    }, {});\n};\nvar getInputValue = function (formValues, key, filterValues) {\n    if (formValues[key] === undefined || formValues[key] === null) {\n        return get(filterValues, key, '');\n    }\n    if (Array.isArray(formValues[key])) {\n        return get(filterValues, key, '');\n    }\n    if (formValues[key] instanceof Date) {\n        return get(filterValues, key, '');\n    }\n    if (typeof formValues[key] === 'object') {\n        var inputValues = Object.keys(formValues[key]).reduce(function (acc, innerKey) {\n            var _a;\n            var nestedInputValue = getInputValue(formValues[key], innerKey, (_a = (filterValues || {})[key]) !== null && _a !== void 0 ? _a : {});\n            acc[innerKey] = nestedInputValue;\n            return acc;\n        }, {});\n        if (!Object.keys(inputValues).length)\n            return '';\n        return inputValues;\n    }\n    return get(filterValues, key, '');\n};\n//# sourceMappingURL=FilterLiveForm.js.map","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isBuffer = require('./isBuffer'),\n    isPrototype = require('./_isPrototype'),\n    isTypedArray = require('./isTypedArray');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n","import { useFormState } from 'react-hook-form';\nimport isEmpty from 'lodash/isEmpty.js';\n// useFormState().isDirty might differ from useFormState().dirtyFields (https://github.com/react-hook-form/react-hook-form/issues/4740)\nexport var useFormIsDirty = function () {\n    var dirtyFields = useFormState().dirtyFields;\n    return checkHasDirtyFields(dirtyFields);\n};\nexport var checkHasDirtyFields = function (dirtyFields) {\n    // dirtyFields can contains simple keys with boolean values, nested objects or arrays\n    // We must ignore values that are false\n    return Object.values(dirtyFields).some(function (value) {\n        if (typeof value === 'boolean') {\n            return value;\n        }\n        else if (Array.isArray(value)) {\n            // Some arrays contain only booleans (scalar arrays), some arrays contain objects (object arrays)\n            for (var _i = 0, value_1 = value; _i < value_1.length; _i++) {\n                var item = value_1[_i];\n                if (item === true) {\n                    return true;\n                }\n                // FIXME: because we currently don't set default values correctly for arrays,\n                // new items are either empty objects, or undefined in dirtyFields. Consider them as dirty.\n                if ((typeof item === 'object' && isEmpty(item)) ||\n                    item === undefined) {\n                    return true;\n                }\n                if (typeof item === 'object' &&\n                    item !== null &&\n                    checkHasDirtyFields(item)) {\n                    return true;\n                }\n            }\n        }\n        else if (typeof value === 'object' && value !== null) {\n            return checkHasDirtyFields(value);\n        }\n        return false;\n    });\n};\n//# sourceMappingURL=useFormIsDirty.js.map","var englishMessages = {\n    ra: {\n        action: {\n            add_filter: 'Add filter',\n            add: 'Add',\n            back: 'Go Back',\n            bulk_actions: '1 item selected |||| %{smart_count} items selected',\n            cancel: 'Cancel',\n            clear_array_input: 'Clear the list',\n            clear_input_value: 'Clear value',\n            clone: 'Clone',\n            confirm: 'Confirm',\n            create: 'Create',\n            create_item: 'Create %{item}',\n            delete: 'Delete',\n            edit: 'Edit',\n            export: 'Export',\n            list: 'List',\n            refresh: 'Refresh',\n            remove_filter: 'Remove this filter',\n            remove_all_filters: 'Remove all filters',\n            remove: 'Remove',\n            reset: 'Reset',\n            save: 'Save',\n            search: 'Search',\n            search_columns: 'Search columns',\n            select_all: 'Select all',\n            select_all_button: 'Select all',\n            select_row: 'Select this row',\n            show: 'Show',\n            sort: 'Sort',\n            undo: 'Undo',\n            unselect: 'Unselect',\n            expand: 'Expand',\n            close: 'Close',\n            open_menu: 'Open menu',\n            close_menu: 'Close menu',\n            update: 'Update',\n            move_up: 'Move up',\n            move_down: 'Move down',\n            open: 'Open',\n            toggle_theme: 'Toggle light/dark mode',\n            select_columns: 'Columns',\n            update_application: 'Reload Application',\n        },\n        boolean: {\n            true: 'Yes',\n            false: 'No',\n            null: '',\n        },\n        page: {\n            create: 'Create %{name}',\n            dashboard: 'Dashboard',\n            edit: '%{name} %{recordRepresentation}',\n            error: 'Something went wrong',\n            list: '%{name}',\n            loading: 'Loading',\n            not_found: 'Not Found',\n            show: '%{name} %{recordRepresentation}',\n            empty: 'No %{name} yet.',\n            invite: 'Do you want to add one?',\n            access_denied: 'Access denied',\n            authentication_error: 'Authentication error',\n        },\n        input: {\n            file: {\n                upload_several: 'Drop some files to upload, or click to select one.',\n                upload_single: 'Drop a file to upload, or click to select it.',\n            },\n            image: {\n                upload_several: 'Drop some pictures to upload, or click to select one.',\n                upload_single: 'Drop a picture to upload, or click to select it.',\n            },\n            references: {\n                all_missing: 'Unable to find references data.',\n                many_missing: 'At least one of the associated references no longer appears to be available.',\n                single_missing: 'Associated reference no longer appears to be available.',\n            },\n            password: {\n                toggle_visible: 'Hide password',\n                toggle_hidden: 'Show password',\n            },\n        },\n        message: {\n            about: 'About',\n            access_denied: \"You don't have the right permissions to access this page\",\n            are_you_sure: 'Are you sure?',\n            authentication_error: 'The authentication server returned an error and your credentials could not be checked.',\n            auth_error: 'An error occurred while validating the authentication token.',\n            bulk_delete_content: 'Are you sure you want to delete this %{name}? |||| Are you sure you want to delete these %{smart_count} items?',\n            bulk_delete_title: 'Delete %{name} |||| Delete %{smart_count} %{name}',\n            bulk_update_content: 'Are you sure you want to update %{name} %{recordRepresentation}? |||| Are you sure you want to update these %{smart_count} items?',\n            bulk_update_title: 'Update %{name} %{recordRepresentation} |||| Update %{smart_count} %{name}',\n            clear_array_input: 'Are you sure you want to clear the whole list?',\n            delete_content: 'Are you sure you want to delete this %{name}?',\n            delete_title: 'Delete %{name} %{recordRepresentation}',\n            details: 'Details',\n            error: \"A client error occurred and your request couldn't be completed.\",\n            invalid_form: 'The form is not valid. Please check for errors',\n            loading: 'Please wait',\n            no: 'No',\n            not_found: 'Either you typed a wrong URL, or you followed a bad link.',\n            select_all_limit_reached: 'There are too many elements to select them all. Only the first %{max} elements were selected.',\n            unsaved_changes: \"Some of your changes weren't saved. Are you sure you want to ignore them?\",\n            yes: 'Yes',\n            placeholder_data_warning: 'Network issue: Data refresh failed.',\n        },\n        navigation: {\n            clear_filters: 'Clear filters',\n            no_filtered_results: 'No %{name} found using the current filters.',\n            no_results: 'No %{name} found',\n            no_more_results: 'The page number %{page} is out of boundaries. Try the previous page.',\n            page_out_of_boundaries: 'Page number %{page} out of boundaries',\n            page_out_from_end: 'Cannot go after last page',\n            page_out_from_begin: 'Cannot go before page 1',\n            page_range_info: '%{offsetBegin}-%{offsetEnd} of %{total}',\n            partial_page_range_info: '%{offsetBegin}-%{offsetEnd} of more than %{offsetEnd}',\n            current_page: 'Page %{page}',\n            page: 'Go to page %{page}',\n            first: 'Go to first page',\n            last: 'Go to last page',\n            next: 'Go to next page',\n            previous: 'Go to previous page',\n            page_rows_per_page: 'Rows per page:',\n            skip_nav: 'Skip to content',\n        },\n        sort: {\n            sort_by: 'Sort by %{field_lower_first} %{order}',\n            ASC: 'ascending',\n            DESC: 'descending',\n        },\n        auth: {\n            auth_check_error: 'Please login to continue',\n            user_menu: 'Profile',\n            username: 'Username',\n            password: 'Password',\n            email: 'Email',\n            sign_in: 'Sign in',\n            sign_in_error: 'Authentication failed, please retry',\n            logout: 'Logout',\n        },\n        notification: {\n            updated: 'Element updated |||| %{smart_count} elements updated',\n            created: 'Element created',\n            deleted: 'Element deleted |||| %{smart_count} elements deleted',\n            bad_item: 'Incorrect element',\n            item_doesnt_exist: 'Element does not exist',\n            http_error: 'Server communication error',\n            data_provider_error: 'dataProvider error. Check the console for details.',\n            i18n_error: 'Cannot load the translations for the specified language',\n            canceled: 'Action cancelled',\n            logged_out: 'Your session has ended, please reconnect.',\n            not_authorized: \"You're not authorized to access this resource.\",\n            application_update_available: 'A new version is available.',\n            offline: 'No connectivity. Could not fetch data.',\n        },\n        validation: {\n            required: 'Required',\n            minLength: 'Must be %{min} characters at least',\n            maxLength: 'Must be %{max} characters or less',\n            minValue: 'Must be at least %{min}',\n            maxValue: 'Must be %{max} or less',\n            number: 'Must be a number',\n            email: 'Must be a valid email',\n            oneOf: 'Must be one of: %{options}',\n            regex: 'Must match a specific format (regexp): %{pattern}',\n            unique: 'Must be unique',\n        },\n        saved_queries: {\n            label: 'Saved queries',\n            query_name: 'Query name',\n            new_label: 'Save current query...',\n            new_dialog_title: 'Save current query as',\n            remove_label: 'Remove saved query',\n            remove_label_with_name: 'Remove query \"%{name}\"',\n            remove_dialog_title: 'Remove saved query?',\n            remove_message: 'Are you sure you want to remove that item from your list of saved queries?',\n            help: 'Filter the list and save this query for later',\n        },\n        configurable: {\n            customize: 'Customize',\n            configureMode: 'Configure this page',\n            inspector: {\n                title: 'Inspector',\n                content: 'Hover the application UI elements to configure them',\n                reset: 'Reset Settings',\n                hideAll: 'Hide All',\n                showAll: 'Show All',\n            },\n            Datagrid: {\n                title: 'Datagrid',\n                unlabeled: 'Unlabeled column #%{column}',\n            },\n            SimpleForm: {\n                title: 'Form',\n                unlabeled: 'Unlabeled input #%{input}',\n            },\n            SimpleList: {\n                title: 'List',\n                primaryText: 'Primary text',\n                secondaryText: 'Secondary text',\n                tertiaryText: 'Tertiary text',\n            },\n        },\n    },\n};\nexport default englishMessages;\n//# sourceMappingURL=index.js.map","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\n/** @type {import('.')} */\nvar $defineProperty = Object.defineProperty || false;\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = false;\n\t}\n}\n\nmodule.exports = $defineProperty;\n","'use strict';\n\n/** @type {import('./syntax')} */\nmodule.exports = SyntaxError;\n","'use strict';\n\n/** @type {import('./type')} */\nmodule.exports = TypeError;\n","'use strict';\n\n/** @type {import('./gOPD')} */\nmodule.exports = Object.getOwnPropertyDescriptor;\n","'use strict';\n\n/** @type {import('.')} */\nvar $gOPD = require('./gOPD');\n\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","'use strict';\n\nvar $defineProperty = require('es-define-property');\n\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\n\nvar gopd = require('gopd');\n\n/** @type {import('.')} */\nmodule.exports = function defineDataProperty(\n\tobj,\n\tproperty,\n\tvalue\n) {\n\tif (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n\t\tthrow new $TypeError('`obj` must be an object or a function`');\n\t}\n\tif (typeof property !== 'string' && typeof property !== 'symbol') {\n\t\tthrow new $TypeError('`property` must be a string or a symbol`');\n\t}\n\tif (arguments.length > 3 && typeof arguments[3] !== 'boolean' && arguments[3] !== null) {\n\t\tthrow new $TypeError('`nonEnumerable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 4 && typeof arguments[4] !== 'boolean' && arguments[4] !== null) {\n\t\tthrow new $TypeError('`nonWritable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 5 && typeof arguments[5] !== 'boolean' && arguments[5] !== null) {\n\t\tthrow new $TypeError('`nonConfigurable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 6 && typeof arguments[6] !== 'boolean') {\n\t\tthrow new $TypeError('`loose`, if provided, must be a boolean');\n\t}\n\n\tvar nonEnumerable = arguments.length > 3 ? arguments[3] : null;\n\tvar nonWritable = arguments.length > 4 ? arguments[4] : null;\n\tvar nonConfigurable = arguments.length > 5 ? arguments[5] : null;\n\tvar loose = arguments.length > 6 ? arguments[6] : false;\n\n\t/* @type {false | TypedPropertyDescriptor<unknown>} */\n\tvar desc = !!gopd && gopd(obj, property);\n\n\tif ($defineProperty) {\n\t\t$defineProperty(obj, property, {\n\t\t\tconfigurable: nonConfigurable === null && desc ? desc.configurable : !nonConfigurable,\n\t\t\tenumerable: nonEnumerable === null && desc ? desc.enumerable : !nonEnumerable,\n\t\t\tvalue: value,\n\t\t\twritable: nonWritable === null && desc ? desc.writable : !nonWritable\n\t\t});\n\t} else if (loose || (!nonEnumerable && !nonWritable && !nonConfigurable)) {\n\t\t// must fall back to [[Set]], and was not explicitly asked to make non-enumerable, non-writable, or non-configurable\n\t\tobj[property] = value; // eslint-disable-line no-param-reassign\n\t} else {\n\t\tthrow new $SyntaxError('This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.');\n\t}\n};\n","'use strict';\n\nvar $defineProperty = require('es-define-property');\n\nvar hasPropertyDescriptors = function hasPropertyDescriptors() {\n\treturn !!$defineProperty;\n};\n\nhasPropertyDescriptors.hasArrayLengthDefineBug = function hasArrayLengthDefineBug() {\n\t// node v0.6 has a bug where array lengths can be Set but not Defined\n\tif (!$defineProperty) {\n\t\treturn null;\n\t}\n\ttry {\n\t\treturn $defineProperty([], 'length', { value: 1 }).length !== 1;\n\t} catch (e) {\n\t\t// In Firefox 4-22, defining length on an array throws an exception.\n\t\treturn true;\n\t}\n};\n\nmodule.exports = hasPropertyDescriptors;\n","'use strict';\n\nvar keys = require('object-keys');\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';\n\nvar toStr = Object.prototype.toString;\nvar concat = Array.prototype.concat;\nvar defineDataProperty = require('define-data-property');\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar supportsDescriptors = require('has-property-descriptors')();\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object) {\n\t\tif (predicate === true) {\n\t\t\tif (object[name] === value) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else if (!isFunction(predicate) || !predicate()) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\tif (supportsDescriptors) {\n\t\tdefineDataProperty(object, name, value, true);\n\t} else {\n\t\tdefineDataProperty(object, name, value);\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = concat.call(props, Object.getOwnPropertySymbols(map));\n\t}\n\tfor (var i = 0; i < props.length; i += 1) {\n\t\tdefineProperty(object, props[i], map[props[i]], predicates[props[i]]);\n\t}\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Object;\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Error;\n","'use strict';\n\n/** @type {import('./eval')} */\nmodule.exports = EvalError;\n","'use strict';\n\n/** @type {import('./range')} */\nmodule.exports = RangeError;\n","'use strict';\n\n/** @type {import('./ref')} */\nmodule.exports = ReferenceError;\n","'use strict';\n\n/** @type {import('./uri')} */\nmodule.exports = URIError;\n","'use strict';\n\n/** @type {import('./abs')} */\nmodule.exports = Math.abs;\n","'use strict';\n\n/** @type {import('./floor')} */\nmodule.exports = Math.floor;\n","'use strict';\n\n/** @type {import('./max')} */\nmodule.exports = Math.max;\n","'use strict';\n\n/** @type {import('./min')} */\nmodule.exports = Math.min;\n","'use strict';\n\n/** @type {import('./pow')} */\nmodule.exports = Math.pow;\n","'use strict';\n\n/** @type {import('./round')} */\nmodule.exports = Math.round;\n","'use strict';\n\n/** @type {import('./isNaN')} */\nmodule.exports = Number.isNaN || function isNaN(a) {\n\treturn a !== a;\n};\n","'use strict';\n\nvar $isNaN = require('./isNaN');\n\n/** @type {import('./sign')} */\nmodule.exports = function sign(number) {\n\tif ($isNaN(number) || number === 0) {\n\t\treturn number;\n\t}\n\treturn number < 0 ? -1 : +1;\n};\n","'use strict';\n\n/** @type {import('./shams')} */\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\t/** @type {{ [k in symbol]?: unknown }} */\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (var _ in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\t// eslint-disable-next-line no-extra-parens\n\t\tvar descriptor = /** @type {PropertyDescriptor} */ (Object.getOwnPropertyDescriptor(obj, sym));\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\n/** @type {import('.')} */\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/** @type {import('./Reflect.getPrototypeOf')} */\nmodule.exports = (typeof Reflect !== 'undefined' && Reflect.getPrototypeOf) || null;\n","'use strict';\n\nvar $Object = require('es-object-atoms');\n\n/** @type {import('./Object.getPrototypeOf')} */\nmodule.exports = $Object.getPrototypeOf || null;\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar toStr = Object.prototype.toString;\nvar max = Math.max;\nvar funcType = '[object Function]';\n\nvar concatty = function concatty(a, b) {\n    var arr = [];\n\n    for (var i = 0; i < a.length; i += 1) {\n        arr[i] = a[i];\n    }\n    for (var j = 0; j < b.length; j += 1) {\n        arr[j + a.length] = b[j];\n    }\n\n    return arr;\n};\n\nvar slicy = function slicy(arrLike, offset) {\n    var arr = [];\n    for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {\n        arr[j] = arrLike[i];\n    }\n    return arr;\n};\n\nvar joiny = function (arr, joiner) {\n    var str = '';\n    for (var i = 0; i < arr.length; i += 1) {\n        str += arr[i];\n        if (i + 1 < arr.length) {\n            str += joiner;\n        }\n    }\n    return str;\n};\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.apply(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slicy(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                concatty(args, arguments)\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        }\n        return target.apply(\n            that,\n            concatty(args, arguments)\n        );\n\n    };\n\n    var boundLength = max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs[i] = '$' + i;\n    }\n\n    bound = Function('binder', 'return function (' + joiny(boundArgs, ',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\n/** @type {import('./functionCall')} */\nmodule.exports = Function.prototype.call;\n","'use strict';\n\n/** @type {import('./functionApply')} */\nmodule.exports = Function.prototype.apply;\n","'use strict';\n\n/** @type {import('./reflectApply')} */\nmodule.exports = typeof Reflect !== 'undefined' && Reflect && Reflect.apply;\n","'use strict';\n\nvar bind = require('function-bind');\n\nvar $apply = require('./functionApply');\nvar $call = require('./functionCall');\nvar $reflectApply = require('./reflectApply');\n\n/** @type {import('./actualApply')} */\nmodule.exports = $reflectApply || bind.call($call, $apply);\n","'use strict';\n\nvar bind = require('function-bind');\nvar $TypeError = require('es-errors/type');\n\nvar $call = require('./functionCall');\nvar $actualApply = require('./actualApply');\n\n/** @type {(args: [Function, thisArg?: unknown, ...args: unknown[]]) => Function} TODO FIXME, find a way to use import('.') */\nmodule.exports = function callBindBasic(args) {\n\tif (args.length < 1 || typeof args[0] !== 'function') {\n\t\tthrow new $TypeError('a function is required');\n\t}\n\treturn $actualApply(bind, $call, args);\n};\n","'use strict';\n\nvar callBind = require('call-bind-apply-helpers');\nvar gOPD = require('gopd');\n\nvar hasProtoAccessor;\ntry {\n\t// eslint-disable-next-line no-extra-parens, no-proto\n\thasProtoAccessor = /** @type {{ __proto__?: typeof Array.prototype }} */ ([]).__proto__ === Array.prototype;\n} catch (e) {\n\tif (!e || typeof e !== 'object' || !('code' in e) || e.code !== 'ERR_PROTO_ACCESS') {\n\t\tthrow e;\n\t}\n}\n\n// eslint-disable-next-line no-extra-parens\nvar desc = !!hasProtoAccessor && gOPD && gOPD(Object.prototype, /** @type {keyof typeof Object.prototype} */ ('__proto__'));\n\nvar $Object = Object;\nvar $getPrototypeOf = $Object.getPrototypeOf;\n\n/** @type {import('./get')} */\nmodule.exports = desc && typeof desc.get === 'function'\n\t? callBind([desc.get])\n\t: typeof $getPrototypeOf === 'function'\n\t\t? /** @type {import('./get')} */ function getDunder(value) {\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\treturn $getPrototypeOf(value == null ? value : $Object(value));\n\t\t}\n\t\t: false;\n","'use strict';\n\nvar reflectGetProto = require('./Reflect.getPrototypeOf');\nvar originalGetProto = require('./Object.getPrototypeOf');\n\nvar getDunderProto = require('dunder-proto/get');\n\n/** @type {import('.')} */\nmodule.exports = reflectGetProto\n\t? function getProto(O) {\n\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\treturn reflectGetProto(O);\n\t}\n\t: originalGetProto\n\t\t? function getProto(O) {\n\t\t\tif (!O || (typeof O !== 'object' && typeof O !== 'function')) {\n\t\t\t\tthrow new TypeError('getProto: not an object');\n\t\t\t}\n\t\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\t\treturn originalGetProto(O);\n\t\t}\n\t\t: getDunderProto\n\t\t\t? function getProto(O) {\n\t\t\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\t\t\treturn getDunderProto(O);\n\t\t\t}\n\t\t\t: null;\n","'use strict';\n\nvar call = Function.prototype.call;\nvar $hasOwn = Object.prototype.hasOwnProperty;\nvar bind = require('function-bind');\n\n/** @type {import('.')} */\nmodule.exports = bind.call(call, $hasOwn);\n","'use strict';\n\nvar undefined;\n\nvar $Object = require('es-object-atoms');\n\nvar $Error = require('es-errors');\nvar $EvalError = require('es-errors/eval');\nvar $RangeError = require('es-errors/range');\nvar $ReferenceError = require('es-errors/ref');\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\nvar $URIError = require('es-errors/uri');\n\nvar abs = require('math-intrinsics/abs');\nvar floor = require('math-intrinsics/floor');\nvar max = require('math-intrinsics/max');\nvar min = require('math-intrinsics/min');\nvar pow = require('math-intrinsics/pow');\nvar round = require('math-intrinsics/round');\nvar sign = require('math-intrinsics/sign');\n\nvar $Function = Function;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = require('gopd');\nvar $defineProperty = require('es-define-property');\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = require('get-proto');\nvar $ObjectGPO = require('get-proto/Object.getPrototypeOf');\nvar $ReflectGPO = require('get-proto/Reflect.getPrototypeOf');\n\nvar $apply = require('call-bind-apply-helpers/functionApply');\nvar $call = require('call-bind-apply-helpers/functionCall');\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t__proto__: null,\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': $Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': $EvalError,\n\t'%Float16Array%': typeof Float16Array === 'undefined' ? undefined : Float16Array,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': $Object,\n\t'%Object.getOwnPropertyDescriptor%': $gOPD,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': $RangeError,\n\t'%ReferenceError%': $ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': $URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\n\t'%Function.prototype.call%': $call,\n\t'%Function.prototype.apply%': $apply,\n\t'%Object.defineProperty%': $defineProperty,\n\t'%Object.getPrototypeOf%': $ObjectGPO,\n\t'%Math.abs%': abs,\n\t'%Math.floor%': floor,\n\t'%Math.max%': max,\n\t'%Math.min%': min,\n\t'%Math.pow%': pow,\n\t'%Math.round%': round,\n\t'%Math.sign%': sign,\n\t'%Reflect.getPrototypeOf%': $ReflectGPO\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t__proto__: null,\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call($call, Array.prototype.concat);\nvar $spliceApply = bind.call($apply, Array.prototype.splice);\nvar $replace = bind.call($call, String.prototype.replace);\nvar $strSlice = bind.call($call, String.prototype.slice);\nvar $exec = bind.call($call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar define = require('define-data-property');\nvar hasDescriptors = require('has-property-descriptors')();\nvar gOPD = require('gopd');\n\nvar $TypeError = require('es-errors/type');\nvar $floor = GetIntrinsic('%Math.floor%');\n\n/** @type {import('.')} */\nmodule.exports = function setFunctionLength(fn, length) {\n\tif (typeof fn !== 'function') {\n\t\tthrow new $TypeError('`fn` is not a function');\n\t}\n\tif (typeof length !== 'number' || length < 0 || length > 0xFFFFFFFF || $floor(length) !== length) {\n\t\tthrow new $TypeError('`length` must be a positive 32-bit integer');\n\t}\n\n\tvar loose = arguments.length > 2 && !!arguments[2];\n\n\tvar functionLengthIsConfigurable = true;\n\tvar functionLengthIsWritable = true;\n\tif ('length' in fn && gOPD) {\n\t\tvar desc = gOPD(fn, 'length');\n\t\tif (desc && !desc.configurable) {\n\t\t\tfunctionLengthIsConfigurable = false;\n\t\t}\n\t\tif (desc && !desc.writable) {\n\t\t\tfunctionLengthIsWritable = false;\n\t\t}\n\t}\n\n\tif (functionLengthIsConfigurable || functionLengthIsWritable || !loose) {\n\t\tif (hasDescriptors) {\n\t\t\tdefine(/** @type {Parameters<define>[0]} */ (fn), 'length', length, true, true);\n\t\t} else {\n\t\t\tdefine(/** @type {Parameters<define>[0]} */ (fn), 'length', length);\n\t\t}\n\t}\n\treturn fn;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar $apply = require('./functionApply');\nvar actualApply = require('./actualApply');\n\n/** @type {import('./applyBind')} */\nmodule.exports = function applyBind() {\n\treturn actualApply(bind, $apply, arguments);\n};\n","'use strict';\n\nvar setFunctionLength = require('set-function-length');\n\nvar $defineProperty = require('es-define-property');\n\nvar callBindBasic = require('call-bind-apply-helpers');\nvar applyBind = require('call-bind-apply-helpers/applyBind');\n\nmodule.exports = function callBind(originalFunction) {\n\tvar func = callBindBasic(arguments);\n\tvar adjustedLength = originalFunction.length - (arguments.length - 1);\n\treturn setFunctionLength(\n\t\tfunc,\n\t\t1 + (adjustedLength > 0 ? adjustedLength : 0),\n\t\ttrue\n\t);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","'use strict';\n\nvar $TypeError = require('es-errors/type');\n\n/** @type {import('./RequireObjectCoercible')} */\nmodule.exports = function RequireObjectCoercible(value) {\n\tif (value == null) {\n\t\tthrow new $TypeError((arguments.length > 0 && arguments[1]) || ('Cannot call method on ' + value));\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBindBasic = require('call-bind-apply-helpers');\n\n/** @type {(thisArg: string, searchString: string, position?: number) => number} */\nvar $indexOf = callBindBasic([GetIntrinsic('%String.prototype.indexOf%')]);\n\n/** @type {import('.')} */\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\t/* eslint no-extra-parens: 0 */\n\n\tvar intrinsic = /** @type {(this: unknown, ...args: unknown[]) => unknown} */ (GetIntrinsic(name, !!allowMissing));\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBindBasic(/** @type {const} */ ([intrinsic]));\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar RequireObjectCoercible = require('es-object-atoms/RequireObjectCoercible');\nvar callBound = require('call-bound');\nvar $isEnumerable = callBound('Object.prototype.propertyIsEnumerable');\nvar $push = callBound('Array.prototype.push');\n\nmodule.exports = function entries(O) {\n\tvar obj = RequireObjectCoercible(O);\n\tvar entrys = [];\n\tfor (var key in obj) {\n\t\tif ($isEnumerable(obj, key)) { // checks own-ness as well\n\t\t\t$push(entrys, [key, obj[key]]);\n\t\t}\n\t}\n\treturn entrys;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\treturn typeof Object.entries === 'function' ? Object.entries : implementation;\n};\n","'use strict';\n\nvar getPolyfill = require('./polyfill');\nvar define = require('define-properties');\n\nmodule.exports = function shimEntries() {\n\tvar polyfill = getPolyfill();\n\tdefine(Object, { entries: polyfill }, {\n\t\tentries: function testEntries() {\n\t\t\treturn Object.entries !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","'use strict';\n\nvar define = require('define-properties');\nvar callBind = require('call-bind');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar polyfill = callBind(getPolyfill(), Object);\n\ndefine(polyfill, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = polyfill;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 1 ? len - 1 : 0);\n    for (var key = 1; key < len; key++) {\n      args[key - 1] = arguments[key];\n    }\n    var argIndex = 0;\n    var message = 'Warning: ' +\n      format.replace(/%s/g, function() {\n        return args[argIndex++];\n      });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  }\n\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n          '`warning(condition, format, ...args)` requires a warning ' +\n          'message argument'\n      );\n    }\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;\n","//     (c) 2012-2018 Airbnb, Inc.\n//\n//     polyglot.js may be freely distributed under the terms of the BSD\n//     license. For all licensing information, details, and documentation:\n//     http://airbnb.github.com/polyglot.js\n//\n//\n// Polyglot.js is an I18n helper library written in JavaScript, made to\n// work both in the browser and in Node. It provides a simple solution for\n// interpolation and pluralization, based off of Airbnb's\n// experience adding I18n functionality to its Backbone.js and Node apps.\n//\n// Polylglot is agnostic to your translation backend. It doesn't perform any\n// translation; it simply gives you a way to manage translated phrases from\n// your client- or server-side JavaScript application.\n//\n\n'use strict';\n\nvar entries = require('object.entries');\nvar warning = require('warning');\nvar has = require('hasown');\n\nvar warn = function warn(message) {\n  warning(false, message);\n};\n\nvar defaultReplace = String.prototype.replace;\nvar split = String.prototype.split;\n\n// #### Pluralization methods\n// The string that separates the different phrase possibilities.\nvar delimiter = '||||';\n\nvar russianPluralGroups = function (n) {\n  var lastTwo = n % 100;\n  var end = lastTwo % 10;\n  if (lastTwo !== 11 && end === 1) {\n    return 0;\n  }\n  if (2 <= end && end <= 4 && !(lastTwo >= 12 && lastTwo <= 14)) {\n    return 1;\n  }\n  return 2;\n};\n\nvar defaultPluralRules = {\n  // Mapping from pluralization group plural logic.\n  pluralTypes: {\n    arabic: function (n) {\n      // http://www.arabeyes.org/Plural_Forms\n      if (n < 3) { return n; }\n      var lastTwo = n % 100;\n      if (lastTwo >= 3 && lastTwo <= 10) return 3;\n      return lastTwo >= 11 ? 4 : 5;\n    },\n    bosnian_serbian: russianPluralGroups,\n    chinese: function () { return 0; },\n    croatian: russianPluralGroups,\n    french: function (n) { return n >= 2 ? 1 : 0; },\n    german: function (n) { return n !== 1 ? 1 : 0; },\n    russian: russianPluralGroups,\n    lithuanian: function (n) {\n      if (n % 10 === 1 && n % 100 !== 11) { return 0; }\n      return n % 10 >= 2 && n % 10 <= 9 && (n % 100 < 11 || n % 100 > 19) ? 1 : 2;\n    },\n    czech: function (n) {\n      if (n === 1) { return 0; }\n      return (n >= 2 && n <= 4) ? 1 : 2;\n    },\n    polish: function (n) {\n      if (n === 1) { return 0; }\n      var end = n % 10;\n      return 2 <= end && end <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2;\n    },\n    icelandic: function (n) { return (n % 10 !== 1 || n % 100 === 11) ? 1 : 0; },\n    slovenian: function (n) {\n      var lastTwo = n % 100;\n      if (lastTwo === 1) {\n        return 0;\n      }\n      if (lastTwo === 2) {\n        return 1;\n      }\n      if (lastTwo === 3 || lastTwo === 4) {\n        return 2;\n      }\n      return 3;\n    },\n    romanian: function (n) {\n      if (n === 1) { return 0; }\n      var lastTwo = n % 100;\n      if (n === 0 || (lastTwo >= 2 && lastTwo <= 19)) { return 1; }\n      return 2;\n    },\n    ukrainian: russianPluralGroups\n  },\n\n  // Mapping from pluralization group to individual language codes/locales.\n  // Will look up based on exact match, if not found and it's a locale will parse the locale\n  // for language code, and if that does not exist will default to 'en'\n  pluralTypeToLanguages: {\n    arabic: ['ar'],\n    bosnian_serbian: ['bs-Latn-BA', 'bs-Cyrl-BA', 'srl-RS', 'sr-RS'],\n    chinese: ['id', 'id-ID', 'ja', 'ko', 'ko-KR', 'lo', 'ms', 'th', 'th-TH', 'zh'],\n    croatian: ['hr', 'hr-HR'],\n    german: ['fa', 'da', 'de', 'en', 'es', 'fi', 'el', 'he', 'hi-IN', 'hu', 'hu-HU', 'it', 'nl', 'no', 'pt', 'sv', 'tr'],\n    french: ['fr', 'tl', 'pt-br'],\n    russian: ['ru', 'ru-RU'],\n    lithuanian: ['lt'],\n    czech: ['cs', 'cs-CZ', 'sk'],\n    polish: ['pl'],\n    icelandic: ['is', 'mk'],\n    slovenian: ['sl-SL'],\n    romanian: ['ro'],\n    ukrainian: ['uk', 'ua']\n  }\n};\n\nfunction langToTypeMap(mapping) {\n  var ret = {};\n  var mappingEntries = entries(mapping);\n  for (var i = 0; i < mappingEntries.length; i += 1) {\n    var type = mappingEntries[i][0];\n    var langs = mappingEntries[i][1];\n    for (var j = 0; j < langs.length; j += 1) {\n      ret[langs[j]] = type;\n    }\n  }\n  return ret;\n}\n\nfunction pluralTypeName(pluralRules, locale) {\n  var langToPluralType = langToTypeMap(pluralRules.pluralTypeToLanguages);\n  return langToPluralType[locale]\n    || langToPluralType[split.call(locale, /-/, 1)[0]]\n    || langToPluralType.en;\n}\n\nfunction pluralTypeIndex(pluralRules, pluralType, count) {\n  return pluralRules.pluralTypes[pluralType](count);\n}\n\nfunction createMemoizedPluralTypeNameSelector() {\n  var localePluralTypeStorage = {};\n\n  return function (pluralRules, locale) {\n    var pluralType = localePluralTypeStorage[locale];\n\n    if (pluralType && !pluralRules.pluralTypes[pluralType]) {\n      pluralType = null;\n      localePluralTypeStorage[locale] = pluralType;\n    }\n\n    if (!pluralType) {\n      pluralType = pluralTypeName(pluralRules, locale);\n\n      if (pluralType) {\n        localePluralTypeStorage[locale] = pluralType;\n      }\n    }\n\n    return pluralType;\n  };\n}\n\nfunction escape(token) {\n  return token.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n\nfunction constructTokenRegex(opts) {\n  var prefix = (opts && opts.prefix) || '%{';\n  var suffix = (opts && opts.suffix) || '}';\n\n  if (prefix === delimiter || suffix === delimiter) {\n    throw new RangeError('\"' + delimiter + '\" token is reserved for pluralization');\n  }\n\n  return new RegExp(escape(prefix) + '(.*?)' + escape(suffix), 'g');\n}\n\nvar memoizedPluralTypeName = createMemoizedPluralTypeNameSelector();\n\nvar defaultTokenRegex = /%\\{(.*?)\\}/g;\n\n// ### transformPhrase(phrase, substitutions, locale)\n//\n// Takes a phrase string and transforms it by choosing the correct\n// plural form and interpolating it.\n//\n//     transformPhrase('Hello, %{name}!', {name: 'Spike'});\n//     // \"Hello, Spike!\"\n//\n// The correct plural form is selected if substitutions.smart_count\n// is set. You can pass in a number instead of an Object as `substitutions`\n// as a shortcut for `smart_count`.\n//\n//     transformPhrase('%{smart_count} new messages |||| 1 new message', {smart_count: 1}, 'en');\n//     // \"1 new message\"\n//\n//     transformPhrase('%{smart_count} new messages |||| 1 new message', {smart_count: 2}, 'en');\n//     // \"2 new messages\"\n//\n//     transformPhrase('%{smart_count} new messages |||| 1 new message', 5, 'en');\n//     // \"5 new messages\"\n//\n// You should pass in a third argument, the locale, to specify the correct plural type.\n// It defaults to `'en'` with 2 plural forms.\nfunction transformPhrase(\n  phrase,\n  substitutions,\n  locale,\n  tokenRegex,\n  pluralRules,\n  replaceImplementation\n) {\n  if (typeof phrase !== 'string') {\n    throw new TypeError('Polyglot.transformPhrase expects argument #1 to be string');\n  }\n\n  if (substitutions == null) {\n    return phrase;\n  }\n\n  var result = phrase;\n  var interpolationRegex = tokenRegex || defaultTokenRegex;\n  var replace = replaceImplementation || defaultReplace;\n\n  // allow number as a pluralization shortcut\n  var options = typeof substitutions === 'number' ? { smart_count: substitutions } : substitutions;\n\n  // Select plural form: based on a phrase text that contains `n`\n  // plural forms separated by `delimiter`, a `locale`, and a `substitutions.smart_count`,\n  // choose the correct plural form. This is only done if `count` is set.\n  if (options.smart_count != null && phrase) {\n    var pluralRulesOrDefault = pluralRules || defaultPluralRules;\n    var texts = split.call(phrase, delimiter);\n    var bestLocale = locale || 'en';\n    var pluralType = memoizedPluralTypeName(pluralRulesOrDefault, bestLocale);\n    var pluralTypeWithCount = pluralTypeIndex(\n      pluralRulesOrDefault,\n      pluralType,\n      options.smart_count\n    );\n\n    result = defaultReplace.call(texts[pluralTypeWithCount] || texts[0], /^[^\\S]*|[^\\S]*$/g, '');\n  }\n\n  // Interpolate: Creates a `RegExp` object for each interpolation placeholder.\n  result = replace.call(result, interpolationRegex, function (expression, argument) {\n    if (!has(options, argument) || options[argument] == null) { return expression; }\n    return options[argument];\n  });\n\n  return result;\n}\n\n// ### Polyglot class constructor\nfunction Polyglot(options) {\n  var opts = options || {};\n  this.phrases = {};\n  this.extend(opts.phrases || {});\n  this.currentLocale = opts.locale || 'en';\n  var allowMissing = opts.allowMissing ? transformPhrase : null;\n  this.onMissingKey = typeof opts.onMissingKey === 'function' ? opts.onMissingKey : allowMissing;\n  this.warn = opts.warn || warn;\n  this.replaceImplementation = opts.replace || defaultReplace;\n  this.tokenRegex = constructTokenRegex(opts.interpolation);\n  this.pluralRules = opts.pluralRules || defaultPluralRules;\n}\n\n// ### polyglot.locale([locale])\n//\n// Get or set locale. Internally, Polyglot only uses locale for pluralization.\nPolyglot.prototype.locale = function (newLocale) {\n  if (newLocale) this.currentLocale = newLocale;\n  return this.currentLocale;\n};\n\n// ### polyglot.extend(phrases)\n//\n// Use `extend` to tell Polyglot how to translate a given key.\n//\n//     polyglot.extend({\n//       \"hello\": \"Hello\",\n//       \"hello_name\": \"Hello, %{name}\"\n//     });\n//\n// The key can be any string.  Feel free to call `extend` multiple times;\n// it will override any phrases with the same key, but leave existing phrases\n// untouched.\n//\n// It is also possible to pass nested phrase objects, which get flattened\n// into an object with the nested keys concatenated using dot notation.\n//\n//     polyglot.extend({\n//       \"nav\": {\n//         \"hello\": \"Hello\",\n//         \"hello_name\": \"Hello, %{name}\",\n//         \"sidebar\": {\n//           \"welcome\": \"Welcome\"\n//         }\n//       }\n//     });\n//\n//     console.log(polyglot.phrases);\n//     // {\n//     //   'nav.hello': 'Hello',\n//     //   'nav.hello_name': 'Hello, %{name}',\n//     //   'nav.sidebar.welcome': 'Welcome'\n//     // }\n//\n// `extend` accepts an optional second argument, `prefix`, which can be used\n// to prefix every key in the phrases object with some string, using dot\n// notation.\n//\n//     polyglot.extend({\n//       \"hello\": \"Hello\",\n//       \"hello_name\": \"Hello, %{name}\"\n//     }, \"nav\");\n//\n//     console.log(polyglot.phrases);\n//     // {\n//     //   'nav.hello': 'Hello',\n//     //   'nav.hello_name': 'Hello, %{name}'\n//     // }\n//\n// This feature is used internally to support nested phrase objects.\nPolyglot.prototype.extend = function (morePhrases, prefix) {\n  var phraseEntries = entries(morePhrases || {});\n  for (var i = 0; i < phraseEntries.length; i += 1) {\n    var key = phraseEntries[i][0];\n    var phrase = phraseEntries[i][1];\n    var prefixedKey = prefix ? prefix + '.' + key : key;\n    if (typeof phrase === 'object') {\n      this.extend(phrase, prefixedKey);\n    } else {\n      this.phrases[prefixedKey] = phrase;\n    }\n  }\n};\n\n// ### polyglot.unset(phrases)\n// Use `unset` to selectively remove keys from a polyglot instance.\n//\n//     polyglot.unset(\"some_key\");\n//     polyglot.unset({\n//       \"hello\": \"Hello\",\n//       \"hello_name\": \"Hello, %{name}\"\n//     });\n//\n// The unset method can take either a string (for the key), or an object hash with\n// the keys that you would like to unset.\nPolyglot.prototype.unset = function (morePhrases, prefix) {\n  if (typeof morePhrases === 'string') {\n    delete this.phrases[morePhrases];\n  } else {\n    var phraseEntries = entries(morePhrases || {});\n    for (var i = 0; i < phraseEntries.length; i += 1) {\n      var key = phraseEntries[i][0];\n      var phrase = phraseEntries[i][1];\n      var prefixedKey = prefix ? prefix + '.' + key : key;\n      if (typeof phrase === 'object') {\n        this.unset(phrase, prefixedKey);\n      } else {\n        delete this.phrases[prefixedKey];\n      }\n    }\n  }\n};\n\n// ### polyglot.clear()\n//\n// Clears all phrases. Useful for special cases, such as freeing\n// up memory if you have lots of phrases but no longer need to\n// perform any translation. Also used internally by `replace`.\nPolyglot.prototype.clear = function () {\n  this.phrases = {};\n};\n\n// ### polyglot.replace(phrases)\n//\n// Completely replace the existing phrases with a new set of phrases.\n// Normally, just use `extend` to add more phrases, but under certain\n// circumstances, you may want to make sure no old phrases are lying around.\nPolyglot.prototype.replace = function (newPhrases) {\n  this.clear();\n  this.extend(newPhrases);\n};\n\n// ### polyglot.t(key, options)\n//\n// The most-used method. Provide a key, and `t` will return the\n// phrase.\n//\n//     polyglot.t(\"hello\");\n//     => \"Hello\"\n//\n// The phrase value is provided first by a call to `polyglot.extend()` or\n// `polyglot.replace()`.\n//\n// Pass in an object as the second argument to perform interpolation.\n//\n//     polyglot.t(\"hello_name\", {name: \"Spike\"});\n//     => \"Hello, Spike\"\n//\n// If you like, you can provide a default value in case the phrase is missing.\n// Use the special option key \"_\" to specify a default.\n//\n//     polyglot.t(\"i_like_to_write_in_language\", {\n//       _: \"I like to write in %{language}.\",\n//       language: \"JavaScript\"\n//     });\n//     => \"I like to write in JavaScript.\"\n//\nPolyglot.prototype.t = function (key, options) {\n  var phrase, result;\n  var opts = options == null ? {} : options;\n  if (typeof this.phrases[key] === 'string') {\n    phrase = this.phrases[key];\n  } else if (typeof opts._ === 'string') {\n    phrase = opts._;\n  } else if (this.onMissingKey) {\n    var onMissingKey = this.onMissingKey;\n    result = onMissingKey(\n      key,\n      opts,\n      this.currentLocale,\n      this.tokenRegex,\n      this.pluralRules,\n      this.replaceImplementation\n    );\n  } else {\n    this.warn('Missing translation for key: \"' + key + '\"');\n    result = key;\n  }\n  if (typeof phrase === 'string') {\n    result = transformPhrase(\n      phrase,\n      opts,\n      this.currentLocale,\n      this.tokenRegex,\n      this.pluralRules,\n      this.replaceImplementation\n    );\n  }\n  return result;\n};\n\n// ### polyglot.has(key)\n//\n// Check if polyglot has a translation for given key\nPolyglot.prototype.has = function (key) {\n  return has(this.phrases, key);\n};\n\n// export transformPhrase\nPolyglot.transformPhrase = function transform(phrase, substitutions, locale) {\n  return transformPhrase(phrase, substitutions, locale);\n};\n\nmodule.exports = Polyglot;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport Polyglot from 'node-polyglot';\n/**\n * Build a polyglot-based i18nProvider based on a function returning the messages for a locale\n *\n * @example\n *\n * import { Admin, Resource } from 'react-admin';\n * import polyglotI18nProvider from 'ra-i18n-polyglot';\n * import englishMessages from 'ra-language-english';\n * import frenchMessages from 'ra-language-french';\n *\n * const messages = {\n *     fr: frenchMessages,\n *     en: englishMessages,\n * };\n * const i18nProvider = polyglotI18nProvider(\n *     locale => messages[locale],\n *     'en',\n *     [{ locale: 'en', name: 'English' }, { locale: 'fr', name: 'Franais' }]\n * )\n */\nexport default (function (getMessages, initialLocale, availableLocales, polyglotOptions) {\n    if (initialLocale === void 0) { initialLocale = 'en'; }\n    if (availableLocales === void 0) { availableLocales = [{ locale: 'en', name: 'English' }]; }\n    if (polyglotOptions === void 0) { polyglotOptions = {}; }\n    var locale = initialLocale;\n    var messages = getMessages(initialLocale);\n    if (messages instanceof Promise) {\n        throw new Error(\"The i18nProvider returned a Promise for the messages of the default locale (\".concat(initialLocale, \"). Please update your i18nProvider to return the messages of the default locale in a synchronous way.\"));\n    }\n    var availableLocalesFinal, polyglotOptionsFinal;\n    if (Array.isArray(availableLocales)) {\n        // third argument is an array of locales\n        availableLocalesFinal = availableLocales;\n        polyglotOptionsFinal = polyglotOptions;\n    }\n    else {\n        // third argument is the polyglotOptions\n        availableLocalesFinal = [{ locale: 'en', name: 'English' }];\n        polyglotOptionsFinal = availableLocales;\n    }\n    var polyglot = new Polyglot(__assign({ locale: locale, phrases: __assign({ '': '' }, messages) }, polyglotOptionsFinal));\n    var translate = polyglot.t.bind(polyglot);\n    return {\n        translate: function (key, options) {\n            if (options === void 0) { options = {}; }\n            return translate(key, options);\n        },\n        changeLocale: function (newLocale) {\n            // We systematically return a Promise for the messages because\n            // getMessages may return a Promise\n            return Promise.resolve(getMessages(newLocale)).then(function (messages) {\n                locale = newLocale;\n                var newPolyglot = new Polyglot(__assign({ locale: newLocale, phrases: __assign({ '': '' }, messages) }, polyglotOptions));\n                translate = newPolyglot.t.bind(newPolyglot);\n            });\n        },\n        getLocale: function () { return locale; },\n        getLocales: function () { return availableLocalesFinal; },\n    };\n});\n//# sourceMappingURL=index.js.map"],"names":["REACT_ELEMENT_TYPE","Symbol","for","REACT_FRAGMENT_TYPE","jsxProd","type","config","maybeKey","key","propName","ref","$$typeof","props","__name","reactJsxRuntime_production","Fragment","jsx","jsxs","jsxRuntimeModule","exports","require$$0","AuthContext","createContext","displayName","defaultAuthParams","useAuthProvider","useContext","Subscribable","_a","constructor","this","listeners","Set","subscribe","bind","listener","add","onSubscribe","delete","onUnsubscribe","hasListeners","size","defaultTimeoutProvider","setTimeout","callback","delay","clearTimeout","timeoutId","setInterval","clearInterval","intervalId","timeoutManager","_b","__privateAdd","_provider","_providerCalled","setTimeoutProvider","provider","__privateSet","__privateGet","WeakMap","systemSetTimeoutZero","isServer","window","globalThis","noop","functionalUpdate","updater","input","isValidTimeout","value","Infinity","timeUntilStale","updatedAt","staleTime","Math","max","Date","now","resolveStaleTime","query","resolveEnabled","enabled","matchQuery","filters","exact","fetchStatus","predicate","queryKey","stale","queryHash","hashQueryKeyByOptions","options","partialMatchKey","isActive","isStale","state","matchMutation","mutation","status","mutationKey","hashKey","queryKeyHashFn","JSON","stringify","_","val","isPlainObject","Object","keys","sort","reduce","result","a","b","every","hasOwn","prototype","hasOwnProperty","replaceEqualDeep","array","isPlainArray","aSize","length","bItems","bSize","copy","Array","equalItems","i","aItem","bItem","call","v","shallowEqualObjects","isArray","o","hasObjectPrototype","ctor","prot","getPrototypeOf","toString","sleep","timeout","Promise","resolve","replaceData","prevData","data","structuralSharing","keepPreviousData","previousData","addToEnd","items","item","newItems","slice","addToStart","skipToken","ensureQueryFn","fetchOptions","queryFn","initialPromise","reject","Error","shouldThrowError","throwOnError","params","focusManager","_c","super","_focused","_cleanup","_setup","onFocus","addEventListener","removeEventListener","setEventListener","setup","focused","setFocused","isFocused","forEach","document","visibilityState","pendingThenable","thenable","_resolve","_reject","finalize","assign","catch","reason","defaultScheduler","createNotifyManager","queue","transactions","notifyFn","batchNotifyFn","scheduleFn","schedule","push","flush","originalQueue","batch","batchCalls","args","setNotifyFunction","fn","setBatchNotifyFunction","setScheduler","notifyManager","onlineManager","_d","_online","onOnline","onlineListener","offlineListener","setOnline","online","isOnline","defaultRetryDelay","failureCount","min","canFetch","networkMode","CancelledError","_e","revert","silent","createRetryer","continueFn","isRetryCancelled","isResolved","cancel","cancelOptions","error","onCancel","cancelRetry","continueRetry","canContinue","canRun","canStart","pause","continueResolve","onPause","then","onContinue","run","promiseOrValue","retry","retryDelay","shouldRetry","onFail","promise","continue","start","Removable","_f","_gcTimeout","destroy","clearGcTimeout","scheduleGc","gcTime","optionalRemove","updateGcTime","newGcTime","Query","_g","__this_instances","_initialState","_revertState","_cache","_client","_retryer","_defaultOptions","_abortSignalConsumed","defaultOptions","setOptions","observers","client","getQueryCache","getDefaultState","meta","defaultState","setState","successState","dataUpdatedAt","remove","setData","newData","__privateMethod","manual","setStateOptions","reset","some","observer","isDisabled","getObserversCount","dataUpdateCount","errorUpdateCount","isStatic","getCurrentResult","isInvalidated","isStaleByTime","find","x","shouldFetchOnWindowFocus","refetch","cancelRefetch","shouldFetchOnReconnect","addObserver","includes","notify","removeObserver","filter","invalidate","dispatch_fn","fetch","abortController","AbortController","addSignalProperty","object","defineProperty","enumerable","get","signal","fetchFn","queryFnContext","queryFnContext2","createQueryFnContext","persister","context","context2","createFetchContext","behavior","onFetch","fetchMeta","abort","onSuccess","onSettled","onError","WeakSet","action","reducer","fetchFailureCount","fetchFailureReason","fetchState","newState","errorUpdatedAt","onQueryUpdate","initialData","hasData","initialDataUpdatedAt","QueryObserver","_h","_currentQuery","_currentQueryInitialState","_currentResult","_currentResultState","_currentResultOptions","_currentThenable","_selectError","_selectFn","_selectResult","_lastQueryWithDefinedData","_staleTimeoutId","_refetchIntervalId","_currentRefetchInterval","_trackedProps","bindMethods","shouldFetchOnMount","executeFetch_fn","updateResult","updateTimers_fn","shouldFetchOn","refetchOnReconnect","refetchOnWindowFocus","clearStaleTimeout_fn","clearRefetchInterval_fn","prevOptions","prevQuery","defaultQueryOptions","updateQuery_fn","_defaulted","mounted","shouldFetchOptionally","updateStaleTimeout_fn","nextRefetchInterval","computeRefetchInterval_fn","updateRefetchInterval_fn","getOptimisticResult","build","createResult","shouldAssignObserverCurrentProperties","trackResult","onPropTracked","Proxy","target","trackProp","experimental_prefetchInRender","Reflect","getCurrentQuery","fetchOptimistic","defaultedOptions","prevResult","prevResultState","prevResultOptions","queryInitialState","isPlaceholderData","_optimisticResults","fetchOnMount","fetchOptionally","skipSelect","placeholderData","select","selectError","isFetching","isPending","isError","isLoading","nextResult","isSuccess","isInitialLoading","failureReason","isFetched","isFetchedAfterMount","isRefetching","isLoadingError","isPaused","isRefetchError","isEnabled","finalizeThenableIfPossible","recreateThenable","pending","prevThenable","shouldNotifyListeners","notifyOnChangeProps","notifyOnChangePropsValue","includedProps","typedKey","has","notify_fn","refetchInterval","nextInterval","refetchIntervalInBackground","notifyOptions","shouldLoadOnMount","retryOnMount","refetchOnMount","field","suspense","optimisticResult","infiniteQueryBehavior","pages","direction","fetchMore","oldPages","oldPageParams","pageParams","currentPage","async","cancelled","aborted","fetchPage","param","previous","pageParam","page","maxPages","addTo","oldData","getPreviousPageParam","getNextPageParam","remainingPages","initialPageParam","lastIndex","Mutation","_i","_observers","_mutationCache","mutationId","mutationCache","variables","submittedAt","execute","mutationFnContext","mutationFn","restored","onMutate","runNext","onMutationUpdate","MutationCache","_j","_mutations","_scopes","_mutationId","Map","__privateWrapper","defaultMutationOptions","scope","scopeFor","scopedMutations","set","index","indexOf","splice","mutationsWithSameScope","firstPendingMutation","m","foundMutation","clear","getAll","from","defaultedFilters","findAll","event","resumePausedMutations","pausedMutations","all","map","id","MutationObserver","_k","_currentMutation","_mutateOptions","updateResult_fn","mutate","getMutationCache","isIdle","onMutateResult","QueryCache","_l","_queries","getQueryDefaults","queryInMap","values","queries","QueryClient","_m","_queryCache","_queryDefaults","_mutationDefaults","_mountCount","_unsubscribeFocus","_unsubscribeOnline","queryCache","mount","unmount","isMutating","getQueryData","ensureQueryData","cachedData","fetchQuery","revalidateIfStale","prefetchQuery","getQueriesData","setQueryData","setQueriesData","getQueryState","removeQueries","resetQueries","refetchQueries","cancelQueries","defaultedCancelOptions","promises","invalidateQueries","refetchType","fetchInfiniteQuery","prefetchInfiniteQuery","ensureInfiniteQueryData","getDefaultOptions","setDefaultOptions","setQueryDefaults","defaults","queryDefault","setMutationDefaults","getMutationDefaults","mutations","QueryClientContext","React.createContext","useQueryClient","queryClient","React.useContext","QueryClientProvider","children","React.useEffect","Provider","IsRestoringContext","useIsRestoring","createValue","isReset","clearReset","QueryErrorResetBoundaryContext","useQueryErrorResetBoundary","ensurePreventErrorBoundaryRetry","errorResetBoundary","useClearResetErrorBoundary","getHasError","ensureSuspenseTimers","MIN_SUSPENSE_TIME_MS","clamp","originalStaleTime","willFetch","isRestoring","shouldSuspend","useBaseQuery","Observer","_experimental_beforeQuery","isNewCacheEntry","React.useState","shouldSubscribe","subscribed","React.useSyncExternalStore","React.useCallback","onStoreChange","unsubscribe","_experimental_afterQuery","finally","useQuery","useMutation","mutateOptions","mutateAsync","localStorageAvailable","localStorage","setItem","removeItem","e","testLocalStorage","localStorageStore","version","appKey","prefix","concat","prefixLength","subscriptions","publish","onLocalStorageChange","substring","newValue","tryParse","storedVersion","getStorage","getItem","storage_1","startsWith","teardown","defaultValue","valueFromStorage","removeItems","keyPrefix","storage","publishKey","random","parse","memoryStorage","LocalStorageShim","valuesMap","String","_this","arguments","TypeError","configurable","freeGlobal","global","_freeGlobal","freeSelf","self","root","Function","_root","_Symbol","objectProto","nativeObjectToString","symToStringTag","toStringTag","getRawTag","isOwn","tag","unmasked","_getRawTag","objectToString","_objectToString","require$$1","require$$2","baseGetTag","_baseGetTag","isObject","isObject_1","isFunction","isFunction_1","coreJsData","_coreJsData","uid","maskSrcKey","exec","IE_PROTO","isMasked","func","_isMasked","funcToString","toSource","_toSource","require$$3","reIsHostCtor","funcProto","reIsNative","RegExp","replace","baseIsNative","test","_baseIsNative","getValue","_getValue","getNative","_getNative","_defineProperty","baseAssignValue","writable","_baseAssignValue","eq","other","eq_1","assignValue","objValue","_assignValue","isArray_1","isObjectLike","isObjectLike_1","isSymbol","isSymbol_1","reIsDeepProp","reIsPlainProp","isKey","_isKey","nativeCreate","_nativeCreate","hashClear","__data__","_hashClear","hashDelete","_hashDelete","hashGet","_hashGet","hashHas","_hashHas","hashSet","_hashSet","require$$4","Hash","entries","entry","_Hash","listCacheClear","_listCacheClear","assocIndexOf","_assocIndexOf","listCacheDelete","pop","_listCacheDelete","listCacheGet","_listCacheGet","listCacheHas","_listCacheHas","listCacheSet","_listCacheSet","ListCache","_ListCache","_Map","mapCacheClear","hash","string","_mapCacheClear","isKeyable","_isKeyable","getMapData","_getMapData","mapCacheDelete","_mapCacheDelete","mapCacheGet","_mapCacheGet","mapCacheHas","_mapCacheHas","mapCacheSet","_mapCacheSet","MapCache","_MapCache","memoize","resolver","memoized","apply","cache","Cache","memoize_1","memoizeCapped","_memoizeCapped","rePropName","reEscapeChar","stringToPath","charCodeAt","match","number","quote","subString","_stringToPath","arrayMap","iteratee","_arrayMap","symbolProto","symbolToString","baseToString","_baseToString","toString_1","castPath","_castPath","reIsUint","isIndex","_isIndex","toKey","_toKey","baseSet","path","customizer","nested","_baseSet","set_1","last","last_1","baseGet","_baseGet","baseSlice","end","_baseSlice","parent","_parent","baseUnset","_baseUnset","unset","unset_1","get_1","memoryStore","flatStorage","flatten","doFlatten","current","prop","isEmpty","p","defaultStore","StoreContext","StoreContextProvider","Store","useEffect","React.createElement","useStoreContext","stackClear","_stackClear","stackDelete","_stackDelete","stackGet","_stackGet","stackHas","_stackHas","stackSet","pairs","LARGE_ARRAY_SIZE","_stackSet","require$$5","Stack","_Stack","setCacheAdd","_setCacheAdd","setCacheHas","_setCacheHas","SetCache","_SetCache","arraySome","_arraySome","cacheHas","_cacheHas","equalArrays","bitmask","equalFunc","stack","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","_equalArrays","Uint8Array","_Uint8Array","mapToArray","_mapToArray","setToArray","_setToArray","symbolValueOf","valueOf","equalByTag","byteLength","byteOffset","buffer","name","message","convert","stacked","_equalByTag","arrayPush","offset","_arrayPush","baseGetAllKeys","keysFunc","symbolsFunc","_baseGetAllKeys","arrayFilter","resIndex","_arrayFilter","stubArray","stubArray_1","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","_getSymbols","symbol","baseTimes","n","_baseTimes","baseIsArguments","_baseIsArguments","isArguments","isArguments_1","stubFalse","stubFalse_1","freeExports","nodeType","freeModule","module","Buffer","isBuffer","isLength","isLength_1","typedArrayTags","baseIsTypedArray","_baseIsTypedArray","baseUnary","_baseUnary","freeProcess","process","nodeUtil","types","require","binding","nodeIsTypedArray","isTypedArray","isTypedArray_1","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","_arrayLikeKeys","isPrototype","Ctor","_isPrototype","overArg","transform","arg","_overArg","nativeKeys","_nativeKeys","baseKeys","_baseKeys","isArrayLike","isArrayLike_1","keys_1","getSymbols","getAllKeys","_getAllKeys","equalObjects","objProps","objLength","objStacked","skipCtor","objCtor","othCtor","_equalObjects","DataView","_DataView","_Promise","_Set","_WeakMap","require$$6","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ArrayBuffer","ctorString","_getTag","require$$7","argsTag","arrayTag","objectTag","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","_baseIsEqualDeep","baseIsEqual","_baseIsEqual","isEqual","isEqual_1","substituteTokens","template","defaultTokenRegex","expression","argument","defaultI18nProvider","translate","changeLocale","getLocale","I18nContext","AddNotificationContext","CloseNotificationContext","NotificationContext","notifications","addNotification","takeNotification","resetNotifications","setNotifications","__spreadArray","to","pack","ar","l","NotificationContextProvider","useState","useCallback","notification","rest","contextValue","useMemo","useAddNotificationContext","useNotificationContext","useNotify","messageType","notificationOptions","s","t","__rest","I18nContextProvider","defaulti18nContext","locale","useStore","setKey","isInitialized","setInitialized","useI18nProvider","useTranslate","i18nProvider","identity","__assign","Translate","i18nKey","translatedMessage","React","createElement","assignMergeValue","_assignMergeValue","createBaseFor","fromRight","iterable","_createBaseFor","baseFor","_baseFor","allocUnsafe","cloneBuffer","isDeep","cloneArrayBuffer","arrayBuffer","_cloneArrayBuffer","cloneTypedArray","typedArray","_cloneTypedArray","copyArray","source","_copyArray","objectCreate","create","_baseCreate","proto","getPrototype","_getPrototype","baseCreate","initCloneObject","_initCloneObject","isArrayLikeObject","isArrayLikeObject_1","objectCtorString","isPlainObject_1","safeGet","_safeGet","copyObject","isNew","_copyObject","nativeKeysIn","_nativeKeysIn","baseKeysIn","isProto","_baseKeysIn","keysIn","keysIn_1","toPlainObject","toPlainObject_1","require$$8","require$$9","require$$10","require$$11","require$$12","require$$13","require$$14","baseMergeDeep","srcIndex","mergeFunc","srcValue","isCommon","isTyped","_baseMergeDeep","baseMerge","_baseMerge","identity_1","thisArg","_apply","nativeMax","overRest","otherArgs","_overRest","constant","constant_1","_baseSetToString","nativeNow","shortOut","count","lastCalled","stamp","remaining","_shortOut","baseSetToString","setToString","_setToString","baseRest","_baseRest","isIterateeCall","_isIterateeCall","createAssigner","assigner","sources","guard","_createAssigner","merge","merge_1","mergeTranslations","translationsModules","useLocaleState","useLocales","getLocales","useResourceTranslation","resourceI18nKey","baseI18nKey","userText","arrayEach","_arrayEach","baseAssign","_baseAssign","baseAssignIn","_baseAssignIn","copySymbols","_copySymbols","_getSymbolsIn","getSymbolsIn","copySymbolsIn","_copySymbolsIn","getAllKeysIn","_getAllKeysIn","initCloneArray","_initCloneArray","cloneDataView","dataView","_cloneDataView","reFlags","cloneRegExp","regexp","_cloneRegExp","cloneSymbol","_cloneSymbol","initCloneByTag","_initCloneByTag","baseIsMap","_baseIsMap","nodeIsMap","isMap","isMap_1","baseIsSet","_baseIsSet","nodeIsSet","isSet","isSet_1","require$$15","require$$16","require$$17","require$$18","require$$19","require$$20","require$$21","funcTag","cloneableTags","baseClone","isFlat","isFull","isFunc","subValue","_baseClone","cloneDeep","CLONE_DEEP_FLAG","cloneDeep_1","BasenameContext","BasenameContextProvider","basename","AdminRouter","isInRouter","useInRouterContext","Router","DummyRouter","InternalRouter","React.Fragment","routerProviderFuture","v7_startTransition","v7_relativeSplatPath","router","createHashRouter","element","future","v7_fetcherPersist","v7_normalizeFormMethod","v7_partialHydration","v7_skipActionErrorRevalidation","RouterProvider","now_1","reWhitespace","trimmedEndIndex","charAt","_trimmedEndIndex","reTrimStart","baseTrim","_baseTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","toNumber","isBinary","toNumber_1","nativeMin","debounce","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","leadingEdge","timerExpired","remainingWait","timeWaiting","shouldInvoke","timeSinceLastCall","trailingEdge","debounced","isInvoking","debounce_1","useRestoreScrollPosition","storeKey","debounceMs","useTrackScrollPosition","position","setPosition","location","useLocation","_scrollToTop","scrollTo","handleScroll","scrollY","RestoreScrollPosition","useBasename","useCreatePath","resource","removeDoubleSlashes","encodeURIComponent","ResourceContext","useResourceContext","RecordContext","RecordContextProvider","useRecordContext","record","useGetPathForRecord","link","resourceDefinition","useResourceDefinition","createPath","setPath","canAccessShow","useCanAccess","hasShow","canAccess","canAccessEdit","hasEdit","linkResult","resolvedPath","ResourceDefinitionContext","definitions","register","unregister","ResourceDefinitionContextProvider","defaultDefinitions","prev","useResourceDefinitionContext","useResourceDefinitions","useCanAccessCallback","authProvider","_arguments","P","generator","adopt","fulfilled","step","next","rejected","done","__awaiter","body","f","y","label","sent","trys","ops","g","Iterator","verb","iterator","op","__generator","useGetPathForRecordCallback","resourceDefinitions","finalResource","resolvedLink","isPromise","useRedirect","navigate","useNavigate","redirectTo","absoluteTarget","pathname","href","useResetErrorBoundaryOnLocationChange","resetErrorBoundary","originalPathname","useRef","useScrollToTop","fetchActionsWithRecordResponse","fetchActionsWithArrayOfIdentifiedRecordsResponse","fetchActionsWithArrayOfRecordsResponse","fetchActionsWithTotalResponse","defaultDataProvider","deleteMany","getList","total","getMany","getManyReference","getOne","update","updateMany","fetchMap","convertLegacyDataProvider","legacyDataProvider","fetchType","__","DataProviderContext","__extends","extendStatics","d","setPrototypeOf","__proto__","HttpError","_super","captureStackTrace","strictUriEncode","str","toUpperCase","token","singleMatcher","multiMatcher","decodeComponents","components","split","decodeURIComponent","join","err","left","right","decode","tokens","customDecodeURIComponent","replaceMap","decodeUriComponent","encodedURI","splitOnFirst","separator","separatorIndex","filterObj","obj","ret","decodeComponent","filterObject","isNullOrUndefined","encodeFragmentIdentifier","encoderForArrayFormat","arrayFormat","skipNull","skipEmptyString","encode","keyValueSep","arrayFormatSeparator","parserForArrayFormat","accumulator","isEncodedArray","arrayValue","validateArrayFormatSeparator","strict","keysSorter","Number","removeHash","hashStart","getHash","url","extract","queryStart","parseValue","parseNumbers","isNaN","trim","parseBooleans","toLowerCase","formatter","k","Boolean","shouldFilter","objectCopy","parseUrl","url_","parseFragmentIdentifier","fragmentIdentifier","stringifyUrl","queryFromUrl","parsedQueryFromUrl","queryString","pick","exclude","exclusionFilter","createHeadersFromOptions","requestHeaders","headers","Headers","Accept","hasBody","isContentTypeSet","isGetMethod","method","isFormData","FormData","user","authenticated","fetchJson","response","text","statusText","json","isValidObject","hasKeys","flattenObject","withLifecycleCallbacks","dataProvider","handlers","newParams","applyCallbacks","records","h","afterSave","ids","handlersToApply","handlersToApply_1","handler","callbacksValue","logger","console","timer","useLogoutIfAccessDenied","logout","useLogout","handleRedirect","errorFromCheckAuth","errorFromCheckError_1","logoutUser","logoutIfAccessDeniedWithoutProvider","checkError","checkAuth","getErrorMessage","defaultMessage","populateQueryCache","recordIds","arrayReturnTypes","useDataProvider","logoutIfAccessDenied","dataProviderProxy","supportAbortSignal","prefetched","loggedOut","useLoading","mountedRef","isFetchingRef","isMutatingRef","setIsLoading","unsubscribeQueryCache","unsubscribeMutationCache","useRefresh","useGetOne","queryOptions","onSuccessEvent","useEvent","onErrorEvent","onSettledEvent","queryParams","useGetList","pagination","perPage","order","pageInfo","metaValue","resourceValue","oldRecord","useGetMany","spreadableSymbol","isConcatSpreadable","isFlattenable","_isFlattenable","baseFlatten","depth","isStrict","_baseFlatten","baseFindIndex","fromIndex","_baseFindIndex","baseIsNaN","_baseIsNaN","strictIndexOf","_strictIndexOf","baseIndexOf","_baseIndexOf","arrayIncludes","_arrayIncludes","arrayIncludesWith","comparator","_arrayIncludesWith","noop_1","createSet","_createSet","baseUniq","outer","computed","seenIndex","_baseUniq","union","arrays","union_1","useGetManyAggregate","callGetManyQueries","capturedArgs","calls","callsByResourceAndMeta","acc","callArgs","callsForResource","uniqueResource","aggregatedIds","uniqueMeta","callThatHasAllAggregatedIds","dataProvider_1","resource_1","useGetManyReference","is","shallowEqual","objA","objB","keysA","keysB","removeEmpty","child","removeKey","deepRemoveKey","paths","deepKey","deep","SET_SORT","SORT_ASC","SORT_DESC","SET_PAGE","SET_PER_PAGE","SET_FILTER","SHOW_FILTER","HIDE_FILTER","oppositeOrder","queryReducer","previousState","payload","displayedFilters","filterName","sortReducer","defaultSort","useSortState","initialSort","useReducer","dispatch","isFirstRender","setSort","setSortField","setSortOrder","paginationReducer","prevState","nextState","defaultPagination","usePaginationState","initialPagination","setPagination","setPerPage","setPage","AddUndoableMutationContext","useAddUndoableMutation","useMutationWithMutationMode","addUndoableMutation","mutationMode","getMutateWithMiddlewares","updateCache","getQueryKeys","onUndo","mutationOptions","mutationFnEvent","updateCacheEvent","getQueryKeysEvent","getSnapshotEvent","queryKeys","onUndoEvent","getMutateWithMiddlewaresEvent","mode","paramsRef","snapshot","mutateWithMiddlewares","callTimeOnError","callTimeOnSettled","hasCallTimeOnSuccess","userContext","args_1","callTimeParams","callTimeOptions","returnPromise","otherCallTimeOptions","isUndo","mutationResult","useDelete","updateColl","old","findIndex","res","newCollection","coll","callTimeResource","useRecordSelection","disableSyncWithStore","finalStoreKey","defaultIds","localSelectionStore","setLocalSelectionStore","selectionStore","setSelectionStore","defaultStoreKeys","storeKeys","setStoreKeys","setStore","idsToSelect","unselect","idsToRemove","fromAllStoreKeys","toggle","clearSelection","useUnselect","useDeleteController","redirect","successMessage","mutationMeta","otherMutationOptions","messageArgs","smart_count","undoable","deleteOne","handleDelete","useDeleteWithUndoController","onClick","controllerHandleDelete","stopPropagation","useDeleteMany","ListContext","useListContext","useBulkDeleteController","refresh","selectedIds","onUnselectItems","useUpdate","dataProviderUpdate","clonedData","previousRecord","mutateWithMiddlewares_1","SaveContext","SaveContextProvider","basePickBy","_basePickBy","baseHasIn","_baseHasIn","hasPath","hasFunc","_hasPath","hasIn","hasIn_1","basePick","_basePick","flatten_1","flatRest","_flatRest","pick_1","usePickSaveContext","save","saving","registerMutationMiddleware","unregisterMutationMiddleware","useSaveContext","_props","useMutationMiddlewares","callbacks","cb","currentCallbacks","newArgs","useCreateController","disableAuthentication","isPendingAuthenticated","useAuthenticated","isPendingCanAccess","useRequireAccess","finalRedirectTo","getDefaultRedirectRoute","useCreate","validationErrors","errors","onSuccessFromSave","onErrorFromSave","transformFromSave","metaFromSave","error_1","getResourceLabel","useGetResourceLabel","defaultTitle","CreateContext","CreateContextProvider","CreateBase","render","loading","authLoading","controllerProps","isAuthPending","useIsAuthPending","showAuthLoading","OptionalResourceContextProvider","useEditController","propsId","DefaultRedirect","redirectOnError","DefaultRedirectOnError","getRecordRepresentation","useGetRecordRepresentation","routeId","useParams","queryMeta","otherQueryOptions","recordRepresentation","recordCached","WithRecord","empty","OptionalRecordContextProvider","RecordRepresentation","EditContext","EditContextProvider","EditBase","offline","hasError","errorState","showLoading","showOffline","showError","useEditContext","ReferenceFieldContext","ReferenceFieldContextProvider","useReferenceFieldContext","useReference","reference","referenceRecord","useReferenceFieldController","useFieldValue","referenceRecordQuery","ReferenceFieldBase","controllerError","shouldRenderLoading","shouldRenderOffline","shouldRenderError","shouldRenderEmpty","ResourceContextProvider","useReferenceManyFieldController","defaultFilter","initialPage","initialPerPage","setSortState","selectionModifiers","filterRef","setDisplayedFilters","filterValues","setFilterValues","hideFilter","showFilter","debouncedSetFilters","lodashDebounce","setFilters","recordValue","responseMeta","onSelectAll","results","allIds","limit","onSelect","onToggleItem","hasNextPage","hasPreviousPage","useTimeout","ms","ready","setReady","useIsMounted","isMounted","ListFilterContext","usePickFilterContext","ListSortContext","usePickSortContext","ListPaginationContext","usePickPaginationContext","ListContextProvider","ReferenceManyFieldBase","FilterContext","eol","helper","arr","isString","isNumber","num","isBoolean","bool","isDate","date","EOL","joinRows","rows","_typeof","_createClass","defineProperties","descriptor","Constructor","protoProps","staticProps","_classCallCheck","instance","Handler","_options","typeHandlers","headerPathString","isInstanceOfTypeName","handleDate","_handleDate","resultArray","_handleArray","_setHeaders","resultObject","_handleObject","castValue","_handleString","_handleNumber","_handleBoolean","checkComplex","propData","resultCheckType","check","firstElementWithoutItem","aIndex","firstResult","arrayPathString","boolean","booleanTrueString","booleanFalseString","toLocaleDateString","globalScope","typeName","escapeDelimiters","textDelimiter","rowDelimiter","forceTextDelimiter","textDelimiterRegex","escapedDelimiter","enclosingCondition","Parser","_handler","_headers","_escape","stream","_parseArray","_parseObject","lastRow","finalRows","fillGaps","col","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","row","missing","return","fileRows","fillRows","getHeaderIndex","header","fillAndPush","newRow","fill","emptyRowIndexByHeader","currentRow","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","elementHeaderIndex","fillTopRow","_checkRows","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","mainPathItem","includeHeaders","unshift","endOfLine","horizontalRows","undefinedString","verticalOutput","rename","mapHeaders","csv","_Transform","Stream","dist","DEFAULT_OPTIONS","userOptions","any","_arguments2","_any","defaultKeys","objectKeys","isOptions","parser","downloadCSV","filename","fakeLink","style","display","appendChild","blob","Blob","navigator","msSaveOrOpenBlob","setAttribute","URL","createObjectURL","click","defaultExporter","jsonExport","getRelatedIds","fetchRelatedRecords","post","useListParams","disableSyncWithLocation","filterDefaultValues","defaultParams","localParams","setLocalParams","setParams","tempParams","requestSignature","search","queryFromLocation","parseQueryFromLocation","getQuery","changeParams","newPage","newPerPage","emptyObject","displayedFilterValues","parseObject","hasCustomParams","getNumberOrDefault","possibleNumber","parsedNumber","useSelectAll","handleSelectAll","useListController","exporter","isValidElement","queryModifiers","totalPages","ceil","currentSort","injectedProps","sanitizeListRestProps","ListBase","emptyWhileLoading","showEmptyWhileLoading","showEmpty","propsIndex","propsLength","defaults_1","useListContextWithProps","extractListContextProps","hasCreate","useExpanded","single","emptyArray","expandedIds","setExpandedIds","el","useExpandAll","isExpanded","id2","toggleExpandedAll","unaffectedExpandedIds","expanded_id","useFilterContext","useList","filterCallback","finalItems","setFinalItems","_o","_p","_q","_r","tempData","flattenFilterValues_1","filterValue","filteredLength","useListPaginationContext","useListSortContext","useReferenceArrayFieldController","listProps","ReferenceArrayFieldBase","sanitizeFieldRestProps","cellClassName","className","emptyText","fullWidth","headerClassName","linkType","sortable","sortBy","sortByOrder","textAlign","translateChoice","useReferenceParams","newTempParams_1","useReferenceArrayInputController","enableGetChoices","getValues","useFormContext","finalSource","useWrappedSource","useWatch","EmptyArray","referenceRecords","errorGetMany","isLoadingGetMany","isFetchingGetMany","isPausedGetMany","isPendingGetMany","isPlaceholderDataGetMany","refetchGetMany","paramsModifiers","finalReferenceRecords","isGetMatchingEnabled","matchingReferences","errorGetList","isLoadingGetList","isFetchingGetList","isPausedGetList","isPendingGetList","isPlaceholderDataGetList","refetchGetMatching","finalMatchingReferences","mergeReferences","allChoices","availableChoices","selectedChoices","isFromReference","ref1","ref2","useReferenceInputController","currentValue","possibleValuesData","isFetchingPossibleValues","isLoadingPossibleValues","isPausedPossibleValues","isPendingPossibleValues","isPlaceholderDataPossibleValues","errorPossibleValues","refetchGetList","currentReferenceRecord","refetchReference","errorReference","isLoadingReference","isFetchingReference","isPausedReference","isPendingReference","isPlaceholderDataReference","setReferenceRecord","finalData","finalTotal","finalData_1","r","ChoicesContext","ChoicesContextProvider","ReferenceInputBase","ReferenceArrayInputBase","React.Children","EMAIL_REGEX","isValidationErrorMessageWithArgs","getMessage","lodashMemoize","combine2Validators","validator1","validator2","result1","resolvedResult1","composeValidators","validators","composeSyncValidators","allValidators_1","validator","isRequired","regex","pattern","oneOfTypeMessage","list","validate","it","useGetValidationErrorMessage","useApplyInputDefaultValues","inputProps","isArrayInput","fieldArrayInputControl","disabled","resetField","formValue","isDirty","formState","dirtyFields","pathPart","numericRegex","parentPath","keepValues","FormGroupContext","useFormGroupContext","FormGroupsContext","useFormGroups","ArrayInputContext","ArrayInputBase","resourceFromProps","arraySource","formGroupName","formGroups","parentSourceContext","useSourceContext","getSource","sanitizedValidate","getValidationErrorMessage","fieldProps","useFieldArray","rules","registerField","unregisterField","sourceContext","React.useMemo","getLabel","SourceContextProvider","SourceContext","defaultContextValue","useOptionalSourceContext","useArrayInput","memo","append","fields","insert","move","prepend","swap","SimpleFormIteratorContext","DefaultGetItemDefaults","SimpleFormIteratorBase","getItemDefaults","trigger","removeField","addField","handleReorder","origin","destination","handleArrayClear","reOrder","useSimpleFormIterator","SimpleFormIteratorItemContext","SimpleFormIteratorItemBase","newIndex","sanitizeInputRestProps","afterSubmit","allowNull","alwaysOn","beforeSubmit","component","format","formatOnBlur","initializeForm","limitChoicesToValue","multiple","optionText","optionValue","setFilter","shouldUnregister","submitError","subscription","validateFields","useSimpleFormIteratorItem","useFormValues","FormDataConsumer","formData","FormDataConsumerView","matches","ArraySourceRegex","scopedFormData","useGetArrayInputNewItemDefaults","initialDefaultValue","inputs","Children","only","useShowController","ShowContext","ShowContextProvider","ShowBase","useShowContext","dataProviderCreate","TakeUndoableMutationContext","UndoableMutationsContextProvider","setMutations","addMutation","takeMutation","useTakeUndoableMutation","PreferencesEditorContext","PreferencesEditorContextProvider","setIsEnabled","editor","setEditor","preferenceKey","setPreferenceKey","title","setTitleString","titleOptions","setTitleOptions","enable","disable","setTitle","CoreAdminContext","store","finalQueryClient","finalAuthProvider","convertLegacyAuthProvider","finalDataProvider","ErrorBoundaryContext","initialState","didCatch","_ErrorBoundary","Component","getDerivedStateFromError","_this$props$onReset","_this$props","_len","_key","onReset","componentDidCatch","info","_this$props$onError","_this$props2","componentDidUpdate","prevProps","resetKeys","_this$props$onReset2","_this$props3","hasArrayChanged","fallbackRender","FallbackComponent","fallback","childToRender","ErrorBoundary","emptyParams","usePermissions","queryResult","permissions","getPermissions","fakeQueryResult","useConfigureAdminRouterFromChildren","useRoutesAndResourcesFromChildren","routesAndResources","useRegisterResources","resources","customRoutesWithLayout","customRoutesWithoutLayout","doLogout","useRoutesAndResourcesState","getRoutesAndResourceFromNodes","setRoutesAndResources","mergeRoutesAndResources","getStatus","setStatus","resolveChildFunction","childFunc","childrenFuncResult","resolvedChildren","functionChild","newRoutesAndResources","getSingleChildFunction","updateFromChildren","registerResource","definition","functionChildren","React.isValidElement","customRoutesFromFragment","raName","customRoutesElement","noLayout","HasDashboardContext","HasDashboardContextProvider","useHasDashboard","useCanAccessResources","resultWithoutAuthProvider","useFirstResourceWithListAccess","resourcesNames","hasList","NavigateToFirstResource","LoadingPage","Navigate","CoreAdminRoutes","Layout","layout","CatchAll","catchAll","dashboard","requireAuth","Ready","authenticationError","AuthenticationError","Noop","accessDenied","AccessDenied","useAuthState","Routes","Route","height","WithPermissions","authParams","LogoutOnMount","route","DefaultTitleContext","DefaultTitleContextProvider","useDefaultTitle","DefaultLayout","DefaultError","errorInfo","componentStack","CoreAdminUI","setErrorInfo","authCallbackPage","LoginCallbackPage","disableTelemetry","ErrorComponent","loginPage","LoginPage","Image","src","hostname","handleError","minHeight","createOrGetElement","CustomRoutes","REACT_PORTAL_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_CONSUMER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_VIEW_TRANSITION_TYPE","REACT_CLIENT_REFERENCE","typeOf","reactIs_production","ContextConsumer","ContextProvider","Element","ForwardRef","Lazy","Memo","Portal","Profiler","StrictMode","Suspense","SuspenseList","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","isSuspenseList","isValidElementType","getModuleId","reactIsModule","Resource","edit","show","getElement","ElementOrComponent","Element_1","icon","inflection","pluralize","singularize","inflect","camelize","underscore","humanize","capitalize","dasherize","titleize","demodulize","tableize","classify","foreignKey","ordinalize","uncountableWords","plural","men","people","tia","analyses","databases","drives","hives","curves","lrves","aves","foves","movies","aeiouyies","series","xes","mice","buses","oes","shoes","crises","octopuses","aliases","summonses","oxen","matrices","vertices","feet","teeth","geese","quizzes","whereases","criteria","genera","ss","singular","man","person","drive","ox","axis","octopus","alias","summons","bus","buffalo","tium","sis","ffe","focus","hive","aeiouyy","matrix","vertex","mouse","foot","tooth","goose","quiz","whereas","criterion","genus","common","pluralRules","singularRules","nonTitlecasedWords","idSuffix","underbar","spaceOrUnderbar","uppercase","underbarPrefix","applyRules","skip","override","toLocaleLowerCase","rule","lowFirstLetter","strPath","j","strArr","first","allUpperCase","dropIdUbar","ltd","ld","suf","transformFunctions","methodFn","useTranslateLabel","resourceFromContext","getFieldLabelTranslationArgs","defaultLabel","FieldTitle","translateLabel","FieldTitle$1","warning","condition","getSourceParts","sourceWithoutDigits","sourceSuffix","defaultLabelTranslation","getResourceFieldLabelKey","lastPartWithDigits","parts","part","onlyDigits","useLayoutEffect","React.useLayoutEffect","React.useRef","useDebouncedEvent","debouncedCallbackRef","stableCallback","setValue","storedValue","valueParam","runtimeDefaultValue","useResetStore","resetStore","navigateRef","locationRef","loginUrl","redirectFromCaller","redirectToCurrentLocationAfterLogin","redirectFromLogout","redirectToParts","newLocation","newLocationOptions","nextPathname","nextSearch","logoutOnFailure","noAuthProviderQueryResult","isEmptyChildren","Loading","staticContext","isAuthenticationPending","isPendingPermissions","useLogin","locationState","nextPathName","afterLoginUrl","pathName","login","legacyAuthProvider","restParams","authProviderHasCanAccess","recordId","emptyQueryObserverResult","CanAccess","errorElement","DEFAULT_ERROR","CanAccessDefaultError","defaultIdentity","defaultQueryParams","useGetIdentity","getIdentity","useHandleAuthCallback","handleCallbackPromise","defaultRedirectUrl","handleCallback","previousLocation","PreviousLocationStorageKey","authQueryState","canAccessQueryState","PreferenceKeyContext","PreferenceKeyContextProvider","usePreferenceKey","usePreference","usePreferencesEditor","usePreferenceInput","valueFromStore","setValueFromStore","onChange","onBlur","onKeyDown","form","elements","preventDefault","baseDifference","valuesLength","valuesIndex","_baseDifference","difference","difference_1","useChoicesContext","choices","isArrayOfStrings","convertOptionsToChoices","_s","_t","_u","_v","_w","_x","_y","_z","choice","useChoices","disableValue","createHintValue","getChoiceText","choiceName","getChoiceValue","getDisableValue","FormGroupsProvider","subscribers","formContextValue","group","subscriber","getGroupFields","registerGroup","unregisterGroup","useWarnWhenUnsavedChanges","formRootPathname","control","useFormState","isSubmitSuccessful","shouldNotify","setShouldNotify","shouldNotBlock","blocker","useBlocker","currentLocation","nextLocation","initialLocation","newLocationIsInsideCurrentLocation","newLocationIsShowView","proceed","confirm","beforeunload","returnValue","WarnWhenUnsavedChanges","formRootPathName","formControl","getFormInitialValues","defaultValues","getSimpleValidationResolver","transformedErrors","isEmptyObject","transformErrorFields","arrayHasErrors_1","transformedArrayErrors","isRaTranslationObj","addTypeAndMessage","getOwnPropertyNames","setSubmissionErrors","setError","setErrorFromObject","rootPath","useNotifyIsFormInvalid","submitCount","submitCountRef","serverError","sanitizeEmptyValues","sanitizedValues","useRecordFromLocation","searchSource","stateSource","getRecordFromLocation","recordFromLocation","setRecordFromLocation","previousRecordRef","newRecordFromLocation","useAugmentedForm","criteriaMode","reValidateMode","onSubmit","disableInvalidFormNotification","saveContext","defaultValuesIncludingRecord","finalResolver","useForm","formRef","recordFromLocationApplied","keepDefaultValues","handleSubmit","finalValues","sanitizeValues","formHandleSubmit","defaultPrevented","Form","noValidate","warnWhenUnsavedChanges","WarnWhenUnsavedChangesComponent","dataRouterContext","UNSAFE_DataRouterContext","dataRouterStateContext","UNSAFE_DataRouterStateContext","FormProvider","ValidationErrorSpecialFormatPrefix","ValidationError","errorMessage","defaultFormat","defaultParse","useInput","isRequiredOption","initialOnBlur","initialOnChange","parseProp","finalName","defaultId","useId","useController","controllerField","fieldState","eventOrValue","checked","useSuggestions","allowCreate","createText","matchSuggestion","selectedItem","suggestionLimit","getSuggestions","getSuggestionsFactory","escapeRegExp","defaultMatchSuggestion","suggestion","suggestionText","isReactElement","suggestions","selected","hasExactMatch","limitSuggestions","filterIsSelectedItem","getSuggestion","isInteger","mergeWith","mergeWith_1","FilterLiveForm","formComponent","HTMLForm","formContext","watch","isValid","hasJustBeenModifiedByUser","newValues","getFilterFormValues","previousValues","mergeObjNotArray","debouncedOnSubmit","mergeCustomizer","formValues","getInputValue","inputValues","innerKey","nestedInputValue","isEmpty_1","useFormIsDirty","checkHasDirtyFields","value_1","englishMessages","ra","add_filter","back","bulk_actions","clear_array_input","clear_input_value","clone","create_item","export","remove_filter","remove_all_filters","search_columns","select_all","select_all_button","select_row","undo","expand","close","open_menu","close_menu","move_up","move_down","open","toggle_theme","select_columns","update_application","true","false","null","not_found","invite","access_denied","authentication_error","file","upload_several","upload_single","image","references","all_missing","many_missing","single_missing","password","toggle_visible","toggle_hidden","about","are_you_sure","auth_error","bulk_delete_content","bulk_delete_title","bulk_update_content","bulk_update_title","delete_content","delete_title","details","invalid_form","no","select_all_limit_reached","unsaved_changes","yes","placeholder_data_warning","navigation","clear_filters","no_filtered_results","no_results","no_more_results","page_out_of_boundaries","page_out_from_end","page_out_from_begin","page_range_info","partial_page_range_info","current_page","page_rows_per_page","skip_nav","sort_by","ASC","DESC","auth","auth_check_error","user_menu","username","email","sign_in","sign_in_error","updated","created","deleted","bad_item","item_doesnt_exist","http_error","data_provider_error","i18n_error","canceled","logged_out","not_authorized","application_update_available","validation","required","minLength","maxLength","minValue","maxValue","oneOf","unique","saved_queries","query_name","new_label","new_dialog_title","remove_label","remove_label_with_name","remove_dialog_title","remove_message","help","customize","configureMode","inspector","content","hideAll","showAll","Datagrid","unlabeled","SimpleForm","SimpleList","primaryText","secondaryText","tertiaryText","toStr","isArgs","callee","keysShim","isEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$onmozfullscreenchange","$onmozfullscreenerror","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","equalsConstructorPrototypeIfNotBuggy","theKeys","skipProto","skipConstructor","implementation","origKeys","originalKeys","shim","keysWorksWithArguments","$defineProperty","esDefineProperty","syntax","SyntaxError","gOPD","getOwnPropertyDescriptor","$gOPD","gopd","$SyntaxError","$TypeError","defineDataProperty","property","nonEnumerable","nonWritable","nonConfigurable","loose","desc","hasPropertyDescriptors","hasArrayLengthDefineBug","hasPropertyDescriptors_1","hasSymbols","supportsDescriptors","predicates","defineProperties_1","esObjectAtoms","esErrors","_eval","EvalError","range","RangeError","ReferenceError","uri","URIError","abs","floor","pow","round","_isNaN","$isNaN","sign","shams","sym","symObj","syms","origSymbol","hasSymbolSham","Reflect_getPrototypeOf","Object_getPrototypeOf","concatty","slicy","arrLike","joiny","joiner","that","bound","binder","boundLength","boundArgs","Empty","functionBind","functionCall","functionApply","reflectApply","$apply","$call","$reflectApply","actualApply","$actualApply","callBindApplyHelpers","hasProtoAccessor","callBind","code","$Object","$getPrototypeOf","reflectGetProto","originalGetProto","getDunderProto","getProto","O","$hasOwn","hasown","undefined","$Error","$EvalError","$RangeError","$ReferenceError","$URIError","$Function","getEvalledConstructor","expressionSyntax","throwTypeError","ThrowTypeError","calleeThrows","gOPDthrows","$ObjectGPO","$ReflectGPO","require$$22","needsEval","TypedArray","INTRINSICS","AggregateError","Atomics","BigInt","BigInt64Array","BigUint64Array","decodeURI","encodeURI","eval","Float16Array","Float32Array","Float64Array","FinalizationRegistry","Int8Array","Int16Array","Int32Array","isFinite","parseFloat","SharedArrayBuffer","Uint8ClampedArray","Uint16Array","Uint32Array","WeakRef","errorProto","doEval","gen","LEGACY_ALIASES","require$$23","require$$24","$concat","$spliceApply","$replace","$strSlice","$exec","getBaseIntrinsic","allowMissing","intrinsicName","getIntrinsic","intrinsicBaseName","intrinsic","intrinsicRealName","skipFurtherCaching","GetIntrinsic","define","hasDescriptors","$floor","setFunctionLength","functionLengthIsConfigurable","functionLengthIsWritable","applyBind","callBindBasic","originalFunction","adjustedLength","RequireObjectCoercible","$indexOf","callBound","$isEnumerable","$push","entrys","polyfill","getPolyfill","object_entries","warning_1","warn","defaultReplace","delimiter","russianPluralGroups","lastTwo","defaultPluralRules","pluralTypes","arabic","bosnian_serbian","chinese","croatian","french","german","russian","lithuanian","czech","polish","icelandic","slovenian","romanian","ukrainian","pluralTypeToLanguages","langToTypeMap","mapping","mappingEntries","langs","pluralTypeName","langToPluralType","en","pluralTypeIndex","pluralType","createMemoizedPluralTypeNameSelector","localePluralTypeStorage","escape","constructTokenRegex","opts","suffix","memoizedPluralTypeName","transformPhrase","phrase","substitutions","tokenRegex","replaceImplementation","interpolationRegex","pluralRulesOrDefault","texts","pluralTypeWithCount","Polyglot","phrases","extend","currentLocale","onMissingKey","interpolation","newLocale","morePhrases","phraseEntries","prefixedKey","newPhrases","nodePolyglot","polyglotI18nProvider","getMessages","initialLocale","availableLocales","polyglotOptions","availableLocalesFinal","polyglotOptionsFinal","messages","polyglot","newPolyglot"],"mappings":"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CnBX,GAAAY,SAAmBA,EACnBZ,GAAAa,WAAqBA,EACrBb,GAAAc,WAAqBA,EACrBd,GAAA9/C,UAAoBA,EAKpB,MAAM6gD,EAAmB,CAErB,gBACA,YACA,cACA,SACA,aACA,MACA,MACA,WACA,UACA,QACA,WACA,aAEA,aACA,YAEA,QACA,UAGA,OAGA,UAEA,QACA,SAEA,QAEA,SACA,SACA,YACA,OACA,QACA,QACA,QACA,aACA,cAEA,UAEA,OAGA,UACA,OAEA,OACA,YACA,YACA,cAGA,cACA,YAEA,OACA,YACA,SACA,WACA,YAGA,OACA,UAEA,QACA,MACA,OAGA,OACA,MAEA,YACA,UACA,UACA,SAEA,WAEA,OACA,OACA,SAEA,YACA,QAEA,QACA,aAEA,YACA,WACA,OACA,OACA,SACA,SACA,OAEA,OACA,WACA,UACA,QACA,cACA,YACA,SACA,SACA,WACA,MACA,aACA,YACA,cAEA,YAEA,OACA,QACA,MAGA,UAEA,OAGA,SAEA,YAEA,OAEA,WACA,OACA,UACA,UACA,YACA,WACA,WACA,cACA,aACA,SACA,YACA,QACA,aAEA,OACA,UACA,WACA,YACA,QAEA,aACA,UACA,SACA,cACA,aACA,UAGA,UACA,OACA,QACA,QAEA,MACA,QACA,QACA,SACA,OACA,WACA,WACA,UACA,YACA,YACA,UAEA,SAGA,QACA,WAEA,UACA,SACA,YACA,UAEA,QAIA,aACA,YACA,cAGA,SACA,SAGA,aACA,cACA,WACA,UACA,UACA,OACA,UACA,MACA,SAKA,UACA,UACA,UACA,SACA,QACA,QACA,WAEA,QAEA,QACA,UACA,OACA,OACA,WACA,OAGA,YAEA,UAGA,QAEA,QACA,YAGA,WACA,WAEA,SACA,SACA,UACA,SAKA,UACA,iBAEA,QAEA,YACA,eACA,QAEA,WACA,OACA,aACA,gBACA,YACA,WAEA,WACA,SAEA,SACA,UAEA,UACA,QAGA,WAEA,SAKA,OACA,OACA,WAKEzT,EAAQ,CACV0T,OAAQ,CACJC,IAAK,IAAIxxD,OAAO,cAAe,MAC/ByxD,OAAQ,IAAIzxD,OAAO,YAAa,M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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516]}