var e=Object.defineProperty,t=(t,s)=>e(t,"name",{value:s,configurable:!0});import{j as s,F as n,bk as a,ak as o,u as r,w as l,l as i,T as c,P as d,b1 as m}from"./chunk-ByJg_QQB.js";import{B as u,s as p,C as x}from"../assets/index-BoLku8RR.js";import{aF as h,ai as g,X as b}from"./chunk-Bc6KM1xM.js";import{r as f}from"./chunk-1NZFT-6z.js";const j=t(e=>{const{mutationMode:d="undoable",icon:m=k,label:x,className:h,mutationOptions:g={}}=e,{meta:b,...f}=g,j=n(e),[y,{isPending:B}]=a(),{selectedIds:_,onUnselectItems:v}=o(),N=r(),P=l(),w=i(),E=t(e=>{C(e),y(j,{ids:_,meta:b},{mutationMode:d,onSuccess:t(()=>{v(),N(`resources.${j}.notifications.deleted`,{messageArgs:{smart_count:_.length,_:w("ra.notification.deleted",{smart_count:_.length,_:`${_.length} elements deleted`})},undoable:"undoable"===d})},"onSuccess"),onError:t(e=>{const t="string"==typeof e?e:e?.message;N(t||"ra.notification.http_error",{type:"error",messageArgs:{_:t}}),P()},"onError"),...f})},"handleClick");return s.jsxs(u,{variant:"destructive",type:"button",onClick:E,disabled:B,className:p("h-9",h),children:[m,s.jsx(c,{i18nKey:x??"ra.action.delete",children:x??"Delete"})]})},"BulkDeleteButton"),k=s.jsx(h,{}),C=t(e=>e.stopPropagation(),"stopPropagation");function y(e){const{exporter:t,meta:s}=e,a=n(e),{exporter:l,selectedIds:i}=o(),c=t||l,u=d(),p=r(),x=f.useCallback(()=>{c&&a&&u.getMany(a,{ids:i,meta:s}).then(({data:e})=>c(e,m(u),u,a)).catch(e=>{p("ra.notification.http_error",{type:"error"})})},[u,c,p,a,i,s]);return f.useMemo(()=>({bulkExport:x}),[x])}t(y,"useBulkExport");const B=t(({icon:e=_,label:n="ra.action.export",onClick:a,...o})=>{const{bulkExport:r}=y(o),l=t(e=>{r(),a?.(e)},"handleClick");return s.jsxs(u,{onClick:l,role:"button",variant:"outline",size:"sm",className:"flex items-center gap-2 h-9",...v(o),children:[e,n&&s.jsx(c,{i18nKey:n,children:n})]})},"BulkExportButton"),_=s.jsx(g,{className:"h-4 w-4"}),v=t(({resource:e,exporter:t,onClick:s,label:n,icon:a,meta:o,...r})=>r,"sanitizeRestProps");function N(){return s.jsxs(s.Fragment,{children:[s.jsx(B,{}),s.jsx(j,{})]})}t(N,"BulkActionsToolbarChildren");const P=t(({children:e=s.jsx(N,{})})=>{const{selectedIds:n,onUnselectItems:a}=o();if(!n?.length)return null;const r=t(e=>{e.stopPropagation(),a()},"handleUnselectAll");return s.jsxs(x,{className:"flex flex-col gap-2 md:gap-6 md:flex-row items-stretch sm:items-center p-2 px-4 w-[90%] sm:w-fit mx-auto fixed bottom-2 left-0 right-0 z-10 bg-card dark:bg-card",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(u,{variant:"ghost",className:"has-[>svg]:px-0",onClick:r,children:s.jsx(b,{})}),s.jsx("span",{className:"text-sm text-muted-foreground",children:s.jsxs(c,{i18nKey:"ra.action.bulk_actions",options:{smart_count:n.length},children:[n.length," rows selected"]})})]}),e]})},"BulkActionsToolbar");export{P as B,B as a,j as b};
