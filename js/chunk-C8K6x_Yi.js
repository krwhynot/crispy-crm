var e=Object.defineProperty,s=(s,a)=>e(s,"name",{value:a,configurable:!0});import{F as a,v as t,j as r,ak as l,b6 as n}from"./chunk-ByJg_QQB.js";import{L as i,e as o,r as c}from"./chunk-1NZFT-6z.js";import{s as d,S as u,bc as h}from"../assets/index-BoLku8RR.js";import{a5 as m}from"./chunk-Bc6KM1xM.js";const f=s(({resource:e,className:s})=>{const l=a(),n=e??l,o=t()({resource:n,type:"create"});return r.jsx(i,{to:o,onClick:x,"aria-label":`Create new ${n?.replace(/_/g," ")}`,className:d("fixed z-50 flex items-center justify-center","bottom-4 right-4 md:bottom-6 md:right-6","size-16 md:size-14","rounded-full","bg-primary hover:bg-primary/90","text-primary-foreground","shadow-lg hover:shadow-xl","transition-[box-shadow,transform,background-color] duration-150 ease-out","focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-primary/30","active:scale-95",s),children:r.jsx(m,{className:"size-6"})})},"FloatingCreateButton"),x=s(e=>e.stopPropagation(),"stopPropagation");function w({rows:e=5,columns:s=6,showAvatar:a=!1}){return r.jsxs("div",{className:"w-full",role:"status","aria-label":"Loading list",children:[r.jsxs("div",{className:"flex items-center gap-4 p-4 border-b border-border bg-muted/30",children:[a&&r.jsx(u,{className:"h-5 w-10 hidden md:block"}),Array.from({length:s-(a?1:0)}).map((e,s)=>r.jsx(u,{className:d("h-5",0===s?"w-32":"w-24",s>3&&"hidden lg:block")},s))]}),Array.from({length:e}).map((e,t)=>r.jsxs("div",{className:"flex items-center gap-4 p-4 border-b border-border hover:bg-muted/20 transition-colors",children:[a&&r.jsx(u,{className:"h-10 w-10 rounded-full hidden md:block shrink-0"}),Array.from({length:s-(a?1:0)}).map((e,s)=>{const a=["w-40","w-32","w-24","w-20","w-16","w-28"],t=a[s%a.length],l=s>4?"hidden lg:block":s>2?"hidden md:block":"";return r.jsx(u,{className:d("h-5",t,l)},s)})]},t)),r.jsx("span",{className:"sr-only",children:"Loading content..."})]})}function j(){return r.jsx(w,{rows:10,columns:7,showAvatar:!0})}function p(){return r.jsx(w,{rows:10,columns:6,showAvatar:!1})}function v(){return r.jsx(w,{rows:10,columns:6,showAvatar:!1})}function g(){return r.jsx(w,{rows:10,columns:5,showAvatar:!1})}function N(){return r.jsx(w,{rows:10,columns:5,showAvatar:!1})}function b(){return r.jsx(w,{rows:10,columns:5,showAvatar:!0})}function y(){return r.jsxs("div",{className:"space-y-6",role:"status","aria-label":"Loading details",children:[[1,2,3].map(e=>r.jsxs("div",{className:"space-y-4",children:[r.jsx(u,{className:"h-5 w-24"}),[1,2,3].map(e=>r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(u,{className:"h-4 w-20 shrink-0"}),r.jsx(u,{className:"h-4 flex-1 max-w-xs"})]},e))]},e)),r.jsx("span",{className:"sr-only",children:"Loading details..."})]})}function k({labelWidth:e="w-20",valueWidth:s="w-32"}){return r.jsxs("div",{className:"space-y-1.5",children:[r.jsx(u,{className:`h-3 ${e}`}),r.jsx(u,{className:`h-5 ${s}`})]})}function S(){return r.jsxs("div",{className:"space-y-6",role:"status","aria-label":"Loading contact details",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(u,{className:"h-16 w-16 rounded-full shrink-0"}),r.jsxs("div",{className:"space-y-2 flex-1",children:[r.jsx(u,{className:"h-6 w-48"})," ",r.jsx(u,{className:"h-4 w-32"})," "]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[r.jsx(k,{labelWidth:"w-12",valueWidth:"w-40"})," ",r.jsx(k,{labelWidth:"w-14",valueWidth:"w-28"})," ",r.jsx(k,{labelWidth:"w-24",valueWidth:"w-36"})," ",r.jsx(k,{labelWidth:"w-20",valueWidth:"w-24"})," "]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(u,{className:"h-6 w-20 rounded-full"})," ",r.jsx(u,{className:"h-6 w-24 rounded-full"})," "]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(u,{className:"h-4 w-16"})," ",r.jsx(u,{className:"h-20 w-full"})," "]}),r.jsx("span",{className:"sr-only",children:"Loading contact details..."})]})}function L(){return r.jsxs("div",{className:"space-y-6",role:"status","aria-label":"Loading organization details",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(u,{className:"h-7 w-56"})," ",r.jsxs("div",{className:"flex gap-2",children:[r.jsx(u,{className:"h-5 w-20 rounded-full"})," ",r.jsx(u,{className:"h-5 w-16 rounded-full"})," "]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[r.jsx(k,{labelWidth:"w-16",valueWidth:"w-36"})," ",r.jsx(k,{labelWidth:"w-14",valueWidth:"w-28"})," ",r.jsx(k,{labelWidth:"w-12",valueWidth:"w-40"})," ",r.jsx(k,{labelWidth:"w-20",valueWidth:"w-24"})," "]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(u,{className:"h-4 w-16"})," ",r.jsx(u,{className:"h-4 w-48"})," ",r.jsx(u,{className:"h-4 w-36"})," "]}),r.jsxs("div",{className:"flex gap-6",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(u,{className:"h-3 w-16"}),r.jsx(u,{className:"h-6 w-8"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(u,{className:"h-3 w-24"}),r.jsx(u,{className:"h-6 w-8"})]})]}),r.jsx("span",{className:"sr-only",children:"Loading organization details..."})]})}s(w,"ListSkeleton"),s(j,"ContactListSkeleton"),s(p,"OrganizationListSkeleton"),s(v,"ProductListSkeleton"),s(g,"TaskListSkeleton"),s(N,"ActivityListSkeleton"),s(b,"SalesListSkeleton"),s(y,"SlideOverSkeleton"),s(k,"FieldSkeleton"),s(S,"ContactDetailSkeleton"),s(L,"OrganizationDetailSkeleton");const W=s(()=>"undefined"!=typeof window&&/Mac|iPhone|iPod|iPad/.test(navigator.platform),"isMac"),C=s(e=>{if(!(e instanceof HTMLElement))return!1;const s=e.tagName.toLowerCase(),a=e.isContentEditable;if("input"===s||"textarea"===s||"select"===s||a)return!0;let t=e;for(;t;){if(t.isContentEditable)return!0;t=t.parentElement}const r=e.getAttribute("role");return"textbox"===r||"searchbox"===r||"combobox"===r},"shouldPreventShortcut");function A({onSelect:e,enabled:r=!0}={}){const{data:n}=l(),i=a(),d=t(),u=o(),[h,m]=c.useState(-1),f=n&&h>=0&&h<n.length?n[h].id:null,x=c.useCallback(()=>{m(-1)},[]),w=c.useCallback(()=>{if(!i)return;const e=d({resource:i,type:"create"});u(e)},[i,d,u]),j=c.useCallback(()=>{const e=document.querySelector('input[type="search"], input[placeholder*="Search" i], input[aria-label*="Search" i]');e?.focus()},[]);return c.useEffect(()=>{if(!r)return;const a=s(s=>{const{key:a}=s,t=s.target,r=W()?s.metaKey:s.ctrlKey;if("n"===a&&r)C(t)||(s.preventDefault(),w());else{if("k"===a&&r||"/"===a&&!C(t))return s.preventDefault(),void j();if(!C(t)&&n&&0!==n.length){if("ArrowUp"===a)return s.preventDefault(),void m(e=>e<=0?n.length-1:e-1);if("ArrowDown"===a)return s.preventDefault(),void m(e=>e<0||e>=n.length-1?0:e+1);if("Enter"===a&&h>=0&&h<n.length){s.preventDefault();const a=n[h].id;if(e)e(a);else{const e=d({resource:i,type:"show",id:a});u(e)}return}return"Home"===a?(s.preventDefault(),void m(0)):"End"===a?(s.preventDefault(),void m(n.length-1)):void 0}}},"handleKeyDown");return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[r,n,h,e,w,j,i,d,u]),c.useEffect(()=>{m(-1)},[n]),{focusedIndex:h,focusedId:f,setFocusedIndex:m,clearFocus:x,isMac:W(),modifierKey:W()?"âŒ˜":"Ctrl"}}s(A,"useListKeyboardNavigation");const D={contacts:"last_seen",organizations:"name",opportunities:"created_at",activities:"activity_date",tasks:"due_date",sales:"first_name",tags:"name"},E=s(e=>{const[,s]=n();c.useEffect(()=>{const a=`RaStoreCRM.${e}.listParams`,t=localStorage.getItem(a);if(t)try{const r=JSON.parse(t);if(!r?.filter)return;const l={};let n=!1;for(const s in r.filter)Object.prototype.hasOwnProperty.call(r.filter,s)&&(h(e,s)?l[s]=r.filter[s]:n=!0);if(r.sort?.field){const s=r.sort.field;h(e,s)||(r.sort={field:D[e]||"id",order:r.sort.order||"DESC"},n=!0)}n&&(r.filter=l,localStorage.setItem(a,JSON.stringify(r)),s.setItem(a,r))}catch(r){}},[e,s])},"useFilterCleanup");export{N as A,S as C,f as F,w as L,L as O,v as P,b as S,g as T,p as a,A as b,j as c,y as d,E as u};
