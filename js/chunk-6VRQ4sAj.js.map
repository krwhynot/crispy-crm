{"version":3,"file":"chunk-6VRQ4sAj.js","sources":["../../src/components/admin/delete-button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Trash } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { humanize, singularize } from \"inflection\";\nimport {\n  useDeleteWithUndoController,\n  useGetRecordRepresentation,\n  useResourceTranslation,\n  useRecordContext,\n  useResourceContext,\n  useTranslate,\n  type UseDeleteOptions,\n  type RedirectionSideEffect,\n} from \"ra-core\";\n\nexport interface DeleteButtonProps {\n  label?: string;\n  size?: \"default\" | \"sm\" | \"lg\" | \"icon\";\n  onClick?: React.ReactEventHandler<HTMLButtonElement>;\n  mutationOptions?: UseDeleteOptions;\n  redirect?: RedirectionSideEffect;\n  resource?: string;\n  successMessage?: string;\n  className?: string;\n  variant?: \"default\" | \"destructive\" | \"outline\" | \"secondary\" | \"ghost\" | \"link\";\n}\n\nexport const DeleteButton = (props: DeleteButtonProps) => {\n  const {\n    label: labelProp,\n    onClick,\n    size,\n    mutationOptions,\n    redirect = \"list\",\n    successMessage,\n    variant = \"outline\",\n    className = \"cursor-pointer hover:bg-destructive/10! text-destructive! border-destructive! focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40\",\n  } = props;\n  const record = useRecordContext(props);\n  const resource = useResourceContext(props);\n\n  const { isPending, handleDelete } = useDeleteWithUndoController({\n    record,\n    resource,\n    redirect,\n    onClick,\n    mutationOptions,\n    successMessage,\n  });\n  const translate = useTranslate();\n  const getRecordRepresentation = useGetRecordRepresentation(resource);\n  let recordRepresentation = getRecordRepresentation(record);\n  const resourceName = translate(`resources.${resource}.forcedCaseName`, {\n    smart_count: 1,\n    _: humanize(\n      translate(`resources.${resource}.name`, {\n        smart_count: 1,\n        _: resource ? singularize(resource) : undefined,\n      }),\n      true\n    ),\n  });\n  // We don't support React elements for this\n  if (React.isValidElement(recordRepresentation)) {\n    recordRepresentation = `#${record?.id}`;\n  }\n  const label = useResourceTranslation({\n    resourceI18nKey: `resources.${resource}.action.delete`,\n    baseI18nKey: \"ra.action.delete\",\n    options: {\n      name: resourceName,\n      recordRepresentation,\n    },\n    userText: labelProp,\n  });\n\n  return (\n    <Button\n      variant={variant}\n      type=\"button\"\n      onClick={handleDelete}\n      disabled={isPending}\n      aria-label={typeof label === \"string\" ? label : undefined}\n      size={size}\n      className={className}\n    >\n      <Trash />\n      {label}\n    </Button>\n  );\n};\n"],"names":["DeleteButton","props","label","labelProp","onClick","size","mutationOptions","redirect","successMessage","variant","className","record","useRecordContext","resource","useResourceContext","isPending","handleDelete","useDeleteWithUndoController","translate","useTranslate","recordRepresentation","useGetRecordRepresentation","getRecordRepresentation","resourceName","smart_count","_","humanize","singularize","React.isValidElement","id","useResourceTranslation","resourceI18nKey","baseI18nKey","options","name","userText","jsxs","Button","type","disabled","children","jsx","Trash"],"mappings":"0PA2BO,MAAMA,iDAAgBC,IAC3B,MACEC,MAAOC,EAAAC,QACPA,EAAAC,KACAA,EAAAC,gBACAA,EAAAC,SACAA,EAAW,OAAAC,eACXA,EAAAC,QACAA,EAAU,UAAAC,UACVA,EAAY,0JACVT,EACEU,EAASC,EAAiBX,GAC1BY,EAAWC,EAAmBb,IAE9Bc,UAAEA,EAAAC,aAAWA,GAAiBC,EAA4B,CAC9DN,SACAE,WACAN,WACAH,UACAE,kBACAE,mBAEIU,EAAYC,IAElB,IAAIC,EAD4BC,EAA2BR,EAChCS,CAAwBX,GACnD,MAAMY,EAAeL,EAAU,aAAaL,mBAA2B,CACrEW,YAAa,EACbC,EAAGC,EAAAA,SACDR,EAAU,aAAaL,SAAiB,CACtCW,YAAa,EACbC,EAAGZ,EAAWc,cAAYd,QAAY,KAExC,KAIAe,EAAAA,eAAqBR,KACvBA,EAAuB,IAAIT,GAAQkB,MAErC,MAAM3B,EAAQ4B,EAAuB,CACnCC,gBAAiB,aAAalB,kBAC9BmB,YAAa,mBACbC,QAAS,CACPC,KAAMX,EACNH,wBAEFe,SAAUhC,IAGZ,OACEiC,EAAAA,KAACC,EAAA,CACC5B,UACA6B,KAAK,SACLlC,QAASY,EACTuB,SAAUxB,EACV,aAA6B,iBAAVb,EAAqBA,OAAQ,EAChDG,OACAK,YAEA8B,SAAA,CAAAC,EAAAA,IAACC,EAAA,IACAxC,MA5DqB"}