var e=Object.defineProperty,t=(t,i)=>e(t,"name",{value:i,configurable:!0});import{j as i,Q as s,az as a,U as r,u as n,w as o,at as l,J as c,i as d}from"./chunk-ByJg_QQB.js";import{r as h}from"./chunk-1NZFT-6z.js";import{s as u,D as m,aB as x,B as p,e as g,f as j,g as b,h as f,C as N,a as w,w as z,T as v,U as y,V as _,W as C,X as T,v as S,a8 as A}from"../assets/index-BoLku8RR.js";import{R as k}from"./chunk-D6FmavVW.js";import{R as O}from"./chunk-BLkgKceb.js";import{A as D}from"./chunk-DRZQUu5H.js";import{S as P}from"./chunk-C5fZsuMg.js";import{A as M,C as F,a as L,S as R}from"./chunk-B8xrZQJc.js";import{u as V,a as E}from"./chunk-JxeXaC9i.js";import{C as B}from"./chunk-C4sNritB.js";import{C as W,s as $}from"./chunk-DhfTvo06.js";import{F as I}from"./chunk-BM66RvuK.js";import{a5 as G,T as K,ah as q,aD as Q,aE as H,q as U,p as Y,m as J}from"./chunk-Bc6KM1xM.js";import{O as X}from"./chunk-CypxJXwf.js";import{c as Z}from"./chunk-X0dz3Jmp.js";import{A as ee,a as te,b as ie}from"./chunk-IswQf-N3.js";import{A as se,h as ae,a as re,b as ne,c as oe,d as le,e as ce,f as de,g as he}from"./chunk-D62ZQQIe.js";import{C as ue,a as me,b as xe}from"./chunk-DsNwAyt-.js";import{f as pe}from"./chunk-CFj7NhUg.js";const ge=t(({className:e})=>i.jsx("div",{className:u("h-9 w-9 shrink-0","invisible",e),"aria-hidden":"true"}),"ButtonPlaceholder"),je=t(({children:e,button:t,className:s,footer:a})=>i.jsxs("div",{className:u("flex flex-col",s),children:[i.jsxs("div",{className:"grid grid-cols-[1fr_auto] items-end gap-2",children:[i.jsx("div",{className:"min-w-0",children:e}),t??i.jsx(ge,{})]}),a]}),"CompactFormFieldWithButton");function be(e){const t=e.getMonth();return Math.floor(t/3)+1}function fe(e){const{customerName:t,principalName:i,date:s=new Date}=e,a=[],r=t?.trim();r&&a.push(r);const n=i?.trim();if(n&&a.push(n),0===a.length)return"";const o=be(s),l=s.getFullYear();a.push(`Q${o} ${l}`);let c=a.join(" - ");return c.length>200&&(c=c.substring(0,197)+"..."),c}t(be,"getQuarter"),t(fe,"generateOpportunityName");const Ne=t(e=>{const{setValue:t}=V(),i=E({name:"customer_organization_id"}),a=E({name:"principal_organization_id"}),r=E({name:"name"}),{data:n,isLoading:o}=s("organizations",{id:i},{enabled:!!i}),{data:l,isLoading:c}=s("organizations",{id:a},{enabled:!!a}),d=o||c,u=!(!n?.name&&!l?.name),m=h.useCallback(()=>fe({customerName:n?.name,principalName:l?.name,date:new Date}),[n?.name,l?.name]),x=h.useCallback(()=>{if(!d){const e=m();e&&t("name",e,{shouldValidate:!0,shouldDirty:!0})}},[m,t,d]);return h.useEffect(()=>{if("create"===e&&!r&&!d){const e=m();e&&t("name",e,{shouldValidate:!0,shouldDirty:!0})}},[e,r,m,t,d]),{regenerate:x,isLoading:d,canGenerate:u}},"useAutoGenerateName");function we(e,t){const i=h.useMemo(()=>e.filter(e=>null!=e),[JSON.stringify(e)]),{data:s,isLoading:r}=a("contacts",{ids:i},{enabled:i.length>0&&null!=t});return h.useMemo(()=>{if(!s||!t)return{mismatchedContacts:[],hasMismatch:!1,isLoading:r};const e=s.filter(e=>{const i=e.organization_id;return null!=i&&String(i)!==String(t)}).map(e=>({contact:e,contactOrgId:e.organization_id}));return{mismatchedContacts:e,hasMismatch:e.length>0,isLoading:r}},[s,t,r])}function ze(e,t){const i=null!=e&&null!=t,{data:a,isLoading:n}=r("distributor_principal_authorizations",{filter:{principal_id:e,distributor_id:t,deleted_at:null},pagination:{page:1,perPage:1}},{enabled:i}),{data:o,isLoading:l}=s("organizations",{id:t},{enabled:null!=t}),{data:c,isLoading:d}=s("organizations",{id:e},{enabled:null!=e});return h.useMemo(()=>{if(!i)return{isAuthorized:!0,hasAuthorizationRecord:!1,isExpired:!1,authorization:null,hasBothSelected:!1,isLoading:!1,distributorName:o?.name,principalName:c?.name};const e=n||l||d,t=a?.[0]??null,s=null!=t,r=(new Date).toISOString().split("T")[0],h=s&&null!=t.expiration_date&&t.expiration_date<r;return{isAuthorized:s&&t.is_authorized&&!h,hasAuthorizationRecord:s,isExpired:h,authorization:t,hasBothSelected:i,isLoading:e,distributorName:o?.name,principalName:c?.name}},[a,o?.name,c?.name,i,n,l,d])}t(we,"useContactOrgMismatch"),t(ze,"useDistributorAuthorization");const ve=t(({resource:e,children:s,defaultValues:a={},label:r="New",onSave:d,transform:u,title:v=`Create new ${e}`,description:y,variant:_="outline",size:C="sm",className:T})=>{const[S,A]=h.useState(!1),k=n(),O=o(),D=t(t=>{A(!1),k(`${e} created successfully`,{type:"success"}),O(),d&&t&&d(t)},"handleSuccess");return i.jsxs(m,{open:S,onOpenChange:A,children:[i.jsx(x,{asChild:!0,children:i.jsxs(p,{variant:_,size:C,className:T,children:[i.jsx(G,{className:"w-4 h-4 mr-1"}),r]})}),i.jsxs(g,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(j,{children:[i.jsx(b,{children:v}),y&&i.jsx(f,{children:y})]}),i.jsx(l,{resource:e,redirect:!1,transform:u,mutationOptions:{onSuccess:D,onError:t(()=>{k(`Error creating ${e}`,{type:"error"})},"onError")},children:i.jsx(c,{defaultValues:a,children:i.jsx(N,{className:"border-0 shadow-none",children:i.jsxs(w,{className:"p-0 pt-4",children:[s,i.jsx(I,{children:i.jsxs("div",{className:"flex flex-row gap-2 justify-end",children:[i.jsx(p,{type:"button",variant:"outline",onClick:t(()=>A(!1),"onClick"),children:"Cancel"}),i.jsx(z,{label:"Create"})]})})]})})})})]})]})},"CreateInDialogButton");function ye({onClearMismatched:e}){const{setValue:a,getValues:r}=V(),n=E({name:"contact_ids"}),o=E({name:"customer_organization_id"}),{mismatchedContacts:l,hasMismatch:c,isLoading:d}=we(n||[],o),{data:h}=s("organizations",{id:o},{enabled:!!o});if(!c||d)return null;const u=l.map(e=>`${e.contact.first_name} ${e.contact.last_name}`.trim()).filter(Boolean),m=t(()=>{const t=r("contact_ids")||[],i=new Set(l.map(e=>String(e.contact.id))),s=t.filter(e=>!i.has(String(e)));a("contact_ids",s),e?.()},"handleClearMismatched");return i.jsxs(ee,{className:"border-warning/50 bg-warning-subtle mt-3",children:[i.jsx(K,{className:"h-4 w-4 text-warning"}),i.jsx(te,{className:"text-warning-strong",children:"Contact Organization Mismatch"}),i.jsxs(ie,{className:"text-warning",children:[i.jsx("p",{className:"mb-2",children:1===l.length?i.jsxs(i.Fragment,{children:[i.jsx("strong",{children:u[0]})," belongs to a different organization than the selected customer",h?.name&&i.jsxs(i.Fragment,{children:[" ","(",i.jsx("strong",{children:h.name}),")"]}),"."]}):i.jsxs(i.Fragment,{children:[i.jsxs("strong",{children:[l.length," contacts"]})," (",u.slice(0,3).join(", "),u.length>3&&`, +${u.length-3} more`,") belong to different organizations than the selected customer",h?.name&&i.jsxs(i.Fragment,{children:[" ","(",i.jsx("strong",{children:h.name}),")"]}),"."]})}),i.jsxs("div",{className:"flex gap-2 mt-3",children:[i.jsxs(se,{children:[i.jsx(ae,{asChild:!0,children:i.jsx(p,{variant:"outline",size:"sm",className:"border-warning text-warning hover:bg-warning-subtle",children:"Keep Anyway"})}),i.jsxs(re,{children:[i.jsxs(ne,{children:[i.jsx(oe,{children:"Keep Mismatched Contacts?"}),i.jsxs(le,{children:[i.jsx("p",{className:"mb-2",children:"The following contacts belong to organizations different from the opportunity's customer:"}),i.jsx("ul",{className:"list-disc list-inside mb-2 text-foreground",children:u.map((e,t)=>i.jsx("li",{children:e},t))}),i.jsx("p",{children:"This may indicate a data entry error, or you may have a legitimate reason to include cross-organization contacts."})]})]}),i.jsxs(ce,{children:[i.jsx(de,{children:"Go Back"}),i.jsx(he,{className:"bg-warning hover:bg-warning-strong",children:"Yes, Keep These Contacts"})]})]})]}),i.jsx(p,{variant:"destructive",size:"sm",onClick:m,children:"Remove Mismatched"})]})]})]})}function _e(){const e=E({name:"principal_organization_id"}),s=E({name:"distributor_organization_id"}),{isAuthorized:a,hasAuthorizationRecord:r,isExpired:n,hasBothSelected:o,isLoading:l,distributorName:c,principalName:d}=ze(e,s);if(!o||l||a)return null;const h=t(()=>n?{icon:i.jsx(q,{className:"h-4 w-4 text-warning"}),title:"Authorization Expired",message:i.jsxs(i.Fragment,{children:[i.jsx("strong",{children:c||"This distributor"}),"'s authorization to carry"," ",i.jsx("strong",{children:d||"this principal"}),"'s products has expired."]}),dialogTitle:"Proceed with Expired Authorization?",dialogDescription:i.jsxs(i.Fragment,{children:["The authorization for ",i.jsx("strong",{children:c})," to distribute"," ",i.jsx("strong",{children:d})," products has expired. This may mean the distributor is no longer carrying these products, or the authorization needs to be renewed."]})}:r?{icon:i.jsx(Q,{className:"h-4 w-4 text-warning"}),title:"Authorization Inactive",message:i.jsxs(i.Fragment,{children:[i.jsx("strong",{children:c||"This distributor"})," has an inactive authorization record for ",i.jsx("strong",{children:d||"this principal"}),"'s products."]}),dialogTitle:"Proceed with Inactive Authorization?",dialogDescription:i.jsxs(i.Fragment,{children:[i.jsx("strong",{children:c})," has an authorization record for"," ",i.jsx("strong",{children:d}),", but it is marked as inactive. This typically means the distributor previously carried these products but no longer does."]})}:{icon:i.jsx(K,{className:"h-4 w-4 text-warning"}),title:"Distributor Not Authorized",message:i.jsxs(i.Fragment,{children:[i.jsx("strong",{children:c||"This distributor"})," is not currently authorized to carry ",i.jsx("strong",{children:d||"this principal"}),"'s products."]}),dialogTitle:"Proceed Without Authorization?",dialogDescription:i.jsxs(i.Fragment,{children:["No authorization record exists between ",i.jsx("strong",{children:c})," and"," ",i.jsx("strong",{children:d}),". This may indicate the distributor doesn't carry this principal's products, or a new authorization relationship is being pursued."]})},"getWarningContent")();return i.jsxs(ee,{className:"border-warning/50 bg-warning-subtle mt-3",children:[h.icon,i.jsx(te,{className:"text-warning-strong",children:h.title}),i.jsxs(ie,{className:"text-warning",children:[i.jsx("p",{className:"mb-2",children:h.message}),i.jsx("p",{className:"text-sm mb-3",children:"You can still create this opportunity, but the distribution channel may need to be established or verified."}),i.jsxs(se,{children:[i.jsx(ae,{asChild:!0,children:i.jsx(p,{variant:"outline",size:"sm",className:"border-warning text-warning hover:bg-warning-subtle",children:"I Understand, Continue"})}),i.jsxs(re,{children:[i.jsxs(ne,{children:[i.jsx(oe,{children:h.dialogTitle}),i.jsx(le,{asChild:!0,children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{children:h.dialogDescription}),i.jsxs("div",{className:"p-3 bg-muted rounded-md",children:[i.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:"Consider:"}),i.jsxs("ul",{className:"text-sm list-disc list-inside space-y-1",children:[i.jsx("li",{children:"Contacting the principal to verify distribution options"}),i.jsx("li",{children:"Selecting a different authorized distributor"}),i.jsx("li",{children:"Creating the opportunity anyway if pursuing new authorization"})]})]})]})})]}),i.jsxs(ce,{children:[i.jsx(de,{children:"Go Back"}),i.jsx(he,{className:"bg-warning hover:bg-warning-strong",children:"Yes, Create Anyway"})]})]})]})]})]})}t(ye,"ContactOrgMismatchWarning"),t(_e,"DistributorAuthorizationWarning");const Ce=t(()=>{const[e,t]=h.useState(!1);return i.jsxs(ue,{open:e,onOpenChange:t,children:[i.jsx(me,{asChild:!0,children:i.jsxs(p,{type:"button",variant:"ghost",size:"sm",className:"flex items-center gap-2 text-xs text-muted-foreground hover:text-foreground px-0",children:[i.jsx(H,{className:"w-3 h-3"}),e?"Hide naming tips":"Show naming tips",e?i.jsx(U,{className:"w-3 h-3"}):i.jsx(Y,{className:"w-3 h-3"})]})}),i.jsx(xe,{className:"mt-2",children:i.jsxs("div",{className:"rounded-lg border border-border bg-muted/50 p-4 space-y-3 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground mb-2",children:"ðŸ’¡ Naming Convention Tips"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Opportunity names help you quickly identify deals at a glance. Use the auto-generate button to create names following the standard format, or customize them for specific situations."})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground mb-1",children:"Standard Format (Auto-Generated):"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-2",children:[i.jsx("li",{children:i.jsx("code",{className:"bg-background px-1.5 py-0.5 rounded text-xs",children:"Customer Name - Principal Name - Q1 2025"})}),i.jsx("li",{className:"text-xs italic",children:'Example: "Nobu Miami - Ocean Hugger - Q1 2025"'})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground mb-1",children:"Custom Name Examples:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-2",children:[i.jsxs("li",{className:"text-xs",children:[i.jsx("strong",{className:"text-foreground",children:"Program Name:"}),' "Roka Akor - Tuna Roll Program"']}),i.jsxs("li",{className:"text-xs",children:[i.jsx("strong",{className:"text-foreground",children:"Trade Show Booth:"}),' "NRA Show 2025 - Blue Ribbon Sushi - Ocean Hugger"']}),i.jsxs("li",{className:"text-xs",children:[i.jsx("strong",{className:"text-foreground",children:"Specific Product:"}),' "Nobu - Tombo Tuna Nigiri Launch"']}),i.jsxs("li",{className:"text-xs",children:[i.jsx("strong",{className:"text-foreground",children:"Account Expansion:"}),' "Katsuya - Fishpeople - West Coast Rollout"']})]})]}),i.jsx("div",{className:"pt-2 border-t border-border",children:i.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.jsx("strong",{className:"text-foreground",children:"Tip:"})," Keep names concise (under 100 characters) and include the customer and principal for easy filtering and reporting."]})})]})})]})},"NamingConventionHelp"),Te="562062be-c15b-417f-b2a1-d4a643d69d52",Se=[{id:"low",name:"Low"},{id:"medium",name:"Medium"},{id:"high",name:"High"},{id:"critical",name:"Critical"}],Ae=S.partial().parse({}),ke=A.partial().parse({}),Oe=t(({mode:e="create"})=>{const{data:s}=d(),{setValue:a,getValues:r}=V(),{regenerate:n,isLoading:o,canGenerate:l}=Ne(e),c=E({name:"customer_organization_id"}),u=E({name:"principal_organization_id"}),m=h.useMemo(()=>c?{organization_id:c}:{},[c]),x=h.useMemo(()=>u?{principal_id:u}:{},[u]);return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{"data-tutorial":"opp-name",children:i.jsx(v,{source:"name",label:"Opportunity Name *",helperText:!1,InputProps:"edit"===e?{endAdornment:i.jsx(y,{children:i.jsxs(_,{children:[i.jsx(C,{asChild:!0,children:i.jsx(p,{type:"button",variant:"ghost",size:"sm",onClick:n,disabled:!l||o,children:i.jsx(J,{className:"w-4 h-4"})})}),i.jsx(T,{children:i.jsx("p",{children:"Generate name from customer and principal"})})]})})}:void 0})}),i.jsx("div",{className:"mt-2",children:i.jsx(Ce,{})})]}),i.jsxs(W,{children:[i.jsx(je,{button:i.jsx(ve,{resource:"organizations",label:"New Customer",title:"Create new Customer Organization",description:"Create a new customer organization and select it automatically",defaultValues:{...Ae,organization_type:"prospect",sales_id:s?.id,segment_id:Te},onSave:t(e=>{a("customer_organization_id",e.id)},"onSave"),transform:t(e=>(e.website&&!e.website.startsWith("http")&&(e.website=`https://${e.website}`),e),"transform"),children:i.jsx(X,{})}),children:i.jsx("div",{"data-tutorial":"opp-customer",children:i.jsx(k,{source:"customer_organization_id",reference:"organizations",filter:{"organization_type@in":"(prospect,customer)"},children:i.jsx(M,{label:"Customer Organization *",organizationType:"customer"})})})}),i.jsx(je,{button:i.jsx(ve,{resource:"organizations",label:"New Principal",title:"Create new Principal Organization",description:"Create a new principal organization and select it automatically",defaultValues:{...Ae,organization_type:"principal",sales_id:s?.id,segment_id:Te},onSave:t(e=>{a("principal_organization_id",e.id)},"onSave"),transform:t(e=>(e.website&&!e.website.startsWith("http")&&(e.website=`https://${e.website}`),e),"transform"),children:i.jsx(X,{})}),children:i.jsx("div",{"data-tutorial":"opp-principal",children:i.jsx(k,{source:"principal_organization_id",reference:"organizations",filter:{organization_type:"principal"},children:i.jsx(M,{label:"Principal Organization *",organizationType:"principal"})})})})]}),i.jsxs(W,{columns:"md:grid-cols-3",children:[i.jsx("div",{"data-tutorial":"opp-stage",children:i.jsx(P,{source:"stage",label:"Stage *",choices:pe,helperText:!1})}),i.jsx("div",{"data-tutorial":"opp-priority",children:i.jsx(P,{source:"priority",label:"Priority *",choices:Se,helperText:!1})}),i.jsx("div",{"data-tutorial":"opp-close-date",children:i.jsx(v,{source:"estimated_close_date",label:"Est. Close Date *",helperText:!1,type:"date"})})]}),i.jsxs(W,{children:[i.jsx(je,{children:i.jsx("div",{"data-tutorial":"opp-account-manager",children:i.jsx(k,{source:"account_manager_id",reference:"sales",sort:{field:"last_name",order:"ASC"},filter:{"disabled@neq":!0},children:i.jsx(P,{label:"Account Manager",optionText:$,helperText:!1})})})}),i.jsx(je,{button:i.jsx(ve,{resource:"organizations",label:"New Distributor",title:"Create new Distributor Organization",description:"Create a new distributor organization and select it automatically",defaultValues:{...Ae,organization_type:"distributor",sales_id:s?.id,segment_id:Te},onSave:t(e=>{a("distributor_organization_id",e.id)},"onSave"),transform:t(e=>(e.website&&!e.website.startsWith("http")&&(e.website=`https://${e.website}`),e),"transform"),children:i.jsx(X,{})}),footer:i.jsx(_e,{}),children:i.jsx("div",{"data-tutorial":"opp-distributor",children:i.jsx(k,{source:"distributor_organization_id",reference:"organizations",filter:{organization_type:"distributor"},children:i.jsx(M,{label:"Distributor Organization",organizationType:"distributor"})})})})]}),i.jsx(B,{title:"Contacts & Products",defaultOpen:!0,children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium",children:"Contacts *"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:c?"At least one contact is required":"Please select a Customer Organization first"})]}),c&&i.jsx(ve,{resource:"contacts",label:"New Contact",title:"Create new Contact",description:"Create a new contact for the selected customer organization",defaultValues:{...ke,organization_id:c,sales_id:s?.id,first_seen:(new Date).toISOString(),last_seen:(new Date).toISOString()},onSave:t(e=>{const t=r("contact_ids")||[];a("contact_ids",[...t,e.id])},"onSave"),children:i.jsx(F,{})})]}),i.jsx("div",{"data-tutorial":"opp-contacts",children:c?i.jsx(O,{source:"contact_ids",reference:"contacts_summary",filter:m,children:i.jsx(D,{label:!1,optionText:Z,helperText:!1})}):i.jsx(D,{source:"contact_ids",label:!1,optionText:Z,helperText:!1,disabled:!0,placeholder:"Select Customer Organization first",choices:[]})}),i.jsx(ye,{})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("h4",{className:"text-sm font-medium",children:"Products *"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:u?"At least one product is required (filtered by selected Principal)":"At least one product is required (select Principal Organization to filter)"})]}),i.jsx("div",{"data-tutorial":"opp-products",children:i.jsx(L,{source:"products_to_sync",label:!1,children:i.jsxs(R,{inline:!0,disableReordering:!0,children:[i.jsx(k,{source:"product_id_reference",reference:"products",filter:x,children:i.jsx(P,{optionText:"name",label:"Product",helperText:!1,className:"w-full"})}),i.jsx(v,{source:"notes",label:"Notes",helperText:!1,placeholder:"Optional notes",className:"w-full"})]})})})]})]})}),i.jsx(B,{title:"Classification","data-tutorial":"opp-section-classification",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs(W,{children:[i.jsx("div",{"data-tutorial":"opp-lead-source",children:i.jsx(v,{source:"lead_source",label:"Lead Source",helperText:!1})}),i.jsx("div",{"data-tutorial":"opp-campaign",children:i.jsx(v,{source:"campaign",label:"Campaign",helperText:!1,placeholder:"e.g., Q4 2025 Trade Show"})})]}),i.jsx(L,{source:"tags",label:"Tags",children:i.jsx(R,{inline:!0,disableReordering:!0,children:i.jsx(v,{source:"",label:!1,helperText:!1,placeholder:"Add tag"})})})]})}),i.jsx(B,{title:"Additional Details","data-tutorial":"opp-section-details",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{"data-tutorial":"opp-description",children:i.jsx(v,{source:"description",label:"Description",multiline:!0,rows:2,helperText:!1})}),i.jsxs(W,{children:[i.jsx("div",{"data-tutorial":"opp-next-action",children:i.jsx(v,{source:"next_action",label:"Next Action",helperText:!1,placeholder:"e.g., Follow up with decision maker"})}),i.jsx("div",{"data-tutorial":"opp-next-action-date",children:i.jsx(v,{source:"next_action_date",label:"Next Action Date",helperText:!1,type:"date"})})]}),i.jsx(v,{source:"decision_criteria",label:"Decision Criteria",multiline:!0,rows:2,helperText:!1,placeholder:"Key factors influencing the decision..."}),"edit"===e&&i.jsx(k,{source:"related_opportunity_id",reference:"opportunities",children:i.jsx(P,{optionText:"name",label:"Related Opportunity",helperText:!1})}),i.jsx(v,{source:"notes",label:"Notes",multiline:!0,rows:2,helperText:!1,placeholder:"General notes about the opportunity (separate from activity log)..."})]})})]})},"OpportunityCompactForm");export{Oe as O};
