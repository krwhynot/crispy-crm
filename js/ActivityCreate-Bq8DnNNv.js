var e=Object.defineProperty,t=(t,s)=>e(t,"name",{value:s,configurable:!0});import{j as s,i,at as r,J as a,G as o}from"./chunk-ByJg_QQB.js";import{r as n}from"./chunk-1NZFT-6z.js";import{s as c,av as l,T as d,at as u,C as p,a as m}from"../assets/index-BoLku8RR.js";import{c as h}from"./chunk-JxeXaC9i.js";import{F as x}from"./chunk-DpghI3EP.js";import{F as j}from"./chunk-C0lbEKTL.js";import{S as b}from"./chunk-C5fZsuMg.js";import{R as f}from"./chunk-D6FmavVW.js";import{A as y}from"./chunk-nUtrHAIa.js";import{C as v,a as g,b as N}from"./chunk-DsNwAyt-.js";import{c as k}from"./chunk-X0dz3Jmp.js";import{p as w,a as T}from"./chunk-Bc6KM1xM.js";import"./chunk-DwAffUXc.js";import"./chunk-knA4lag3.js";import"./chunk-Tyyhsnez.js";import"./chunk-XoqkUGE_.js";import"./chunk-CRKBdUTG.js";import"./chunk-BM66RvuK.js";import"./chunk-6VRQ4sAj.js";import"./chunk-CMQLDEz_.js";import"./chunk-C_u3nriX.js";import"./chunk-B9H_70fs.js";function O({children:e,columns:t=2,className:i}){return s.jsx("div",{"data-testid":"form-grid",className:c("grid","grid-cols-1",2===t?"md:grid-cols-2":"md:grid-cols-4","gap-x-6","gap-y-5",i),children:e})}function _({title:e,description:t,children:i,className:r}){return s.jsxs("div",{"data-slot":"form-section",className:c("space-y-6",r),children:[s.jsxs("div",{"data-slot":"form-section-header",className:"border-b border-border pb-2",children:[s.jsx("h2",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:e}),t&&s.jsx("p",{"data-slot":"form-section-description",className:"text-muted-foreground text-sm mt-1",children:t})]}),s.jsx("div",{className:"mb-6",children:i})]})}t(O,"FormGrid"),t(_,"FormSection");const C=[{id:"positive",name:"Positive"},{id:"neutral",name:"Neutral"},{id:"negative",name:"Negative"}];function F(){const[e,t]=n.useState(!1),[i,r]=n.useState(!1);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(_,{title:"Activity Details",children:[s.jsx(O,{children:s.jsx("div",{"data-tutorial":"activity-type",children:s.jsx(b,{source:"type",label:"Interaction Type",choices:l.map(e=>({id:e.value,name:e.label})),helperText:"Choose how this interaction occurred",isRequired:!0})})}),s.jsx(d,{source:"subject",label:"Subject",isRequired:!0,helperText:"Summarize the outcome or topic"}),s.jsxs(O,{children:[s.jsx(d,{source:"activity_date",label:"Date",type:"date",isRequired:!0}),s.jsx(d,{source:"duration_minutes",label:"Duration (minutes)",type:"number",helperText:"Optional length of the activity"})]}),s.jsx("div",{"data-tutorial":"activity-description",children:s.jsx(d,{source:"description",label:"Notes",multiline:!0,rows:4,helperText:"Optional narrative for this interaction"})})]}),s.jsxs(_,{title:"Relationships",children:[s.jsxs(O,{children:[s.jsx("div",{"data-tutorial":"activity-opportunity",children:s.jsx(f,{source:"opportunity_id",reference:"opportunities",children:s.jsx(y,{label:"Opportunity",optionText:"name",helperText:"Required for interaction activities",placeholder:"Search opportunities"})})}),s.jsx(f,{source:"contact_id",reference:"contacts_summary",children:s.jsx(y,{label:"Contact",optionText:k,helperText:"Optional contact involved",placeholder:"Search contacts"})})]}),s.jsx(f,{source:"organization_id",reference:"organizations",children:s.jsx(y,{label:"Organization",optionText:"name",helperText:"Optional organization context",placeholder:"Search organizations"})})]}),s.jsxs(v,{open:e,onOpenChange:t,children:[s.jsx(g,{asChild:!0,children:s.jsxs("button",{type:"button",className:"flex items-center gap-2 w-full border-b border-border pb-2","aria-label":"Follow-up",children:[e?s.jsx(w,{className:"h-4 w-4"}):s.jsx(T,{className:"h-4 w-4"}),s.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Follow-up"})]})}),s.jsx(N,{className:"pt-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(O,{children:s.jsx(b,{source:"sentiment",label:"Sentiment",choices:C,helperText:"How did the contact respond?"})}),s.jsxs(O,{children:[s.jsx(d,{source:"follow_up_date",label:"Follow-up Date",type:"date"}),s.jsx(d,{source:"follow_up_notes",label:"Follow-up Notes",multiline:!0,rows:3,helperText:"Optional next steps summary"})]})]})})]}),s.jsxs(v,{open:i,onOpenChange:r,children:[s.jsx(g,{asChild:!0,children:s.jsxs("button",{type:"button",className:"flex items-center gap-2 w-full border-b border-border pb-2","aria-label":"Outcome",children:[i?s.jsx(w,{className:"h-4 w-4"}):s.jsx(T,{className:"h-4 w-4"}),s.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Outcome"})]})}),s.jsx(N,{className:"pt-6",children:s.jsx("div",{className:"space-y-6",children:s.jsxs(O,{children:[s.jsx(d,{source:"location",label:"Location",helperText:"Where did this occur?"}),s.jsx(d,{source:"outcome",label:"Outcome",helperText:"Optional result summary"})]})})})]})]})}t(F,"ActivitySinglePage");const S=t(()=>{const{field:e}=o({source:"activity_type",defaultValue:"interaction"});return s.jsx("input",{type:"hidden",...e,value:e.value??"interaction"})},"HiddenActivityTypeField");function z(){const{identity:e}=i(),t=n.useMemo(()=>({...u.partial().parse({}),created_by:e?.id}),[e?.id]);return s.jsx(r,{redirect:"list",children:s.jsx("div",{className:"bg-muted mt-2 flex justify-center px-6 py-6",children:s.jsx("div",{className:"w-full max-w-5xl",children:s.jsx(a,{defaultValues:t,children:s.jsx(p,{children:s.jsx(m,{className:"space-y-6 p-6",children:s.jsx(A,{})})})})})})})}t(z,"ActivityCreate");const A=t(()=>{const{errors:e}=h();return s.jsxs(s.Fragment,{children:[s.jsx(x,{errors:e}),s.jsx(S,{}),s.jsx(F,{}),s.jsx(j,{dataTutorial:"activity-save-btn"})]})},"ActivityFormContent");export{z as default};
