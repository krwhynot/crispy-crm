var s=Object.defineProperty,e=(e,i)=>s(e,"name",{value:i,configurable:!0});import{aS as i,j as a,aR as t,ay as r,an as n}from"./chunk-DWisBx5Y.js";import{a as c,d as o,a7 as l,ap as d,e as m,f as u,R as j,O as p}from"../assets/index-BMLg8LT4.js";import{T as x,a as h,b as f,c as k}from"./chunk-CQf6o72Z.js";import{R as N}from"./chunk-D5BivTro.js";import{F as v}from"./chunk-DJlpmdvB.js";import{O as y}from"./chunk-DzHhiDUS.js";import{N as g,a as b}from"./chunk-D_g-0s-9.js";import"./chunk-CPNr-gD1.js";import"./chunk-DAbVPE3R.js";import"./chunk-DOHniRee.js";import"./chunk-CLB8yy76.js";import"./chunk-BePsjq0D.js";import"./chunk-8CWr9u5d.js";import"./chunk-DBZxM7AY.js";import"./chunk-CL328sMP.js";import"./chunk-DlK383r0.js";import"./chunk-D3G-UbTO.js";import"./chunk-ll1YpLU1.js";const w=e(()=>{const s=i();return a.jsx(t,{actions:!1,redirect:"show",mutationMode:"pessimistic",mutationOptions:{onSuccess:e(()=>{s.invalidateQueries({queryKey:["opportunities"]})},"onSuccess")},children:a.jsx("div",{className:"mt-2",children:a.jsx(O,{})})})},"OpportunityEdit"),O=e(()=>{const s=r();return s?a.jsx(n,{className:"flex flex-1 flex-col gap-4 pb-2",defaultValues:{...s},children:a.jsx(c,{children:a.jsxs(o,{className:"pt-6",children:[a.jsx(_,{}),a.jsxs(x,{defaultValue:"details",className:"mt-6",children:[a.jsxs(h,{className:"grid w-full grid-cols-2",children:[a.jsx(f,{value:"details",children:"Details"}),a.jsx(f,{value:"notes",children:"Notes & Activity"})]}),a.jsx(k,{value:"details",children:a.jsx(y,{mode:"edit"})}),a.jsx(k,{value:"notes",children:a.jsxs("div",{className:"m-4",children:[a.jsx(l,{className:"mb-4"}),a.jsx(N,{target:"opportunity_id",reference:"opportunityNotes",sort:{field:"created_at",order:"DESC"},empty:a.jsx(b,{reference:"opportunities"}),children:a.jsx(g,{reference:"opportunities"})})]})})]}),a.jsx(v,{children:a.jsxs("div",{className:"flex flex-row gap-2 justify-between w-full",children:[a.jsx(d,{}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(m,{}),a.jsx(u,{})]})]})})]})})},s.id):null},"OpportunityEditForm"),_=e(()=>{const s=r();return s?a.jsx("div",{className:"flex justify-between items-start mb-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[s.customer_organization_id&&a.jsx(j,{source:"customer_organization_id",reference:"organizations",link:!1,children:a.jsx(p,{})}),a.jsxs("h2",{className:"text-2xl font-semibold",children:["Edit ",s.name]})]})}):null},"EditHeader");export{w as OpportunityEdit,w as default};
