var e=Object.defineProperty,s=(s,t)=>e(s,"name",{value:t,configurable:!0});import{j as t,au as i,aB as r,F as a,t as n,v as o,aG as c,b2 as l,o as d,T as p}from"./chunk-ByJg_QQB.js";import{L as m}from"./chunk-1NZFT-6z.js";import{B as h,a as u,b as j}from"./chunk-Dc4zIuSl.js";import{s as x,T as k,u as f}from"../assets/index-BoLku8RR.js";import{S as T}from"./chunk-BI4rbfTW.js";import{D as y}from"./chunk-6VRQ4sAj.js";import{S as b}from"./chunk-BM66RvuK.js";import{T as g}from"./chunk-acJ-0OJh.js";import{S as w}from"./chunk-C5fZsuMg.js";import{R as v}from"./chunk-D6FmavVW.js";import{A as _}from"./chunk-nUtrHAIa.js";import{c as N}from"./chunk-X0dz3Jmp.js";import"./chunk-JxeXaC9i.js";import"./chunk-B1s-jt27.js";import"./chunk-knA4lag3.js";import"./chunk-Tyyhsnez.js";import"./chunk-Bc6KM1xM.js";import"./chunk-DwAffUXc.js";import"./chunk-XoqkUGE_.js";import"./chunk-CRKBdUTG.js";import"./chunk-B5Y5c6gs.js";import"./chunk-DpghI3EP.js";import"./chunk-CMQLDEz_.js";import"./chunk-C_u3nriX.js";import"./chunk-B9H_70fs.js";const D=s(({title:e,children:s,actions:r,className:a,...n})=>t.jsx(i,{...n,children:t.jsx(L,{title:e,actions:r,className:a,children:s})}),"Edit"),L=s(({title:e,actions:s,className:i,children:k})=>{const f=r(),b=a();if(!b)throw new Error("The EditView component must be used within a ResourceContextProvider");const g=n()(b,2),w=o()({resource:b,type:"list"}),v=c(b)(f.record),{hasShow:_}=l({resource:b}),N=d();return f.isLoading||!f.record?null:t.jsxs(t.Fragment,{children:[t.jsxs(h,{children:[N&&t.jsx(u,{children:t.jsx(m,{to:"/",children:t.jsx(p,{i18nKey:"ra.page.dashboard",children:"Home"})})}),t.jsx(u,{children:t.jsx(m,{to:w,children:g})}),t.jsx(j,{children:v})]}),t.jsxs("div",{className:x("flex justify-between items-start flex-wrap gap-2 my-2",i),children:[t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:void 0!==e?e:f.defaultTitle}),s??t.jsxs("div",{className:"flex justify-end items-center gap-2",children:[_?t.jsx(T,{}):null,t.jsx(y,{})]})]}),t.jsx("div",{className:"my-2",children:k})]})},"EditView"),z=s(()=>t.jsxs("div",{className:"space-y-2",children:[t.jsx(k,{source:"title",label:"Task Title *",helperText:"Required field"}),t.jsx(k,{source:"description",label:"Description",multiline:!0,rows:3,helperText:"Optional detailed description"}),t.jsx(k,{source:"due_date",label:"Due Date *",type:"date",isRequired:!0,helperText:"When is this due?"}),t.jsx(k,{source:"reminder_date",label:"Reminder Date",type:"date",helperText:"Optional reminder"})]}),"TaskGeneralTab"),E=s(()=>{const{taskTypes:e}=f();return t.jsxs("div",{className:"space-y-2",children:[t.jsx(w,{source:"priority",label:"Priority",choices:[{id:"low",name:"Low"},{id:"medium",name:"Medium"},{id:"high",name:"High"},{id:"critical",name:"Critical"}],helperText:"Task priority level"}),t.jsx(w,{source:"type",label:"Type",choices:e.map(e=>({id:e,name:e})),helperText:"Category of task"}),t.jsx(v,{source:"organization_id",reference:"organizations",children:t.jsx(_,{label:"Organization",optionText:"name",helperText:"Link to organization"})}),t.jsx(v,{source:"opportunity_id",reference:"opportunities",children:t.jsx(_,{label:"Opportunity",optionText:"title",helperText:"Link to opportunity"})}),t.jsx(v,{source:"contact_id",reference:"contacts_summary",children:t.jsx(_,{label:"Contact",optionText:N,helperText:"Link to contact"})})]})},"TaskDetailsTab"),O=s(()=>{const e=[{key:"general",label:"General",fields:["title","description","due_date","reminder_date"],content:t.jsx(z,{})},{key:"details",label:"Details",fields:["priority","type","organization_id","opportunity_id","contact_id"],content:t.jsx(E,{})}];return t.jsx(g,{tabs:e,defaultTab:"general"})},"TaskInputs");function R(){return t.jsx(D,{children:t.jsx(b,{children:t.jsx(O,{})})})}s(R,"TaskEdit");export{R as default};
