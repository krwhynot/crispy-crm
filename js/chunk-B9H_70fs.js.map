{"version":3,"file":"chunk-B9H_70fs.js","sources":["../../src/atomic-crm/contacts/Avatar.tsx"],"sourcesContent":["import { AvatarFallback, AvatarImage, Avatar as ShadcnAvatar } from \"@/components/ui/avatar\";\nimport { useRecordContext } from \"ra-core\";\n\nimport type { Contact } from \"../types\";\n\nexport const Avatar = (props: {\n  record?: Contact;\n  width?: 20 | 25 | 40;\n  height?: 20 | 25 | 40;\n  title?: string;\n}) => {\n  const record = useRecordContext<Contact>(props);\n  // If we come from company page, the record is defined (to pass the company as a prop),\n  // but neither of those fields are and this lead to an error when creating contact.\n  if (!record?.avatar && !record?.first_name && !record?.last_name) {\n    return null;\n  }\n\n  const size = props.width || props.height;\n  const sizeClass = props.width === 20 ? \"w-5 h-5\" : props.width === 25 ? \"w-8 h-8\" : \"w-11 h-11\";\n\n  const fullName = [record.first_name, record.last_name].filter(Boolean).join(\" \");\n  const altText = fullName ? `${fullName} avatar` : \"Contact avatar\";\n\n  return (\n    <ShadcnAvatar className={sizeClass} title={props.title}>\n      <AvatarImage src={record.avatar?.src ?? undefined} alt={altText} />\n      <AvatarFallback className={size && size < 40 ? \"text-xs\" : \"text-sm\"}>\n        {record.first_name?.charAt(0).toUpperCase()}\n        {record.last_name?.charAt(0).toUpperCase()}\n      </AvatarFallback>\n    </ShadcnAvatar>\n  );\n};\n"],"names":["Avatar","props","record","useRecordContext","avatar","first_name","last_name","size","width","height","sizeClass","fullName","filter","Boolean","join","altText","ShadcnAvatar","className","title","children","jsx","AvatarImage","src","alt","AvatarFallback","charAt","toUpperCase"],"mappings":"4IAKO,MAAMA,iDAAUC,IAMrB,MAAMC,EAASC,EAA0BF,GAGzC,IAAKC,GAAQE,SAAWF,GAAQG,aAAeH,GAAQI,UACrD,OAAO,KAGT,MAAMC,EAAON,EAAMO,OAASP,EAAMQ,OAC5BC,EAA4B,KAAhBT,EAAMO,MAAe,UAA4B,KAAhBP,EAAMO,MAAe,UAAY,YAE9EG,EAAW,CAACT,EAAOG,WAAYH,EAAOI,WAAWM,OAAOC,SAASC,KAAK,KACtEC,EAAUJ,EAAW,GAAGA,WAAoB,iBAElD,cACGK,EAAA,CAAaC,UAAWP,EAAWQ,MAAOjB,EAAMiB,MAC/CC,SAAA,CAAAC,MAACC,GAAYC,IAAKpB,EAAOE,QAAQkB,UAAO,EAAWC,IAAKR,WACvDS,EAAA,CAAeP,UAAWV,GAAQA,EAAO,GAAK,UAAY,UACxDY,SAAA,CAAAjB,EAAOG,YAAYoB,OAAO,GAAGC,cAC7BxB,EAAOI,WAAWmB,OAAO,GAAGC,qBAxBf"}