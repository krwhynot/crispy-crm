var e=Object.defineProperty,s=(s,a)=>e(s,"name",{value:a,configurable:!0});import{aj as a,ak as i,j as n,al as l,Z as r,aM as c,an as t}from"./chunk-DWisBx5Y.js";import{i as o,k as d,l as u,$ as m,aa as x,v as p,V as f,a7 as h,x as j,y as g,as as v,w as N,a as _,d as P,F as b,e as S,f as y}from"../assets/index-BMLg8LT4.js";import{r as k}from"./chunk-CPNr-gD1.js";import"./chunk-DAbVPE3R.js";import"./chunk-DOHniRee.js";import"./chunk-CLB8yy76.js";import"./chunk-BePsjq0D.js";import"./chunk-8CWr9u5d.js";import"./chunk-DBZxM7AY.js";const C=s(e=>{const{label:r,source:c,className:t,resource:f,validate:h,format:j,parse:g=D,onFocus:v,helperText:N,defaultValue:_,...P}=e,b=a({resource:f}),{id:S,field:y,isRequired:C}=i(e),w=s(e=>{const s=e.target.value,a=g(s);q(s),y.onChange(a??0)},"handleChange"),[U,q]=k.useState(y.value?.toString()??""),B=k.useRef(!1),T=s(e=>{v?.(e),B.current=!0},"handleFocus"),z=s(e=>{y.onBlur?.(e),B.current=!1,q(y.value?.toString()??"")},"handleBlur");return k.useEffect(()=>{B.current||q(y.value?.toString()??"")},[y.value]),n.jsxs(o,{id:S,className:t,name:y.name,children:[!1!==r&&n.jsx(d,{children:n.jsx(l,{label:r,source:c,resource:b,isRequired:C})}),n.jsx(u,{children:n.jsx(m,{...P,...y,type:"number",value:U,onChange:w,onFocus:T,onBlur:z})}),n.jsx(x,{helperText:N}),n.jsx(p,{})]})},"NumberInput"),D=s(e=>{if(null==e||""===e)return null;const s=parseFloat(e);return isNaN(s)?0:s},"convertStringToNumber"),w=s(()=>{const e=f();return n.jsxs("div",{className:"flex flex-col gap-4 p-1",children:[n.jsx(U,{}),n.jsxs("div",{className:"flex gap-6 "+(e?"flex-col":"flex-row"),children:[n.jsxs("div",{className:"flex flex-col gap-10 flex-1",children:[n.jsx(q,{}),n.jsx(B,{})]}),n.jsx(h,{orientation:e?"horizontal":"vertical"}),n.jsx("div",{className:"flex flex-col gap-8 flex-1",children:n.jsx(T,{})})]})]})},"ProductInputs"),U=s(()=>n.jsxs("div",{className:"flex gap-4 flex-1 flex-col",children:[n.jsx(j,{source:"name",className:"w-full",helperText:"Required field",placeholder:"Product name",label:"Product Name *"}),n.jsx(j,{source:"sku",className:"w-full",helperText:"Required field",placeholder:"SKU-123",label:"SKU *"}),n.jsx(j,{source:"description",multiline:!0,rows:3,className:"w-full",placeholder:"Product description...",label:"Description"})]}),"ProductBasicInputs"),q=s(()=>n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsx("h6",{className:"text-lg font-semibold",children:"Product Details"}),n.jsx(g,{source:"principal_id",reference:"organizations",label:"Principal/Supplier *",filter:{organization_type:"principal"},children:n.jsx(v,{optionText:"name",helperText:"Select the supplier organization"})}),n.jsx(N,{source:"unit_of_measure",label:"Unit of Measure",choices:[{id:"each",name:"Each"},{id:"case",name:"Case"},{id:"box",name:"Box"},{id:"pound",name:"Pound"},{id:"kilogram",name:"Kilogram"},{id:"liter",name:"Liter"},{id:"gallon",name:"Gallon"},{id:"dozen",name:"Dozen"}]})]}),"ProductDetailInputs"),B=s(()=>n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsx("h6",{className:"text-lg font-semibold",children:"Pricing"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(C,{source:"list_price",label:"List Price",placeholder:"0.00",helperText:"Selling price to customers",step:.01,className:"flex-1"}),n.jsx(N,{source:"currency_code",label:"Currency",choices:[{id:"USD",name:"USD"},{id:"EUR",name:"EUR"},{id:"GBP",name:"GBP"},{id:"CAD",name:"CAD"},{id:"AUD",name:"AUD"},{id:"JPY",name:"JPY"},{id:"CNY",name:"CNY"},{id:"MXN",name:"MXN"}],className:"w-32"})]})]}),"ProductPricingInputs"),T=s(()=>n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsx("h6",{className:"text-lg font-semibold",children:"Classification"}),n.jsx(N,{source:"category",label:"Category *",choices:[{id:"equipment",name:"Equipment"},{id:"beverages",name:"Beverages"},{id:"dairy",name:"Dairy"},{id:"frozen",name:"Frozen"},{id:"fresh_produce",name:"Fresh Produce"},{id:"meat_poultry",name:"Meat & Poultry"},{id:"seafood",name:"Seafood"},{id:"dry_goods",name:"Dry Goods"},{id:"snacks",name:"Snacks"},{id:"condiments",name:"Condiments"},{id:"baking_supplies",name:"Baking Supplies"},{id:"spices_seasonings",name:"Spices & Seasonings"},{id:"canned_goods",name:"Canned Goods"},{id:"pasta_grains",name:"Pasta & Grains"},{id:"oils_vinegars",name:"Oils & Vinegars"},{id:"sweeteners",name:"Sweeteners"},{id:"cleaning_supplies",name:"Cleaning Supplies"},{id:"paper_products",name:"Paper Products"},{id:"other",name:"Other"}],helperText:"Required field"}),n.jsx(N,{source:"status",label:"Status *",choices:[{id:"active",name:"Active"},{id:"discontinued",name:"Discontinued"},{id:"pending",name:"Pending"},{id:"seasonal",name:"Seasonal"},{id:"out_of_stock",name:"Out of Stock"}]})]}),"ProductClassificationInputs"),z=s(()=>{const{identity:e}=r();return n.jsx(c,{redirect:"show",transform:s(e=>(e.status||(e.status="active"),e.category||(e.category="equipment"),e.unit_of_measure||(e.unit_of_measure="each"),e.list_price&&(e.list_price=parseFloat(e.list_price)),e),"transform"),children:n.jsx("div",{className:"mt-2 flex lg:mr-72",children:n.jsx("div",{className:"flex-1",children:n.jsx(t,{defaultValues:{status:"active",category:"equipment",unit_of_measure:"each",currency_code:"USD",created_by:e?.id},children:n.jsx(_,{children:n.jsxs(P,{children:[n.jsx(w,{}),n.jsx(b,{children:n.jsxs("div",{className:"flex flex-row gap-2 justify-end",children:[n.jsx(S,{}),n.jsx(y,{label:"Create Product"})]})})]})})})})})})},"ProductCreate");export{z as ProductCreate,z as default};
