{"version":3,"file":"chunk-DDhuYt5_.js","sources":["../../src/components/admin/sort-button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { memo } from \"react\";\nimport { ArrowUpDown, ChevronDown } from \"lucide-react\";\nimport { shallowEqual, useListSortContext, useTranslate, useTranslateLabel } from \"ra-core\";\nimport { useIsMobile } from \"@/hooks/use-mobile\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\";\n\ntype ButtonProps = React.ComponentProps<typeof Button>;\n\nconst SortButtonComponent = (props: SortButtonProps) => {\n  const {\n    fields,\n    label = \"ra.sort.sort_by\",\n    icon = defaultIcon,\n    resource: resourceProp,\n    ...rest\n  } = props;\n  const { resource: resourceFromContext, sort, setSort } = useListSortContext();\n  const resource = resourceProp || resourceFromContext;\n  const translate = useTranslate();\n  const translateLabel = useTranslateLabel();\n  const isMobile = useIsMobile();\n  const [open, setOpen] = React.useState(false);\n\n  const handleChangeSort = (field: string) => {\n    setSort({\n      field,\n      order: field === sort.field ? inverseOrder(sort.order) : \"ASC\",\n    });\n    setOpen(false);\n  };\n\n  const fieldLabel = translateLabel({\n    resource,\n    source: sort.field,\n  });\n  const buttonLabel = translate(label, {\n    field: fieldLabel,\n    field_lower_first:\n      typeof fieldLabel === \"string\"\n        ? fieldLabel.charAt(0).toLowerCase() + fieldLabel.slice(1)\n        : undefined,\n    order: translate(`ra.sort.${sort.order}`),\n    _: label,\n  });\n\n  return (\n    <DropdownMenu open={open} onOpenChange={setOpen}>\n      {isMobile ? (\n        <TooltipProvider>\n          <Tooltip>\n            <DropdownMenuTrigger asChild>\n              <TooltipTrigger asChild>\n                <Button variant=\"outline\" size=\"icon\" aria-label={buttonLabel} {...rest}>\n                  {icon}\n                </Button>\n              </TooltipTrigger>\n            </DropdownMenuTrigger>\n            <TooltipContent>\n              <p>{buttonLabel}</p>\n            </TooltipContent>\n          </Tooltip>\n        </TooltipProvider>\n      ) : (\n        <DropdownMenuTrigger asChild>\n          <Button variant=\"outline\" size=\"sm\" {...rest}>\n            {icon}\n            <span className=\"ml-2\">{buttonLabel}</span>\n            <ChevronDown className=\"ml-2 h-4 w-4\" />\n          </Button>\n        </DropdownMenuTrigger>\n      )}\n      <DropdownMenuContent align=\"start\">\n        {fields.map((field) => (\n          <DropdownMenuItem key={field} onClick={() => handleChangeSort(field)}>\n            {translateLabel({\n              resource,\n              source: field,\n            })}{\" \"}\n            {translate(`ra.sort.${sort.field === field ? inverseOrder(sort.order) : \"ASC\"}`)}\n          </DropdownMenuItem>\n        ))}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n};\n\nconst defaultIcon = <ArrowUpDown className=\"h-4 w-4\" />;\n\nconst inverseOrder = (sort: string) => (sort === \"ASC\" ? \"DESC\" : \"ASC\");\n\nconst arePropsEqual = (prevProps: any, nextProps: any) =>\n  shallowEqual(prevProps.fields, nextProps.fields);\n\nexport interface SortButtonProps extends ButtonProps {\n  fields: string[];\n  icon?: React.ReactNode;\n  label?: string;\n  resource?: string;\n}\n\nexport const SortButton = memo(SortButtonComponent, arePropsEqual);\n"],"names":["SortButtonComponent","props","fields","label","icon","defaultIcon","resource","resourceProp","rest","resourceFromContext","sort","setSort","useListSortContext","translate","useTranslate","translateLabel","useTranslateLabel","isMobile","useIsMobile","open","setOpen","React.useState","handleChangeSort","field","order","inverseOrder","fieldLabel","source","buttonLabel","field_lower_first","charAt","toLowerCase","slice","_","jsxs","DropdownMenu","onOpenChange","children","jsx","TooltipProvider","Tooltip","DropdownMenuTrigger","asChild","TooltipTrigger","Button","variant","size","TooltipContent","className","ChevronDown","DropdownMenuContent","align","map","DropdownMenuItem","onClick","ArrowUpDown","__name","arePropsEqual","prevProps","nextProps","shallowEqual","SortButton","memo"],"mappings":"4VAgBA,MAAMA,IAAuBC,IAC3B,MAAMC,OACJA,EAAAC,MACAA,EAAQ,kBAAAC,KACRA,EAAOC,EACPC,SAAUC,KACPC,GACDP,GACIK,SAAUG,EAAAC,KAAqBA,EAAAC,QAAMA,GAAYC,IACnDN,EAAWC,GAAgBE,EAC3BI,EAAYC,IACZC,EAAiBC,IACjBC,EAAWC,KACVC,EAAMC,GAAWC,EAAAA,UAAe,GAEjCC,IAAoBC,IACxBZ,EAAQ,CACNY,QACAC,MAAOD,IAAUb,EAAKa,MAAQE,EAAaf,EAAKc,OAAS,QAE3DJ,GAAQ,IALe,oBAQnBM,EAAaX,EAAe,CAChCT,WACAqB,OAAQjB,EAAKa,QAETK,EAAcf,EAAUV,EAAO,CACnCoB,MAAOG,EACPG,kBACwB,iBAAfH,EACHA,EAAWI,OAAO,GAAGC,cAAgBL,EAAWM,MAAM,QACtD,EACNR,MAAOX,EAAU,WAAWH,EAAKc,SACjCS,EAAG9B,IAGL,SACE+B,KAACC,EAAA,CAAahB,OAAYiB,aAAchB,EACrCiB,SAAA,CAAApB,EACCqB,EAAAA,IAACC,EAAA,CACCF,SAAAH,OAACM,EAAA,CACCH,SAAA,CAAAC,EAAAA,IAACG,GAAoBC,SAAO,EAC1BL,eAACM,EAAA,CAAeD,SAAO,EACrBL,SAAAC,EAAAA,IAACM,EAAA,CAAOC,QAAQ,UAAUC,KAAK,OAAO,aAAYlB,KAAiBpB,EAChE6B,SAAAjC,QAIPkC,MAACS,EAAA,CACCV,SAAAC,EAAAA,IAAC,IAAA,CAAGD,oBAKVC,EAAAA,IAACG,EAAA,CAAoBC,SAAO,EAC1BL,SAAAH,EAAAA,KAACU,EAAA,CAAOC,QAAQ,UAAUC,KAAK,QAAStC,EACrC6B,SAAA,CAAAjC,EACDkC,EAAAA,IAAC,OAAA,CAAKU,UAAU,OAAQX,SAAAT,MACxBU,IAACW,EAAA,CAAYD,UAAU,sBAI7BV,EAAAA,IAACY,EAAA,CAAoBC,MAAM,QACxBd,WAAOe,IAAK7B,GACXW,EAAAA,KAACmB,EAAA,CAA6BC,cAAehC,EAAiBC,GAAvB,WACpCc,SAAA,CAAAtB,EAAe,CACdT,WACAqB,OAAQJ,IACN,IACHV,EAAU,WAAWH,EAAKa,QAAUA,EAAQE,EAAaf,EAAKc,OAAS,WALnDD,UAjEL,uBA8EtBlB,EAAciC,EAAAA,IAACiB,EAAA,CAAYP,UAAU,YAErCvB,EAAe+B,EAAC9C,GAA2B,QAATA,EAAiB,OAAS,MAA7C,gBAEf+C,KAAiBC,EAAgBC,IACrCC,EAAaF,EAAUxD,OAAQyD,EAAUzD,QADrB,iBAUT2D,EAAaC,EAAAA,KAAK9D,EAAqByD"}