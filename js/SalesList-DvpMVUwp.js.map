{"version":3,"file":"SalesList-DvpMVUwp.js","sources":["../../node_modules/ra-ui-materialui/dist/field/EmailField.js","../../src/atomic-crm/sales/SalesProfileTab.tsx","../../src/atomic-crm/sales/SalesPermissionsTab.tsx","../../src/atomic-crm/sales/SalesSlideOver.tsx","../../src/atomic-crm/sales/SalesList.tsx"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport Typography from '@mui/material/Typography';\nimport { Link } from '@mui/material';\nimport { styled, useThemeProps, } from '@mui/material/styles';\nimport { useFieldValue, useTranslate } from 'ra-core';\nimport { sanitizeFieldRestProps } from \"./sanitizeFieldRestProps.js\";\nimport { genericMemo } from \"./genericMemo.js\";\nvar EmailFieldImpl = function (inProps) {\n    var props = useThemeProps({\n        props: inProps,\n        name: PREFIX,\n    });\n    var className = props.className, emptyText = props.emptyText, rest = __rest(props, [\"className\", \"emptyText\"]);\n    var value = useFieldValue(props);\n    var translate = useTranslate();\n    if (value == null) {\n        return emptyText ? (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), emptyText && translate(emptyText, { _: emptyText }))) : null;\n    }\n    return (React.createElement(StyledLink, __assign({ className: className, href: \"mailto:\".concat(value), onClick: stopPropagation, variant: \"body2\" }, sanitizeFieldRestProps(rest)), value));\n};\nEmailFieldImpl.displayName = 'EmailFieldImpl';\nexport var EmailField = genericMemo(EmailFieldImpl);\n// useful to prevent click bubbling in a Datagrid with rowClick\nvar stopPropagation = function (e) { return e.stopPropagation(); };\nvar PREFIX = 'RaEmailField';\nvar StyledLink = styled(Link, {\n    name: PREFIX,\n    overridesResolver: function (props, styles) { return styles.root; },\n})({});\n//# sourceMappingURL=EmailField.js.map","import { useState } from \"react\";\nimport { useUpdate, useNotify } from \"react-admin\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\n// NOTE: Client-side validation removed (2025-12-12)\n// Edge Function /users PATCH handles validation with patchUserSchema\n// salesService.salesUpdate() filters empty strings before sending to Edge Function\n// Having duplicate validation here caused 400 errors from empty string avatar_url\n\ninterface SalesProfileTabProps {\n  record: any;\n  mode: \"view\" | \"edit\";\n  onModeToggle?: () => void;\n}\n\n/**\n * SalesProfileTab - Profile information for sales users\n *\n * Displays and allows editing of:\n * - Name (first_name, last_name)\n * - Email\n * - Phone\n * - Avatar\n *\n * View mode: Read-only display with labels\n * Edit mode: Inline form with Save/Cancel buttons\n */\nexport function SalesProfileTab({ record, mode, onModeToggle }: SalesProfileTabProps) {\n  const [update, { isLoading }] = useUpdate();\n  const notify = useNotify();\n\n  // Form state (only used in edit mode)\n  const [formData, setFormData] = useState({\n    first_name: record?.first_name || \"\",\n    last_name: record?.last_name || \"\",\n    email: record?.email || \"\",\n    phone: record?.phone || \"\",\n    avatar_url: record?.avatar_url || \"\",\n  });\n\n  const [errors, setErrors] = useState<Record<string, string>>({});\n\n  // Update form field\n  const handleChange = (field: string, value: string) => {\n    setFormData((prev) => ({ ...prev, [field]: value }));\n    // Clear error for this field\n    if (errors[field]) {\n      setErrors((prev) => {\n        const newErrors = { ...prev };\n        delete newErrors[field];\n        return newErrors;\n      });\n    }\n  };\n\n  // Save changes\n  const handleSave = async () => {\n    try {\n      // NOTE: Client-side validation removed - Edge Function validates\n      // salesService.salesUpdate() filters empty strings before sending\n\n      // Update record - CRITICAL: previousData required by ra-data-postgrest's getChanges()\n      await update(\n        \"sales\",\n        { id: record.id, data: formData, previousData: record },\n        {\n          onSuccess: () => {\n            notify(\"Profile updated successfully\", { type: \"success\" });\n            if (onModeToggle) onModeToggle(); // Switch back to view mode\n          },\n          onError: (error: any) => {\n            notify(error.message || \"Failed to update profile\", { type: \"error\" });\n            if (error.errors) {\n              setErrors(error.errors);\n            }\n          },\n        }\n      );\n    } catch (error: any) {\n      if (error.errors) {\n        setErrors(error.errors);\n        notify(\"Validation failed. Please check the form.\", { type: \"warning\" });\n      } else {\n        notify(\"An error occurred\", { type: \"error\" });\n      }\n    }\n  };\n\n  // Get initials for avatar fallback\n  const getInitials = () => {\n    const firstName = mode === \"edit\" ? formData.first_name : record?.first_name;\n    const lastName = mode === \"edit\" ? formData.last_name : record?.last_name;\n    return `${firstName?.[0] || \"\"}${lastName?.[0] || \"\"}`.toUpperCase();\n  };\n\n  if (!record) {\n    return (\n      <div className=\"space-y-4\">\n        <Skeleton className=\"h-11 w-full\" />\n        <Skeleton className=\"h-11 w-full\" />\n        <Skeleton className=\"h-11 w-full\" />\n      </div>\n    );\n  }\n\n  // Form submit handler for the footer button\n  const handleFormSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    handleSave();\n  };\n\n  // Wrap content in form when in edit mode so footer button works\n  const content = (\n    <div className=\"space-y-6\">\n      {/* Avatar */}\n      <div className=\"flex flex-col items-center gap-4\">\n        <Avatar className=\"size-20\">\n          <AvatarImage\n            src={mode === \"edit\" ? formData.avatar_url : record.avatar_url}\n            alt={`${record.first_name} ${record.last_name}`}\n          />\n          <AvatarFallback>{getInitials()}</AvatarFallback>\n        </Avatar>\n        {mode === \"edit\" && (\n          <div className=\"w-full\">\n            <Label htmlFor=\"avatar_url\">Avatar URL</Label>\n            <Input\n              id=\"avatar_url\"\n              type=\"url\"\n              value={formData.avatar_url}\n              onChange={(e) => handleChange(\"avatar_url\", e.target.value)}\n              placeholder=\"https://example.com/avatar.jpg\"\n              className={errors.avatar_url ? \"border-destructive\" : \"\"}\n            />\n            {errors.avatar_url && (\n              <p className=\"text-sm text-destructive mt-1\">{errors.avatar_url}</p>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Name fields */}\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <Label htmlFor=\"first_name\">First Name</Label>\n          {mode === \"view\" ? (\n            <p className=\"text-sm text-foreground mt-1\">{record.first_name}</p>\n          ) : (\n            <>\n              <Input\n                id=\"first_name\"\n                value={formData.first_name}\n                onChange={(e) => handleChange(\"first_name\", e.target.value)}\n                className={errors.first_name ? \"border-destructive\" : \"\"}\n                disabled={isLoading}\n              />\n              {errors.first_name && (\n                <p className=\"text-sm text-destructive mt-1\">{errors.first_name}</p>\n              )}\n            </>\n          )}\n        </div>\n        <div>\n          <Label htmlFor=\"last_name\">Last Name</Label>\n          {mode === \"view\" ? (\n            <p className=\"text-sm text-foreground mt-1\">{record.last_name}</p>\n          ) : (\n            <>\n              <Input\n                id=\"last_name\"\n                value={formData.last_name}\n                onChange={(e) => handleChange(\"last_name\", e.target.value)}\n                className={errors.last_name ? \"border-destructive\" : \"\"}\n                disabled={isLoading}\n              />\n              {errors.last_name && (\n                <p className=\"text-sm text-destructive mt-1\">{errors.last_name}</p>\n              )}\n            </>\n          )}\n        </div>\n      </div>\n\n      {/* Email */}\n      <div>\n        <Label htmlFor=\"email\">Email</Label>\n        {mode === \"view\" ? (\n          <p className=\"text-sm text-foreground mt-1\">{record.email}</p>\n        ) : (\n          <>\n            <Input\n              id=\"email\"\n              type=\"email\"\n              value={formData.email}\n              onChange={(e) => handleChange(\"email\", e.target.value)}\n              className={errors.email ? \"border-destructive\" : \"\"}\n              disabled={isLoading}\n            />\n            {errors.email && <p className=\"text-sm text-destructive mt-1\">{errors.email}</p>}\n          </>\n        )}\n      </div>\n\n      {/* Phone */}\n      <div>\n        <Label htmlFor=\"phone\">Phone</Label>\n        {mode === \"view\" ? (\n          <p className=\"text-sm text-foreground mt-1\">{record.phone || \"Not provided\"}</p>\n        ) : (\n          <>\n            <Input\n              id=\"phone\"\n              type=\"tel\"\n              value={formData.phone}\n              onChange={(e) => handleChange(\"phone\", e.target.value)}\n              className={errors.phone ? \"border-destructive\" : \"\"}\n              disabled={isLoading}\n              placeholder=\"Optional\"\n            />\n            {errors.phone && <p className=\"text-sm text-destructive mt-1\">{errors.phone}</p>}\n          </>\n        )}\n      </div>\n    </div>\n  );\n\n  // In edit mode, wrap with form so footer \"Save Changes\" button works\n  if (mode === \"edit\") {\n    return (\n      <form id=\"slide-over-edit-form\" onSubmit={handleFormSubmit}>\n        {content}\n      </form>\n    );\n  }\n\n  return content;\n}\n","import { useState } from \"react\";\nimport { useUpdate, useNotify, useGetIdentity, useRedirect, useRefresh } from \"react-admin\";\nimport { Button } from \"@/components/ui/button\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n} from \"@/components/ui/alert-dialog\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Trash2 } from \"lucide-react\";\n// NOTE: Client-side validation removed (2025-12-12)\n// Edge Function /users PATCH handles validation with patchUserSchema\n// salesService.salesUpdate() filters empty strings before sending to Edge Function\n// Having duplicate validation here caused 400 errors from empty string avatar_url\nimport { invalidateIdentityCache } from \"../providers/supabase/authProvider\";\n\ninterface SalesPermissionsTabProps {\n  record: any;\n  mode: \"view\" | \"edit\";\n  onModeToggle?: () => void;\n}\n\n/**\n * SalesPermissionsTab - User permissions and role management\n *\n * Displays and allows editing of:\n * - Role (admin, manager, rep)\n * - Administrator toggle (linked to admin role)\n * - Disabled status\n *\n * View mode: Read-only display with badges\n * Edit mode: Inline form with dropdowns and switches\n */\nexport function SalesPermissionsTab({ record, mode, onModeToggle }: SalesPermissionsTabProps) {\n  const [update, { isLoading }] = useUpdate();\n  const notify = useNotify();\n  const redirect = useRedirect();\n  const refresh = useRefresh();\n  const { data: identity } = useGetIdentity();\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  // Form state\n  const [formData, setFormData] = useState({\n    role: record?.role || \"rep\",\n    disabled: record?.disabled || false,\n  });\n\n  const [errors, setErrors] = useState<Record<string, string>>({});\n\n  // Prevent editing own account\n  const isSelfEdit = record?.id === identity?.id;\n\n  // Remove user (soft-delete by setting deleted_at)\n  const handleRemoveUser = async () => {\n    if (isSelfEdit) {\n      notify(\"You cannot remove your own account\", { type: \"warning\" });\n      return;\n    }\n\n    setIsDeleting(true);\n    try {\n      // CRITICAL: previousData required by ra-data-postgrest's getChanges()\n      await update(\n        \"sales\",\n        { id: record.id, data: { deleted_at: new Date().toISOString() }, previousData: record },\n        {\n          onSuccess: () => {\n            notify(\"User removed successfully\", { type: \"success\" });\n            refresh();\n            redirect(\"/sales\");\n          },\n          onError: (error: any) => {\n            notify(error.message || \"Failed to remove user\", { type: \"error\" });\n          },\n        }\n      );\n    } finally {\n      setIsDeleting(false);\n    }\n  };\n\n  // Update form field\n  const handleChange = (field: string, value: any) => {\n    setFormData((prev) => ({ ...prev, [field]: value }));\n    if (errors[field]) {\n      setErrors((prev) => {\n        const newErrors = { ...prev };\n        delete newErrors[field];\n        return newErrors;\n      });\n    }\n  };\n\n  // Save changes\n  const handleSave = async () => {\n    try {\n      // NOTE: Client-side validation removed - Edge Function validates\n      // salesService.salesUpdate() filters empty strings before sending\n\n      // Update record - CRITICAL: previousData required by ra-data-postgrest's getChanges()\n      await update(\n        \"sales\",\n        { id: record.id, data: formData, previousData: record },\n        {\n          onSuccess: () => {\n            // If role changed, invalidate cache so user sees new permissions immediately\n            if (formData.role !== record.role) {\n              invalidateIdentityCache();\n            }\n            notify(\"Permissions updated successfully\", { type: \"success\" });\n            if (onModeToggle) onModeToggle(); // Switch back to view mode\n          },\n          onError: (error: any) => {\n            notify(error.message || \"Failed to update permissions\", { type: \"error\" });\n            if (error.errors) {\n              setErrors(error.errors);\n            }\n          },\n        }\n      );\n    } catch (error: any) {\n      if (error.errors) {\n        setErrors(error.errors);\n        notify(\"Validation failed. Please check the form.\", { type: \"warning\" });\n      } else {\n        notify(\"An error occurred\", { type: \"error\" });\n      }\n    }\n  };\n\n  // Get role badge styling\n  const getRoleBadge = (role: string) => {\n    switch (role) {\n      case \"admin\":\n        return (\n          <Badge variant=\"outline\" className=\"border-primary text-primary\">\n            Admin\n          </Badge>\n        );\n      case \"manager\":\n        return (\n          <Badge variant=\"outline\" className=\"border-success text-success\">\n            Manager\n          </Badge>\n        );\n      case \"rep\":\n        return (\n          <Badge variant=\"outline\" className=\"border-muted-foreground text-muted-foreground\">\n            Rep\n          </Badge>\n        );\n      default:\n        return null;\n    }\n  };\n\n  // Form submit handler for the footer button\n  const handleFormSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!isSelfEdit) {\n      handleSave();\n    }\n  };\n\n  if (!record) {\n    return (\n      <div className=\"space-y-4\">\n        <Skeleton className=\"h-11 w-full\" />\n        <Skeleton className=\"h-11 w-full\" />\n        <Skeleton className=\"h-11 w-full\" />\n      </div>\n    );\n  }\n\n  const content = (\n    <div className=\"space-y-6\">\n      {/* Self-edit warning */}\n      {isSelfEdit && mode === \"edit\" && (\n        <div className=\"p-3 border border-warning bg-warning/10 rounded-md\">\n          <p className=\"text-sm text-warning-foreground\">\n            <strong>Note:</strong> You cannot modify your own permissions.\n          </p>\n        </div>\n      )}\n\n      {/* Role field */}\n      <div>\n        <Label htmlFor=\"role\">Role</Label>\n        {mode === \"view\" ? (\n          <div className=\"mt-2\">{getRoleBadge(record.role)}</div>\n        ) : (\n          <>\n            <Select\n              value={formData.role}\n              onValueChange={(value) => handleChange(\"role\", value)}\n              disabled={isLoading || isSelfEdit}\n            >\n              <SelectTrigger id=\"role\" className={errors.role ? \"border-destructive\" : \"\"}>\n                <SelectValue placeholder=\"Select role\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"rep\">Rep</SelectItem>\n                <SelectItem value=\"manager\">Manager</SelectItem>\n                <SelectItem value=\"admin\">Admin</SelectItem>\n              </SelectContent>\n            </Select>\n            {errors.role && <p className=\"text-sm text-destructive mt-1\">{errors.role}</p>}\n            <p className=\"text-sm text-muted-foreground mt-1\">\n              Rep: Edit own records. Manager: Edit all records. Admin: Full system access.\n            </p>\n          </>\n        )}\n      </div>\n\n      {/* Administrator toggle (computed from role) */}\n      <div>\n        <Label htmlFor=\"administrator\">Administrator Access</Label>\n        {mode === \"view\" ? (\n          <p className=\"text-sm text-foreground mt-1\">\n            {record.administrator || record.role === \"admin\" ? \"Yes\" : \"No\"}\n          </p>\n        ) : (\n          <div className=\"mt-2\">\n            <div className=\"flex items-center gap-3 p-3 border border-border rounded-md bg-muted/20\">\n              <Switch\n                id=\"administrator\"\n                checked={formData.role === \"admin\"}\n                onCheckedChange={(checked) => handleChange(\"role\", checked ? \"admin\" : \"rep\")}\n                disabled={isLoading || isSelfEdit}\n              />\n              <div className=\"flex-1\">\n                <p className=\"text-sm font-medium\">\n                  {formData.role === \"admin\" ? \"Enabled\" : \"Disabled\"}\n                </p>\n                <p className=\"text-xs text-muted-foreground\">\n                  Administrator access is automatically granted to users with Admin role\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Disabled status */}\n      <div>\n        <Label htmlFor=\"disabled\">Account Status</Label>\n        {mode === \"view\" ? (\n          <div className=\"mt-2\">\n            {record.disabled ? (\n              <Badge variant=\"outline\" className=\"border-warning text-warning\">\n                Disabled\n              </Badge>\n            ) : (\n              <Badge variant=\"outline\" className=\"border-success text-success\">\n                Active\n              </Badge>\n            )}\n          </div>\n        ) : (\n          <div className=\"mt-2\">\n            <div className=\"flex items-center gap-3 p-3 border border-border rounded-md bg-muted/20\">\n              <Switch\n                id=\"disabled\"\n                checked={formData.disabled}\n                onCheckedChange={(checked) => handleChange(\"disabled\", checked)}\n                disabled={isLoading || isSelfEdit}\n              />\n              <div className=\"flex-1\">\n                <p className=\"text-sm font-medium\">\n                  {formData.disabled ? \"Account Disabled\" : \"Account Active\"}\n                </p>\n                <p className=\"text-xs text-muted-foreground\">\n                  Disabled accounts cannot log in or access the system\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Warning for disabled accounts */}\n      {mode === \"edit\" && formData.disabled && !isSelfEdit && (\n        <div className=\"p-3 border border-warning bg-warning/10 rounded-md\">\n          <p className=\"text-sm text-warning-foreground\">\n            <strong>Warning:</strong> Disabling this account will prevent the user from logging in.\n          </p>\n        </div>\n      )}\n\n      {/* Danger Zone - Remove User (admin only, not self) */}\n      {!isSelfEdit && identity?.role === \"admin\" && (\n        <div className=\"mt-8 pt-6 border-t border-destructive/30\">\n          <div className=\"p-4 border border-destructive/30 rounded-lg bg-destructive/5\">\n            <h3 className=\"text-sm font-semibold text-destructive mb-2\">Danger Zone</h3>\n            <p className=\"text-sm text-muted-foreground mb-4\">\n              Removing a user will prevent them from accessing the system. This action can be undone\n              by an administrator.\n            </p>\n            <AlertDialog>\n              <AlertDialogTrigger asChild>\n                <Button variant=\"destructive\" size=\"sm\" disabled={isDeleting} className=\"gap-2\">\n                  <Trash2 className=\"h-4 w-4\" />\n                  {isDeleting ? \"Removing...\" : \"Remove User\"}\n                </Button>\n              </AlertDialogTrigger>\n              <AlertDialogContent>\n                <AlertDialogHeader>\n                  <AlertDialogTitle>Remove User</AlertDialogTitle>\n                  <AlertDialogDescription>\n                    Are you sure you want to remove{\" \"}\n                    <strong>\n                      {record?.first_name} {record?.last_name}\n                    </strong>{\" \"}\n                    ({record?.email})?\n                    <br />\n                    <br />\n                    They will no longer be able to log in or access the system. This can be undone\n                    later if needed.\n                  </AlertDialogDescription>\n                </AlertDialogHeader>\n                <AlertDialogFooter>\n                  <AlertDialogCancel>Cancel</AlertDialogCancel>\n                  <AlertDialogAction\n                    onClick={handleRemoveUser}\n                    className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n                  >\n                    Remove User\n                  </AlertDialogAction>\n                </AlertDialogFooter>\n              </AlertDialogContent>\n            </AlertDialog>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n\n  // In edit mode, wrap with form so footer \"Save Changes\" button works\n  if (mode === \"edit\") {\n    return (\n      <form id=\"slide-over-edit-form\" onSubmit={handleFormSubmit}>\n        {content}\n      </form>\n    );\n  }\n\n  return content;\n}\n","import { UserIcon, ShieldCheckIcon } from \"lucide-react\";\nimport type { TabConfig } from \"@/components/layouts/ResourceSlideOver\";\nimport { ResourceSlideOver } from \"@/components/layouts/ResourceSlideOver\";\nimport { SalesProfileTab } from \"./SalesProfileTab\";\nimport { SalesPermissionsTab } from \"./SalesPermissionsTab\";\nimport type { Sale } from \"../types\";\n\ninterface SalesSlideOverProps {\n  recordId: number | null;\n  isOpen: boolean;\n  onClose: () => void;\n  mode: \"view\" | \"edit\";\n  onModeToggle: () => void;\n}\n\n/**\n * SalesSlideOver - Slide-over panel for viewing and editing sales users\n *\n * Features:\n * - Profile tab: Name, Email, Phone, Avatar\n * - Permissions tab: Role, Administrator toggle, Disabled status\n * - View/Edit mode toggle\n * - URL synchronization\n * - ESC key to close\n *\n * Design:\n * - 40vw width (480-720px)\n * - Slide-in from right\n * - Two tabs with icons\n */\nexport function SalesSlideOver({\n  recordId,\n  isOpen,\n  onClose,\n  mode,\n  onModeToggle,\n}: SalesSlideOverProps) {\n  // Tab configuration\n  const tabs: TabConfig[] = [\n    {\n      key: \"profile\",\n      label: \"Profile\",\n      component: SalesProfileTab,\n      icon: UserIcon,\n    },\n    {\n      key: \"permissions\",\n      label: \"Permissions\",\n      component: SalesPermissionsTab,\n      icon: ShieldCheckIcon,\n    },\n  ];\n\n  // Record representation function (with null safety for refetch cycles)\n  const recordRepresentation = (record: Sale) => {\n    return `${record?.first_name || \"\"} ${record?.last_name || \"\"}`.trim() || \"User\";\n  };\n\n  return (\n    <ResourceSlideOver\n      resource=\"sales\"\n      recordId={recordId}\n      isOpen={isOpen}\n      onClose={onClose}\n      mode={mode}\n      onModeToggle={onModeToggle}\n      tabs={tabs}\n      recordRepresentation={recordRepresentation}\n    />\n  );\n}\n","import { useGetIdentity, useListContext } from \"ra-core\";\nimport { CreateButton } from \"@/components/admin/create-button\";\nimport { ExportButton } from \"@/components/admin/export-button\";\nimport { List } from \"@/components/admin/list\";\nimport { SearchInput } from \"@/components/admin/search-input\";\nimport { PremiumDatagrid } from \"@/components/admin/PremiumDatagrid\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { SalesListSkeleton } from \"@/components/ui/list-skeleton\";\nimport { useRecordContext, EmailField, TextField } from \"react-admin\";\nimport { TopToolbar } from \"../layout/TopToolbar\";\nimport { useSlideOverState } from \"@/hooks/useSlideOverState\";\nimport { useFilterCleanup } from \"../hooks/useFilterCleanup\";\nimport { useListKeyboardNavigation } from \"@/hooks/useListKeyboardNavigation\";\nimport { FloatingCreateButton } from \"@/components/admin/FloatingCreateButton\";\nimport { COLUMN_VISIBILITY } from \"../utils/listPatterns\";\nimport { SalesSlideOver } from \"./SalesSlideOver\";\n\n/**\n * SalesList - Standard list page for Sales (User) records\n *\n * Follows ContactList reference pattern:\n * - Identity-aware rendering with skeleton loading\n * - Keyboard navigation with slide-over integration\n * - Responsive columns using COLUMN_VISIBILITY semantic presets\n *\n * Note: Sales uses search filters (not sidebar filters) and no bulk actions\n * since this is an admin-only resource for team member management.\n */\nexport default function SalesList() {\n  const { data: identity, isPending: isIdentityPending } = useGetIdentity();\n  const { slideOverId, isOpen, mode, openSlideOver, closeSlideOver, toggleMode } =\n    useSlideOverState();\n\n  useFilterCleanup(\"sales\");\n\n  if (isIdentityPending) return <SalesListSkeleton />;\n  if (!identity) return null;\n\n  return (\n    <>\n      <List\n        title={false}\n        filters={filters}\n        actions={<SalesListActions />}\n        sort={{ field: \"first_name\", order: \"ASC\" }}\n      >\n        <SalesListLayout openSlideOver={openSlideOver} isSlideOverOpen={isOpen} />\n        <FloatingCreateButton />\n      </List>\n\n      <SalesSlideOver\n        recordId={slideOverId}\n        isOpen={isOpen}\n        onClose={closeSlideOver}\n        mode={mode}\n        onModeToggle={toggleMode}\n      />\n    </>\n  );\n}\n\nconst filters = [<SearchInput source=\"q\" alwaysOn key=\"search\" />];\n\n/**\n * SalesListLayout - Handles loading, empty states, and datagrid rendering\n */\nconst SalesListLayout = ({\n  openSlideOver,\n  isSlideOverOpen,\n}: {\n  openSlideOver: (id: number, mode: \"view\" | \"edit\") => void;\n  isSlideOverOpen: boolean;\n}) => {\n  const { data, isPending, filterValues } = useListContext();\n\n  // Keyboard navigation for list rows\n  // Disabled when slide-over is open to prevent conflicts\n  const { focusedIndex } = useListKeyboardNavigation({\n    onSelect: (id) => openSlideOver(Number(id), \"view\"),\n    enabled: !isSlideOverOpen,\n  });\n\n  const hasFilters = filterValues && Object.keys(filterValues).length > 0;\n\n  // Show skeleton during initial load\n  if (isPending) {\n    return (\n      <div className=\"card-container\">\n        <SalesListSkeleton />\n      </div>\n    );\n  }\n\n  if (!data?.length && !hasFilters) {\n    return (\n      <div className=\"card-container\">\n        <div className=\"flex flex-col items-center justify-center py-12 text-center\">\n          <p className=\"text-muted-foreground\">No team members found.</p>\n          <p className=\"text-sm text-muted-foreground mt-2\">\n            Add team members to manage CRM access and permissions.\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"card-container\">\n      <PremiumDatagrid\n        onRowClick={(id) => openSlideOver(Number(id), \"view\")}\n        focusedIndex={focusedIndex}\n        bulkActionButtons={false}\n      >\n        {/* Column 1: First Name - Primary identifier (sortable) - always visible */}\n        <TextField source=\"first_name\" label=\"First Name\" {...COLUMN_VISIBILITY.alwaysVisible} />\n\n        {/* Column 2: Last Name - Secondary identifier (sortable) - always visible */}\n        <TextField source=\"last_name\" label=\"Last Name\" {...COLUMN_VISIBILITY.alwaysVisible} />\n\n        {/* Column 3: Email - Contact info (sortable) - hidden on tablet/mobile */}\n        <EmailField source=\"email\" label=\"Email\" {...COLUMN_VISIBILITY.desktopOnly} />\n\n        {/* Column 4: Role - Permission level badge (non-sortable) - always visible */}\n        <RoleBadgeField label=\"Role\" {...COLUMN_VISIBILITY.alwaysVisible} />\n\n        {/* Column 5: Status - Account status (non-sortable) - hidden on tablet/mobile */}\n        <StatusField label=\"Status\" {...COLUMN_VISIBILITY.desktopOnly} />\n      </PremiumDatagrid>\n    </div>\n  );\n};\n\n/**\n * SalesListActions - TopToolbar with export and create actions\n */\nconst SalesListActions = () => (\n  <TopToolbar>\n    <ExportButton />\n    <CreateButton label=\"New user\" />\n  </TopToolbar>\n);\n\n/**\n * RoleBadgeField - Display role badge with semantic colors\n */\nconst RoleBadgeField = ({\n  label: _label,\n  ..._props\n}: {\n  label: string;\n  cellClassName?: string;\n  headerClassName?: string;\n}) => {\n  const record = useRecordContext();\n  if (!record) return null;\n\n  let badge = null;\n  switch (record.role) {\n    case \"admin\":\n      badge = (\n        <Badge variant=\"outline\" className=\"border-primary text-primary\">\n          Admin\n        </Badge>\n      );\n      break;\n    case \"manager\":\n      badge = (\n        <Badge variant=\"outline\" className=\"border-success text-success\">\n          Manager\n        </Badge>\n      );\n      break;\n    case \"rep\":\n      badge = (\n        <Badge variant=\"outline\" className=\"border-muted-foreground text-muted-foreground\">\n          Rep\n        </Badge>\n      );\n      break;\n  }\n\n  return <div className=\"flex flex-row gap-1\">{badge}</div>;\n};\n\n/**\n * StatusField - Display account status (Active/Disabled)\n */\nconst StatusField = ({\n  label: _label,\n  ..._props\n}: {\n  label: string;\n  cellClassName?: string;\n  headerClassName?: string;\n}) => {\n  const record = useRecordContext();\n  if (!record) return null;\n\n  return (\n    <div className=\"flex flex-row gap-1\">\n      {record.disabled ? (\n        <Badge variant=\"outline\" className=\"border-warning text-warning\">\n          Disabled\n        </Badge>\n      ) : (\n        <Badge variant=\"outline\" className=\"border-success text-success\">\n          Active\n        </Badge>\n      )}\n    </div>\n  );\n};\n"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","EmailFieldImpl","inProps","props","useThemeProps","name","PREFIX","className","emptyText","rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__rest","value","useFieldValue","translate","useTranslate","React.createElement","Typography","component","variant","sanitizeFieldRestProps","_","StyledLink","href","concat","onClick","stopPropagation","displayName","EmailField","genericMemo","styled","Link","overridesResolver","__name","styles","root","SalesProfileTab","record","mode","onModeToggle","update","isLoading","useUpdate","notify","useNotify","formData","setFormData","useState","first_name","last_name","email","phone","avatar_url","errors","setErrors","handleChange","field","prev","newErrors","handleSave","async","id","data","previousData","onSuccess","type","onError","error","message","getInitials","firstName","lastName","toUpperCase","jsxs","children","jsx","Skeleton","handleFormSubmit","preventDefault","content","Avatar","AvatarImage","src","alt","AvatarFallback","Label","htmlFor","Input","onChange","target","placeholder","Fragment","disabled","onSubmit","SalesPermissionsTab","redirect","useRedirect","refresh","useRefresh","identity","useGetIdentity","isDeleting","setIsDeleting","role","isSelfEdit","handleRemoveUser","deleted_at","Date","toISOString","invalidateIdentityCache","getRoleBadge","Badge","Select","onValueChange","SelectTrigger","SelectValue","SelectContent","SelectItem","administrator","Switch","checked","onCheckedChange","AlertDialog","AlertDialogTrigger","asChild","Button","size","Trash2","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction","SalesSlideOver","recordId","isOpen","onClose","tabs","key","label","icon","UserIcon","ShieldCheckIcon","recordRepresentation","trim","ResourceSlideOver","resource","SalesList","isPending","isIdentityPending","slideOverId","openSlideOver","closeSlideOver","toggleMode","useSlideOverState","useFilterCleanup","SalesListSkeleton","List","title","filters","actions","SalesListActions","sort","order","SalesListLayout","isSlideOverOpen","FloatingCreateButton","SearchInput","source","alwaysOn","filterValues","useListContext","focusedIndex","useListKeyboardNavigation","onSelect","Number","enabled","hasFilters","keys","PremiumDatagrid","onRowClick","bulkActionButtons","TextField","COLUMN_VISIBILITY","alwaysVisible","desktopOnly","RoleBadgeField","StatusField","TopToolbar","ExportButton","CreateButton","_label","_props","useRecordContext","badge"],"mappings":"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","x_google_ignoreList":[0]}