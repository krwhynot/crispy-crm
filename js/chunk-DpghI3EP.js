var e=Object.defineProperty,s=(s,t)=>e(s,"name",{value:t,configurable:!0});import{j as t}from"./chunk-ByJg_QQB.js";import{r}from"./chunk-1NZFT-6z.js";import{s as a}from"../assets/index-BoLku8RR.js";import{k as i,q as n,p as o}from"./chunk-Bc6KM1xM.js";function l(e,s={},t=""){const r=[];for(const[a,i]of Object.entries(e)){const e=t?`${t}.${a}`:a;if(i?.message&&"string"==typeof i.message){const t=s[e]||s[a]||c(a);r.push({field:t,message:i.message})}else i&&"object"==typeof i&&r.push(...l(i,s,e))}return r}function c(e){return e.replace(/_/g," ").replace(/([a-z])([A-Z])/g,"$1 $2").replace(/\b\w/g,e=>e.toUpperCase()).replace(/Id$/,"")}function d({errors:e,className:c,defaultExpanded:d=!1,fieldLabels:m={}}){const[u,x]=r.useState(d),f=l(e,m);if(0===f.length)return null;const p=f.length,h=s(e=>{const s=document.querySelector(`[name="${e}"], [id="${e}"]`);s&&(s.scrollIntoView({behavior:"smooth",block:"center"}),s.focus())},"focusField");return t.jsxs("div",{role:"alert","aria-live":"polite","aria-atomic":"true",className:a("rounded-lg border border-destructive/50 bg-destructive/10 p-4",c),children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[t.jsx(i,{className:"h-5 w-5 shrink-0","aria-hidden":"true"}),t.jsx("span",{className:"font-medium text-sm",children:1===p?"1 validation error":`${p} validation errors`})]}),p>1&&t.jsx("button",{type:"button",onClick:s(()=>x(!u),"onClick"),className:"flex items-center gap-1 text-xs text-destructive/80 hover:text-destructive transition-colors","aria-expanded":u,"aria-controls":"error-list",children:u?t.jsxs(t.Fragment,{children:["Hide details",t.jsx(n,{className:"h-4 w-4"})]}):t.jsxs(t.Fragment,{children:["Show details",t.jsx(o,{className:"h-4 w-4"})]})})]}),(1===p||u)&&t.jsx("ul",{id:"error-list",className:"mt-2 space-y-1 text-sm text-destructive/90","aria-label":"Form validation errors",children:f.map(({field:e,message:r},a)=>t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"shrink-0",children:"â€¢"}),t.jsxs("button",{type:"button",onClick:s(()=>h(e),"onClick"),className:"text-left hover:underline focus:underline focus:outline-none",children:[t.jsxs("span",{className:"font-medium",children:[e,":"]})," ",r]})]},`${e}-${a}`))})]})}s(l,"extractErrors"),s(c,"formatFieldName"),s(d,"FormErrorSummary");export{d as F};
