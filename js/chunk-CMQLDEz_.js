var e=Object.defineProperty,t=(t,r)=>e(t,"name",{value:r,configurable:!0});import{j as r}from"./chunk-ByJg_QQB.js";import{ao as n,X as l,R as a,P as o,O as u,C as i,ap as c}from"./chunk-knA4lag3.js";import{r as d}from"./chunk-1NZFT-6z.js";import{s}from"../assets/index-BoLku8RR.js";import{aU as m}from"./chunk-Bc6KM1xM.js";var f=.999,v=/[\\\/_+.#"@\[\(\{&]/,p=/[\\\/_+.#"@\[\(\{&]/g,h=/[\s-]/,g=/[\s-]/g;function b(e,t,r,n,l,a,o){if(a===t.length)return l===e.length?1:.99;var u=`${l},${a}`;if(void 0!==o[u])return o[u];for(var i,c,d,s,m=n.charAt(a),x=r.indexOf(m,l),E=0;x>=0;)(i=b(e,t,r,n,x+1,a+1,o))>E&&(x===l?i*=1:v.test(e.charAt(x-1))?(i*=.8,(d=e.slice(l,x-1).match(p))&&l>0&&(i*=Math.pow(f,d.length))):h.test(e.charAt(x-1))?(i*=.9,(s=e.slice(l,x-1).match(g))&&l>0&&(i*=Math.pow(f,s.length))):(i*=.17,l>0&&(i*=Math.pow(f,x-l))),e.charAt(x)!==t.charAt(a)&&(i*=.9999)),(i<.1&&r.charAt(x-1)===n.charAt(a+1)||n.charAt(a+1)===n.charAt(a)&&r.charAt(x-1)!==n.charAt(a))&&(.1*(c=b(e,t,r,n,x+1,a+2,o))>i&&(i=.1*c)),i>E&&(E=i),x=r.indexOf(m,x+1);return o[u]=E,E}function x(e){return e.toLowerCase().replace(g," ")}function E(e,t,r){return b(e=r&&r.length>0?""+(e+" "+r.join(" ")):e,t,x(e),x(t),0,0,{})}t(b,"G"),t(x,"D"),t(E,"W");var w='[cmdk-group=""]',y='[cmdk-group-items=""]',k='[cmdk-item=""]',S=`${k}:not([aria-disabled="true"])`,C="cmdk-item-select",I="data-value",A=t((e,t,r)=>E(e,t,r),"Re"),R=d.createContext(void 0),j=t(()=>d.useContext(R),"K"),M=d.createContext(void 0),N=t(()=>d.useContext(M),"ee"),D=d.createContext(void 0),P=d.forwardRef((e,r)=>{let a=H(()=>{var t,r;return{search:"",value:null!=(r=null!=(t=e.value)?t:e.defaultValue)?r:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),o=H(()=>new Set),u=H(()=>new Map),i=H(()=>new Map),c=H(()=>new Set),s=U(e),{label:m,children:f,value:v,onValueChange:p,filter:h,shouldFilter:g,loop:b,disablePointerSelection:x=!1,vimBindings:E=!0,...j}=e,N=n(),D=n(),P=n(),_=d.useRef(null),K=Q();W(()=>{if(void 0!==v){let e=v.trim();a.current.value=e,L.emit()}},[v]),W(()=>{K(6,q)},[]);let L=d.useMemo(()=>({subscribe:t(e=>(c.current.add(e),()=>c.current.delete(e)),"subscribe"),snapshot:t(()=>a.current,"snapshot"),setState:t((e,t,r)=>{var n,l,o,u;if(!Object.is(a.current[e],t)){if(a.current[e]=t,"search"===e)z(),F(),K(1,V);else if("value"===e){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let e=document.getElementById(P);e?e.focus():null==(n=document.getElementById(N))||n.focus()}if(K(7,()=>{var e;a.current.selectedItemId=null==(e=X())?void 0:e.id,L.emit()}),r||K(5,q),void 0!==(null==(l=s.current)?void 0:l.value)){let e=null!=t?t:"";return void(null==(u=(o=s.current).onValueChange)||u.call(o,e))}}L.emit()}},"setState"),emit:t(()=>{c.current.forEach(e=>e())},"emit")}),[]),O=d.useMemo(()=>({value:t((e,t,r)=>{var n;t!==(null==(n=i.current.get(e))?void 0:n.value)&&(i.current.set(e,{value:t,keywords:r}),a.current.filtered.items.set(e,$(t,r)),K(2,()=>{F(),L.emit()}))},"value"),item:t((e,t)=>(o.current.add(e),t&&(u.current.has(t)?u.current.get(t).add(e):u.current.set(t,new Set([e]))),K(3,()=>{z(),F(),a.current.value||V(),L.emit()}),()=>{i.current.delete(e),o.current.delete(e),a.current.filtered.items.delete(e);let t=X();K(4,()=>{z(),(null==t?void 0:t.getAttribute("id"))===e&&V(),L.emit()})}),"item"),group:t(e=>(u.current.has(e)||u.current.set(e,new Set),()=>{i.current.delete(e),u.current.delete(e)}),"group"),filter:t(()=>s.current.shouldFilter,"filter"),label:m||e["aria-label"],getDisablePointerSelection:t(()=>s.current.disablePointerSelection,"getDisablePointerSelection"),listId:N,inputId:P,labelId:D,listInnerRef:_}),[]);function $(e,t){var r,n;let l=null!=(n=null==(r=s.current)?void 0:r.filter)?n:A;return e?l(e,a.current.search,t):0}function F(){if(!a.current.search||!1===s.current.shouldFilter)return;let e=a.current.filtered.items,t=[];a.current.filtered.groups.forEach(r=>{let n=u.current.get(r),l=0;n.forEach(t=>{let r=e.get(t);l=Math.max(r,l)}),t.push([r,l])});let r=_.current;J().sort((t,r)=>{var n,l;let a=t.getAttribute("id"),o=r.getAttribute("id");return(null!=(n=e.get(o))?n:0)-(null!=(l=e.get(a))?l:0)}).forEach(e=>{let t=e.closest(y);t?t.appendChild(e.parentElement===t?e:e.closest(`${y} > *`)):r.appendChild(e.parentElement===r?e:e.closest(`${y} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{var t;let r=null==(t=_.current)?void 0:t.querySelector(`${w}[${I}="${encodeURIComponent(e[0])}"]`);null==r||r.parentElement.appendChild(r)})}function V(){let e=J().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(I);L.setState("value",t||void 0)}function z(){var e,t,r,n;if(!a.current.search||!1===s.current.shouldFilter)return void(a.current.filtered.count=o.current.size);a.current.filtered.groups=new Set;let l=0;for(let u of o.current){let o=$(null!=(t=null==(e=i.current.get(u))?void 0:e.value)?t:"",null!=(n=null==(r=i.current.get(u))?void 0:r.keywords)?n:[]);a.current.filtered.items.set(u,o),o>0&&l++}for(let[o,i]of u.current)for(let e of i)if(a.current.filtered.items.get(e)>0){a.current.filtered.groups.add(o);break}a.current.filtered.count=l}function q(){var e,t,r;let n=X();n&&((null==(e=n.parentElement)?void 0:e.firstChild)===n&&(null==(r=null==(t=n.closest(w))?void 0:t.querySelector('[cmdk-group-heading=""]'))||r.scrollIntoView({block:"nearest"})),n.scrollIntoView({block:"nearest"}))}function X(){var e;return null==(e=_.current)?void 0:e.querySelector(`${k}[aria-selected="true"]`)}function J(){var e;return Array.from((null==(e=_.current)?void 0:e.querySelectorAll(S))||[])}function T(e){let t=J()[e];t&&L.setState("value",t.getAttribute(I))}function ee(e){var t;let r=X(),n=J(),l=n.findIndex(e=>e===r),a=n[l+e];null!=(t=s.current)&&t.loop&&(a=l+e<0?n[n.length-1]:l+e===n.length?n[0]:n[l+e]),a&&L.setState("value",a.getAttribute(I))}function te(e){let t,r=X(),n=null==r?void 0:r.closest(w);for(;n&&!t;)n=e>0?B(n,w):G(n,w),t=null==n?void 0:n.querySelector(S);t?L.setState("value",t.getAttribute(I)):ee(e)}t($,"te"),t(F,"z"),t(V,"W"),t(z,"J"),t(q,"ne"),t(X,"M"),t(J,"V"),t(T,"X"),t(ee,"Q"),t(te,"re");let re=t(()=>T(J().length-1),"oe"),ne=t(e=>{e.preventDefault(),e.metaKey?re():e.altKey?te(1):ee(1)},"ie"),le=t(e=>{e.preventDefault(),e.metaKey?T(0):e.altKey?te(-1):ee(-1)},"se");return d.createElement(l.div,{ref:r,tabIndex:-1,...j,"cmdk-root":"",onKeyDown:t(e=>{var t;null==(t=j.onKeyDown)||t.call(j,e);let r=e.nativeEvent.isComposing||229===e.keyCode;if(!e.defaultPrevented&&!r)switch(e.key){case"n":case"j":E&&e.ctrlKey&&ne(e);break;case"ArrowDown":ne(e);break;case"p":case"k":E&&e.ctrlKey&&le(e);break;case"ArrowUp":le(e);break;case"Home":e.preventDefault(),T(0);break;case"End":e.preventDefault(),re();break;case"Enter":{e.preventDefault();let t=X();if(t){let e=new Event(C);t.dispatchEvent(e)}}}},"onKeyDown")},d.createElement("label",{"cmdk-label":"",htmlFor:O.inputId,id:O.labelId,style:Z},m),Y(e,e=>d.createElement(M.Provider,{value:L},d.createElement(R.Provider,{value:O},e))))}),_=d.forwardRef((e,r)=>{var a,o;let u=n(),i=d.useRef(null),s=d.useContext(D),m=j(),f=U(e),v=null!=(o=null==(a=f.current)?void 0:a.forceMount)?o:null==s?void 0:s.forceMount;W(()=>{if(!v)return m.item(u,null==s?void 0:s.id)},[v]);let p=J(u,i,[e.value,e.children,i],e.keywords),h=N(),g=X(e=>e.value&&e.value===p.current),b=X(e=>!(!v&&!1!==m.filter())||(!e.search||e.filtered.items.get(u)>0));function x(){var e,t;E(),null==(t=(e=f.current).onSelect)||t.call(e,p.current)}function E(){h.setState("value",p.current,!0)}if(d.useEffect(()=>{let t=i.current;if(t&&!e.disabled)return t.addEventListener(C,x),()=>t.removeEventListener(C,x)},[b,e.onSelect,e.disabled]),t(x,"C"),t(E,"S"),!b)return null;let{disabled:w,value:y,onSelect:k,forceMount:S,keywords:I,...A}=e;return d.createElement(l.div,{ref:c(i,r),...A,id:u,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!g,"data-disabled":!!w,"data-selected":!!g,onPointerMove:w||m.getDisablePointerSelection()?void 0:E,onClick:w?void 0:x},e.children)}),K=d.forwardRef((e,t)=>{let{heading:r,children:a,forceMount:o,...u}=e,i=n(),s=d.useRef(null),m=d.useRef(null),f=n(),v=j(),p=X(e=>!(!o&&!1!==v.filter())||(!e.search||e.filtered.groups.has(i)));W(()=>v.group(i),[]),J(i,s,[e.value,e.heading,m]);let h=d.useMemo(()=>({id:i,forceMount:o}),[o]);return d.createElement(l.div,{ref:c(s,t),...u,"cmdk-group":"",role:"presentation",hidden:!p||void 0},r&&d.createElement("div",{ref:m,"cmdk-group-heading":"","aria-hidden":!0,id:f},r),Y(e,e=>d.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?f:void 0},d.createElement(D.Provider,{value:h},e))))}),L=d.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=d.useRef(null),o=X(e=>!e.search);return r||o?d.createElement(l.div,{ref:c(a,t),...n,"cmdk-separator":"",role:"separator"}):null}),O=d.forwardRef((e,r)=>{let{onValueChange:n,...a}=e,o=null!=e.value,u=N(),i=X(e=>e.search),c=X(e=>e.selectedItemId),s=j();return d.useEffect(()=>{null!=e.value&&u.setState("search",e.value)},[e.value]),d.createElement(l.input,{ref:r,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":s.listId,"aria-labelledby":s.labelId,"aria-activedescendant":c,id:s.inputId,type:"text",value:o?e.value:i,onChange:t(e=>{o||u.setState("search",e.target.value),null==n||n(e.target.value)},"onChange")})}),$=d.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,o=d.useRef(null),u=d.useRef(null),i=X(e=>e.selectedItemId),s=j();return d.useEffect(()=>{if(u.current&&o.current){let e,t=u.current,r=o.current,n=new ResizeObserver(()=>{e=requestAnimationFrame(()=>{let e=t.offsetHeight;r.style.setProperty("--cmdk-list-height",e.toFixed(1)+"px")})});return n.observe(t),()=>{cancelAnimationFrame(e),n.unobserve(t)}}},[]),d.createElement(l.div,{ref:c(o,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":i,"aria-label":n,id:s.listId},Y(e,e=>d.createElement("div",{ref:c(u,s.listInnerRef),"cmdk-list-sizer":""},e)))}),F=d.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:l,contentClassName:c,container:s,...m}=e;return d.createElement(a,{open:r,onOpenChange:n},d.createElement(o,{container:s},d.createElement(u,{"cmdk-overlay":"",className:l}),d.createElement(i,{"aria-label":e.label,"cmdk-dialog":"",className:c},d.createElement(P,{ref:t,...m}))))}),V=d.forwardRef((e,t)=>X(e=>0===e.filtered.count)?d.createElement(l.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),z=d.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...o}=e;return d.createElement(l.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Y(e,e=>d.createElement("div",{"aria-hidden":!0},e)))}),q=Object.assign(P,{List:$,Item:_,Input:O,Group:K,Separator:L,Dialog:F,Empty:V,Loading:z});function B(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function G(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function U(e){let t=d.useRef(e);return W(()=>{t.current=e}),t}t(B,"we"),t(G,"De"),t(U,"pe");var W="undefined"==typeof window?d.useEffect:d.useLayoutEffect;function H(e){let t=d.useRef();return void 0===t.current&&(t.current=e()),t}function X(e){let r=N(),n=t(()=>e(r.snapshot()),"n");return d.useSyncExternalStore(r.subscribe,n,n)}function J(e,t,r,n=[]){let l=d.useRef(),a=j();return W(()=>{var o;let u=(()=>{var e;for(let t of r){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():l.current}})(),i=n.map(e=>e.trim());a.value(e,u,i),null==(o=t.current)||o.setAttribute(I,u),l.current=u}),l}t(H,"L"),t(X,"P"),t(J,"ve");var Q=t(()=>{let[e,t]=d.useState(),r=H(()=>new Map);return W(()=>{r.current.forEach(e=>e()),r.current=new Map},[e]),(e,n)=>{r.current.set(e,n),t({})}},"ke");function T(e){let t=e.type;return"function"==typeof t?t(e.props):"render"in t?t.render(e.props):e}function Y({asChild:e,children:t},r){return e&&d.isValidElement(t)?d.cloneElement(T(t),{ref:t.ref},r(t.props.children)):r(t)}t(T,"Me"),t(Y,"B");var Z={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function ee({className:e,...t}){return r.jsx(q,{"data-slot":"command",loop:!0,className:s("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function te({className:e,...t}){return r.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[r.jsx(m,{className:"size-4 shrink-0 opacity-50"}),r.jsx(q.Input,{"data-slot":"command-input",className:s("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function re({className:e,...t}){return r.jsx(q.List,{"data-slot":"command-list",className:s("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function ne({...e}){return r.jsx(q.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function le({className:e,...t}){return r.jsx(q.Group,{"data-slot":"command-group",className:s("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function ae({className:e,...t}){return r.jsx(q.Item,{"data-slot":"command-item",className:s("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}t(ee,"Command"),t(te,"CommandInput"),t(re,"CommandList"),t(ne,"CommandEmpty"),t(le,"CommandGroup"),t(ae,"CommandItem");export{ee as C,q as _,te as a,re as b,ne as c,le as d,ae as e};
