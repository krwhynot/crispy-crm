{"version":3,"file":"TaskEdit-yVnWErbT.js","sources":["../../src/components/admin/edit.tsx","../../src/atomic-crm/tasks/TaskGeneralTab.tsx","../../src/atomic-crm/tasks/TaskDetailsTab.tsx","../../src/atomic-crm/tasks/TaskInputs.tsx","../../src/atomic-crm/tasks/TaskEdit.tsx"],"sourcesContent":["import type { EditBaseProps } from \"ra-core\";\nimport {\n  EditBase,\n  Translate,\n  useCreatePath,\n  useEditContext,\n  useGetRecordRepresentation,\n  useGetResourceLabel,\n  useHasDashboard,\n  useResourceContext,\n  useResourceDefinition,\n} from \"ra-core\";\nimport type { ReactNode } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Breadcrumb, BreadcrumbItem, BreadcrumbPage } from \"@/components/admin/breadcrumb\";\nimport { cn } from \"@/lib/utils\";\nimport { ShowButton } from \"@/components/admin/show-button\";\nimport { DeleteButton } from \"./delete-button\";\n\nexport interface EditProps extends EditViewProps, EditBaseProps {}\n\nexport const Edit = ({ title, children, actions, className, ...rest }: EditProps) => (\n  <EditBase {...rest}>\n    <EditView title={title} actions={actions} className={className}>\n      {children}\n    </EditView>\n  </EditBase>\n);\n\nexport interface EditViewProps {\n  title?: ReactNode | string | false;\n  actions?: ReactNode;\n  children?: ReactNode;\n  className?: string;\n}\n\nexport const EditView = ({ title, actions, className, children }: EditViewProps) => {\n  const context = useEditContext();\n\n  const resource = useResourceContext();\n  if (!resource) {\n    throw new Error(\"The EditView component must be used within a ResourceContextProvider\");\n  }\n  const getResourceLabel = useGetResourceLabel();\n  const listLabel = getResourceLabel(resource, 2);\n  const createPath = useCreatePath();\n  const listLink = createPath({\n    resource,\n    type: \"list\",\n  });\n\n  const getRecordRepresentation = useGetRecordRepresentation(resource);\n  const recordRepresentation = getRecordRepresentation(context.record);\n\n  const { hasShow } = useResourceDefinition({ resource });\n  const hasDashboard = useHasDashboard();\n\n  if (context.isLoading || !context.record) {\n    return null;\n  }\n\n  return (\n    <>\n      <Breadcrumb>\n        {hasDashboard && (\n          <BreadcrumbItem>\n            <Link to=\"/\">\n              <Translate i18nKey=\"ra.page.dashboard\">Home</Translate>\n            </Link>\n          </BreadcrumbItem>\n        )}\n        <BreadcrumbItem>\n          <Link to={listLink}>{listLabel}</Link>\n        </BreadcrumbItem>\n        <BreadcrumbPage>{recordRepresentation}</BreadcrumbPage>\n      </Breadcrumb>\n      <div className={cn(\"flex justify-between items-start flex-wrap gap-2 my-2\", className)}>\n        <h2 className=\"text-2xl font-bold tracking-tight\">\n          {title !== undefined ? title : context.defaultTitle}\n        </h2>\n        {actions ?? (\n          <div className=\"flex justify-end items-center gap-2\">\n            {hasShow ? <ShowButton /> : null}\n            <DeleteButton />\n          </div>\n        )}\n      </div>\n      <div className=\"my-2\">{children}</div>\n    </>\n  );\n};\n","import { TextInput } from \"@/components/admin/text-input\";\n\nexport const TaskGeneralTab = () => {\n  return (\n    <div className=\"space-y-2\">\n      <TextInput source=\"title\" label=\"Task Title *\" helperText=\"Required field\" />\n      <TextInput\n        source=\"description\"\n        label=\"Description\"\n        multiline\n        rows={3}\n        helperText=\"Optional detailed description\"\n      />\n      <TextInput\n        source=\"due_date\"\n        label=\"Due Date *\"\n        type=\"date\"\n        isRequired\n        helperText=\"When is this due?\"\n      />\n      <TextInput\n        source=\"reminder_date\"\n        label=\"Reminder Date\"\n        type=\"date\"\n        helperText=\"Optional reminder\"\n      />\n    </div>\n  );\n};\n","import { SelectInput } from \"@/components/admin/select-input\";\nimport { ReferenceInput } from \"@/components/admin/reference-input\";\nimport { AutocompleteInput } from \"@/components/admin/autocomplete-input\";\nimport { useConfigurationContext } from \"../root/ConfigurationContext\";\nimport { contactOptionText } from \"../contacts/ContactOption\";\n\nexport const TaskDetailsTab = () => {\n  const { taskTypes } = useConfigurationContext();\n\n  return (\n    <div className=\"space-y-2\">\n      <SelectInput\n        source=\"priority\"\n        label=\"Priority\"\n        choices={[\n          { id: \"low\", name: \"Low\" },\n          { id: \"medium\", name: \"Medium\" },\n          { id: \"high\", name: \"High\" },\n          { id: \"critical\", name: \"Critical\" },\n        ]}\n        helperText=\"Task priority level\"\n      />\n      <SelectInput\n        source=\"type\"\n        label=\"Type\"\n        choices={taskTypes.map((type) => ({ id: type, name: type }))}\n        helperText=\"Category of task\"\n      />\n      <ReferenceInput source=\"organization_id\" reference=\"organizations\">\n        <AutocompleteInput\n          label=\"Organization\"\n          optionText=\"name\"\n          helperText=\"Link to organization\"\n        />\n      </ReferenceInput>\n      <ReferenceInput source=\"opportunity_id\" reference=\"opportunities\">\n        <AutocompleteInput\n          label=\"Opportunity\"\n          optionText=\"title\"\n          helperText=\"Link to opportunity\"\n        />\n      </ReferenceInput>\n      <ReferenceInput source=\"contact_id\" reference=\"contacts_summary\">\n        <AutocompleteInput\n          label=\"Contact\"\n          optionText={contactOptionText}\n          helperText=\"Link to contact\"\n        />\n      </ReferenceInput>\n    </div>\n  );\n};\n","import { TabbedFormInputs } from \"@/components/admin/tabbed-form\";\nimport { TaskGeneralTab } from \"./TaskGeneralTab\";\nimport { TaskDetailsTab } from \"./TaskDetailsTab\";\n\nexport const TaskInputs = () => {\n  const tabs = [\n    {\n      key: \"general\",\n      label: \"General\",\n      fields: [\"title\", \"description\", \"due_date\", \"reminder_date\"],\n      content: <TaskGeneralTab />,\n    },\n    {\n      key: \"details\",\n      label: \"Details\",\n      fields: [\"priority\", \"type\", \"organization_id\", \"opportunity_id\", \"contact_id\"],\n      content: <TaskDetailsTab />,\n    },\n  ];\n\n  return <TabbedFormInputs tabs={tabs} defaultTab=\"general\" />;\n};\n","import { Edit } from \"@/components/admin/edit\";\nimport { SimpleForm } from \"@/components/admin/simple-form\";\nimport { TaskInputs } from \"./TaskInputs\";\n\n/**\n * TaskEdit Component\n *\n * Edit form for tasks - standalone page version\n * For inline dialog version, see Task.tsx\n */\nexport default function TaskEdit() {\n  return (\n    <Edit>\n      <SimpleForm>\n        <TaskInputs />\n      </SimpleForm>\n    </Edit>\n  );\n}\n"],"names":["Edit","__name","title","children","actions","className","rest","EditBase","jsx","EditView","context","useEditContext","resource","useResourceContext","Error","listLabel","useGetResourceLabel","getResourceLabel","listLink","useCreatePath","createPath","type","recordRepresentation","useGetRecordRepresentation","getRecordRepresentation","record","hasShow","useResourceDefinition","hasDashboard","useHasDashboard","isLoading","jsxs","Fragment","Breadcrumb","BreadcrumbItem","Link","to","Translate","i18nKey","BreadcrumbPage","cn","defaultTitle","ShowButton","DeleteButton","TaskGeneralTab","TextInput","source","label","helperText","multiline","rows","isRequired","TaskDetailsTab","taskTypes","useConfigurationContext","SelectInput","choices","id","name","map","ReferenceInput","reference","AutocompleteInput","optionText","contactOptionText","TaskInputs","tabs","key","fields","content","TabbedFormInputs","defaultTab","TaskEdit","SimpleForm"],"mappings":"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"}