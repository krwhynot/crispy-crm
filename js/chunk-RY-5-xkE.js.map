{"version":3,"file":"chunk-RY-5-xkE.js","sources":["../../src/atomic-crm/organizations/ParentOrganizationSection.tsx","../../src/components/admin/url-field.tsx","../../src/components/admin/select-field.tsx","../../src/atomic-crm/organizations/OrganizationAside.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { useGetOne, useGetList, useRecordContext, useCreatePath } from \"react-admin\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Building2, ChevronRight, Users } from \"lucide-react\";\nimport { Link } from \"react-router-dom\";\nimport type { Company } from \"../types\";\n\n/**\n * Component displaying parent organization and sister branches\n * Shows the parent organization link and other branches of the same parent\n * Used in the organization sidebar to show hierarchy relationships\n */\nexport const ParentOrganizationSection = () => {\n  const record = useRecordContext<Company>();\n  const createPath = useCreatePath();\n  const [showAllSisters, setShowAllSisters] = useState(false);\n\n  // Fetch parent organization if it exists\n  const { data: parent, isLoading: parentLoading } = useGetOne<Company>(\n    \"organizations\",\n    { id: record?.parent_organization_id },\n    { enabled: !!record?.parent_organization_id }\n  );\n\n  // Fetch sister branches (other children of the same parent)\n  const { data: sisters, isLoading: sistersLoading } = useGetList<Company>(\n    \"organizations\",\n    {\n      filter: {\n        parent_organization_id: record?.parent_organization_id,\n        \"id@neq\": record?.id, // Exclude current organization\n      },\n      sort: { field: \"name\", order: \"ASC\" },\n      pagination: { page: 1, perPage: 100 },\n    },\n    {\n      enabled: !!record?.parent_organization_id,\n    }\n  );\n\n  if (!record || !record.parent_organization_id || parentLoading || sistersLoading) {\n    return null;\n  }\n\n  if (!parent) {\n    return null;\n  }\n\n  const sisterCount = sisters?.length || 0;\n  const visibleSisters = showAllSisters ? sisters : sisters?.slice(0, 3);\n  const hasMoreSisters = sisterCount > 3;\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2 text-base\">\n          <Building2 className=\"h-4 w-4\" />\n          Organization Hierarchy\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        {/* Parent Organization */}\n        <div>\n          <div className=\"text-sm text-muted-foreground mb-2\">Parent Organization</div>\n          <Link\n            to={createPath({\n              resource: \"organizations\",\n              type: \"edit\",\n              id: parent.id,\n            })}\n            className=\"flex items-center justify-between p-2 rounded-lg border bg-card hover:bg-accent/50 transition-colors\"\n          >\n            <div className=\"flex items-center gap-2\">\n              <Building2 className=\"h-4 w-4 text-muted-foreground\" />\n              <span className=\"font-medium\">{parent.name}</span>\n            </div>\n            <ChevronRight className=\"h-4 w-4 text-muted-foreground\" />\n          </Link>\n        </div>\n\n        {/* Sister Branches */}\n        {sisterCount > 0 && (\n          <div>\n            <div className=\"text-sm text-muted-foreground mb-2 flex items-center justify-between\">\n              <span>Sister Branches</span>\n              <Badge variant=\"secondary\" className=\"text-xs\">\n                {sisterCount}\n              </Badge>\n            </div>\n            <div className=\"space-y-1\">\n              {visibleSisters?.map((sister) => (\n                <Link\n                  key={sister.id}\n                  to={createPath({\n                    resource: \"organizations\",\n                    type: \"edit\",\n                    id: sister.id,\n                  })}\n                  className=\"flex items-center justify-between p-2 rounded-lg border bg-card hover:bg-accent/50 transition-colors\"\n                >\n                  <div className=\"flex items-center gap-2\">\n                    <Users className=\"h-4 w-4 text-muted-foreground\" />\n                    <span className=\"text-sm\">{sister.name}</span>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    {sister.city && (\n                      <span className=\"text-xs text-muted-foreground\">\n                        {sister.city}\n                        {sister.state && `, ${sister.state}`}\n                      </span>\n                    )}\n                    <ChevronRight className=\"h-4 w-4 text-muted-foreground\" />\n                  </div>\n                </Link>\n              ))}\n            </div>\n\n            {hasMoreSisters && !showAllSisters && (\n              <button\n                onClick={() => setShowAllSisters(true)}\n                className=\"mt-2 text-sm text-primary hover:underline\"\n              >\n                Show all {sisterCount} sister branches\n              </button>\n            )}\n\n            {hasMoreSisters && showAllSisters && (\n              <button\n                onClick={() => setShowAllSisters(false)}\n                className=\"mt-2 text-sm text-muted-foreground hover:text-primary\"\n              >\n                Show less\n              </button>\n            )}\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n};\n","import { useFieldValue, useTranslate } from \"ra-core\";\nimport type { AnchorHTMLAttributes } from \"react\";\nimport React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\nimport { genericMemo } from \"@/lib/genericMemo\";\nimport type { FieldProps } from \"@/lib/field.type\";\n\nconst UrlFieldImpl = <RecordType extends Record<string, any> = Record<string, any>>(\n  inProps: UrlFieldProps<RecordType>\n) => {\n  const {\n    empty,\n    className,\n    defaultValue,\n    source,\n    record,\n    // Filter out React Admin-specific props that shouldn't be passed to DOM elements\n    label: _label,\n    sortable: _sortable,\n    sortBy: _sortBy,\n    textAlign: _textAlign,\n    rowClassName: _rowClassName,\n    cellClassName: _cellClassName,\n    headerClassName: _headerClassName,\n    resource: _resource,\n    ...rest\n  } = inProps;\n  const value = useFieldValue({ defaultValue, source, record });\n  const translate = useTranslate();\n\n  if (value == null) {\n    if (!empty) {\n      return null;\n    }\n\n    return (\n      <span className={className} {...rest}>\n        {typeof empty === \"string\" ? translate(empty, { _: empty }) : empty}\n      </span>\n    );\n  }\n\n  return (\n    <a\n      className={cn(\"underline hover:no-underline\", className)}\n      href={value}\n      onClick={stopPropagation}\n      {...rest}\n    >\n      {value}\n    </a>\n  );\n};\nUrlFieldImpl.displayName = \"UrlFieldImpl\";\n\nexport const UrlField = genericMemo(UrlFieldImpl);\n\nexport interface UrlFieldProps<RecordType extends Record<string, any> = Record<string, any>>\n  extends FieldProps<RecordType>,\n    AnchorHTMLAttributes<HTMLAnchorElement> {}\n\n// useful to prevent click bubbling in a DataTable with rowClick\nconst stopPropagation = (e: React.MouseEvent<HTMLAnchorElement>) => e.stopPropagation();\n","import type { HTMLAttributes } from \"react\";\nimport type { ChoicesProps } from \"ra-core\";\nimport { useChoices, useFieldValue, useTranslate } from \"ra-core\";\n\nimport type { FieldProps } from \"@/lib/field.type\";\nimport { genericMemo } from \"@/lib/genericMemo\";\n\n/**\n * Display a value in an enumeration\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * @example\n * const choices = [\n *    { id: 'M', name: 'Male' },\n *    { id: 'F', name: 'Female' },\n * ];\n * <SelectField source=\"gender\" choices={choices} />\n *\n * By default, the text is built by\n * - finding a choice where the 'id' property equals the field value\n * - using the 'name' property as the option text\n *\n * You can also customize the properties to use for the value and text,\n * thanks to the 'optionValue' and 'optionText' attributes.\n *\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <SelectField source=\"author_id\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <SelectField source=\"author_id\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that can access\n * the related choice through the `useRecordContext` hook. You can use Field components there.\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const FullNameField = () => {\n *     const record = useRecordContext();\n *     return (<Chip>{record.first_name} {record.last_name}</Chip>)\n * };\n * <SelectField source=\"gender\" choices={choices} optionText={<FullNameField />}/>\n *\n * The current choice is translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'M', name: 'myroot.gender.male' },\n *    { id: 'F', name: 'myroot.gender.female' },\n * ];\n *\n * However, in some cases (e.g. inside a `<ReferenceField>`), you may not want\n * the choice to be translated. In that case, set the `translateChoice` prop to false.\n * @example\n * <SelectField source=\"gender\" choices={choices} translateChoice={false}/>\n *\n * **Tip**: <ReferenceField> sets `translateChoice` to false by default.\n */\nconst SelectFieldImpl = <RecordType extends Record<string, any> = Record<string, any>>(\n  props: SelectFieldProps<RecordType>\n) => {\n  const {\n    className,\n    empty,\n    choices,\n    defaultValue,\n    source,\n    record,\n    optionValue = \"id\",\n    optionText = \"name\",\n    translateChoice = true,\n    // Filter out React Admin-specific props that shouldn't be passed to DOM elements\n    label: _label,\n    sortable: _sortable,\n    sortBy: _sortBy,\n    textAlign: _textAlign,\n    rowClassName: _rowClassName,\n    cellClassName: _cellClassName,\n    headerClassName: _headerClassName,\n    resource: _resource,\n    ...rest\n  } = props;\n  const value = useFieldValue({ defaultValue, source, record });\n\n  const { getChoiceText, getChoiceValue } = useChoices({\n    optionText,\n    optionValue,\n    translateChoice,\n  });\n  const translate = useTranslate();\n\n  const choice = choices ? choices.find((choice: any) => getChoiceValue(choice) === value) : null;\n\n  if (!choice) {\n    if (!empty) {\n      return null;\n    }\n\n    return (\n      <span className={className} {...rest}>\n        {typeof empty === \"string\" ? translate(empty, { _: empty }) : empty}\n      </span>\n    );\n  }\n\n  const choiceText = getChoiceText(choice);\n\n  return (\n    <span className={className} {...rest}>\n      {choiceText}\n    </span>\n  );\n};\n\nSelectFieldImpl.displayName = \"SelectFieldImpl\";\n\nexport const SelectField = genericMemo(SelectFieldImpl);\n\nexport interface SelectFieldProps<RecordType extends Record<string, any> = Record<string, any>>\n  extends Omit<ChoicesProps, \"disableValue\" | \"createValue\" | \"createHintValue\">,\n    FieldProps<RecordType>,\n    HTMLAttributes<HTMLSpanElement> {}\n","import { Globe, Linkedin, Phone } from \"lucide-react\";\nimport { useRecordContext } from \"ra-core\";\nimport { EditButton } from \"@/components/admin/edit-button\";\nimport { ReferenceField } from \"@/components/admin/reference-field\";\nimport { ShowButton } from \"@/components/admin/show-button\";\nimport { TextField } from \"@/components/admin/text-field\";\nimport { DateField } from \"@/components/admin/date-field\";\nimport { UrlField } from \"@/components/admin/url-field\";\nimport { SelectField } from \"@/components/admin/select-field\";\n\nimport { AsideSection } from \"@/components/ui\";\nimport { SaleName } from \"../sales/SaleName\";\nimport type { Company } from \"../types\";\nimport { sizes as _sizes } from \"./sizes\";\nimport { ParentOrganizationSection } from \"./ParentOrganizationSection\";\nimport { ORGANIZATION_TYPE_CHOICES, PRIORITY_CHOICES } from \"./constants\";\n\ninterface OrganizationAsideProps {\n  link?: string;\n}\n\nexport const OrganizationAside = ({ link = \"edit\" }: OrganizationAsideProps) => {\n  const record = useRecordContext<Company>();\n  if (!record) return null;\n\n  return (\n    <div className=\"hidden sm:block w-[250px] min-w-[250px] space-y-4\">\n      <div className=\"flex flex-row space-x-1\">\n        {link === \"edit\" ? (\n          <EditButton label=\"Edit Organization\" />\n        ) : (\n          <ShowButton label=\"Show Organization\" />\n        )}\n      </div>\n\n      <OrganizationInfo record={record} />\n\n      <ParentOrganizationSection />\n\n      <AddressInfo record={record} />\n\n      <ContextInfo record={record} />\n\n      <AdditionalInfo record={record} />\n    </div>\n  );\n};\n\nconst OrganizationInfo = ({ record }: { record: Company }) => {\n  if (!record.website && !record.linkedin_url && !record.phone) {\n    return null;\n  }\n\n  return (\n    <AsideSection title=\"Organization Info\">\n      {record.website && (\n        <div className=\"flex flex-row items-center gap-1 min-h-[24px]\">\n          <Globe className=\"w-4 h-4\" />\n          <UrlField\n            source=\"website\"\n            target=\"_blank\"\n            rel=\"noopener\"\n            content={record.website.replace(\"http://\", \"\").replace(\"https://\", \"\")}\n          />\n        </div>\n      )}\n      {record.linkedin_url && (\n        <div className=\"flex flex-row items-center gap-1 min-h-[24px]\">\n          <Linkedin className=\"w-4 h-4\" />\n          <a\n            className=\"underline hover:no-underline\"\n            href={record.linkedin_url}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            title={record.linkedin_url}\n          >\n            LinkedIn\n          </a>\n        </div>\n      )}\n      {record.phone && (\n        <div className=\"flex flex-row items-center gap-1 min-h-[24px]\">\n          <Phone className=\"w-4 h-4\" />\n          <a href={`tel:${record.phone}`} className=\"underline hover:no-underline\">\n            {record.phone}\n          </a>\n        </div>\n      )}\n    </AsideSection>\n  );\n};\n\nconst ContextInfo = ({ record }: { record: Company }) => {\n  if (!record.id) {\n    return null;\n  }\n\n  return (\n    <AsideSection title=\"Context\">\n      {record.organization_type && (\n        <span>\n          Type: <SelectField source=\"organization_type\" choices={ORGANIZATION_TYPE_CHOICES} />\n        </span>\n      )}\n      {record.priority && (\n        <span>\n          Priority: <SelectField source=\"priority\" choices={PRIORITY_CHOICES} />\n        </span>\n      )}\n      {record.segment_id && (\n        <span>\n          Segment:{\" \"}\n          <ReferenceField source=\"segment_id\" reference=\"segments\" link={false}>\n            <TextField source=\"name\" />\n          </ReferenceField>\n        </span>\n      )}\n    </AsideSection>\n  );\n};\n\nconst AddressInfo = ({ record }: { record: Company }) => {\n  if (!record.address && !record.city && !record.postal_code && !record.state) {\n    return null;\n  }\n\n  return (\n    <AsideSection title=\"Main Address\" noGap>\n      <TextField source=\"address\" />\n      <TextField source=\"city\" />\n      <TextField source=\"postal_code\" />\n      <TextField source=\"state\" />\n    </AsideSection>\n  );\n};\n\nconst AdditionalInfo = ({ record }: { record: Company }) => {\n  if (\n    !record.created_at &&\n    !record.sales_id &&\n    !record.description &&\n    !record.context_links &&\n    !record.parent_organization_id\n  ) {\n    return null;\n  }\n  const getBaseURL = (url: string) => {\n    const urlObject = new URL(url.startsWith(\"http\") ? url : `https://${url}`);\n    return urlObject.hostname;\n  };\n\n  return (\n    <AsideSection title=\"Additional Info\">\n      {record.description && <p className=\"text-sm  mb-1\">{record.description}</p>}\n      {record.parent_organization_id && (\n        <div className=\"text-sm text-muted-foreground mb-1\">\n          Parent organization:{\" \"}\n          <ReferenceField source=\"parent_organization_id\" reference=\"organizations\" record={record}>\n            <TextField source=\"name\" />\n          </ReferenceField>\n        </div>\n      )}\n      {record.context_links && (\n        <div className=\"flex flex-col\">\n          {record.context_links.map((link, index) =>\n            link ? (\n              <a\n                key={index}\n                className=\"text-sm underline hover:no-underline mb-1\"\n                href={link.startsWith(\"http\") ? link : `https://${link}`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                title={link}\n              >\n                {getBaseURL(link)}\n              </a>\n            ) : null\n          )}\n        </div>\n      )}\n      {record.sales_id !== null && (\n        <div className=\"text-sm text-muted-foreground mb-1\">\n          Followed by{\" \"}\n          <ReferenceField source=\"sales_id\" reference=\"sales\" record={record}>\n            <SaleName />\n          </ReferenceField>\n        </div>\n      )}\n      {record.created_at && (\n        <p className=\"text-sm text-muted-foreground mb-1\">\n          Added on{\" \"}\n          <DateField\n            source=\"created_at\"\n            record={record}\n            options={{\n              year: \"numeric\",\n              month: \"long\",\n              day: \"numeric\",\n            }}\n          />\n        </p>\n      )}\n    </AsideSection>\n  );\n};\n"],"names":["ParentOrganizationSection","__name","record","useRecordContext","createPath","useCreatePath","showAllSisters","setShowAllSisters","useState","data","parent","isLoading","parentLoading","useGetOne","id","parent_organization_id","enabled","sisters","sistersLoading","useGetList","filter","sort","field","order","pagination","page","perPage","sisterCount","length","visibleSisters","slice","hasMoreSisters","Card","children","jsx","CardHeader","jsxs","CardTitle","className","Building2","CardContent","Link","to","resource","type","name","ChevronRight","Badge","variant","map","sister","Users","city","state","onClick","UrlFieldImpl","inProps","empty","defaultValue","source","label","_label","sortable","_sortable","sortBy","_sortBy","textAlign","_textAlign","rowClassName","_rowClassName","cellClassName","_cellClassName","headerClassName","_headerClassName","_resource","rest","value","useFieldValue","translate","useTranslate","_","cn","href","stopPropagation","displayName","UrlField","genericMemo","e","SelectFieldImpl","props","choices","optionValue","optionText","translateChoice","getChoiceText","getChoiceValue","useChoices","choice","find","choiceText","SelectField","OrganizationAside","link","EditButton","ShowButton","OrganizationInfo","AddressInfo","ContextInfo","AdditionalInfo","website","linkedin_url","phone","AsideSection","title","Globe","target","rel","content","replace","Linkedin","Phone","organization_type","ORGANIZATION_TYPE_CHOICES","priority","PRIORITY_CHOICES","segment_id","ReferenceField","reference","TextField","address","postal_code","noGap","created_at","sales_id","description","context_links","getBaseURL","url","URL","startsWith","hostname","index","SaleName","DateField","options","year","month","day"],"mappings":"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"}