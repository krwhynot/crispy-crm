{"version":3,"file":"chunk-acJ-0OJh.js","sources":["../../src/components/admin/tabbed-form/TabTriggerWithErrors.tsx","../../src/components/admin/tabbed-form/TabPanel.tsx","../../src/components/admin/tabbed-form/TabbedFormInputs.tsx"],"sourcesContent":["import { TabsTrigger } from \"@/components/ui/tabs\";\nimport { Badge } from \"@/components/ui/badge\";\n\nexport interface TabTriggerWithErrorsProps {\n  value: string;\n  label: string;\n  errorCount: number;\n  /** Optional data-tutorial attribute for tutorial highlighting */\n  dataTutorial?: string;\n}\n\nexport const TabTriggerWithErrors = ({\n  value,\n  label,\n  errorCount,\n  dataTutorial,\n}: TabTriggerWithErrorsProps) => {\n  const ariaLabel =\n    errorCount > 0\n      ? `${label} tab, ${errorCount} error${errorCount > 1 ? \"s\" : \"\"}`\n      : `${label} tab`;\n\n  return (\n    <TabsTrigger\n      value={value}\n      aria-label={ariaLabel}\n      data-tutorial={dataTutorial}\n      className=\"flex-none h-11 px-2.5 py-0.5 text-sm font-normal rounded-t-md border-b-0 bg-transparent data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=inactive]:text-muted-foreground hover:text-foreground\"\n    >\n      {label}\n      {errorCount > 0 && (\n        <Badge variant=\"destructive\" className=\"ml-1 h-3.5 px-1 text-[10px] py-0\">\n          {errorCount}\n        </Badge>\n      )}\n    </TabsTrigger>\n  );\n};\n","import { TabsContent } from \"@/components/ui/tabs\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface TabPanelProps {\n  value: string;\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const TabPanel = ({ value, children, className }: TabPanelProps) => {\n  return (\n    <TabsContent\n      value={value}\n      className={cn(\"rounded-b-lg rounded-tr-lg border border-border bg-background p-3\", className)}\n    >\n      {children}\n    </TabsContent>\n  );\n};\n","import { useMemo } from \"react\";\nimport { useFormState } from \"react-hook-form\";\nimport { Tabs, TabsList } from \"@/components/ui/tabs\";\nimport { TabTriggerWithErrors } from \"./TabTriggerWithErrors\";\nimport { TabPanel } from \"./TabPanel\";\nimport { FormErrorSummary } from \"../FormErrorSummary\";\n\nexport interface TabDefinition {\n  key: string;\n  label: string;\n  fields: string[];\n  content: React.ReactNode;\n  /** Optional data-tutorial attribute for tutorial highlighting */\n  dataTutorial?: string;\n}\n\nexport interface TabbedFormInputsProps {\n  tabs: TabDefinition[];\n  defaultTab?: string;\n  className?: string;\n  /**\n   * Optional field label map for user-friendly error messages\n   * Maps field names to display labels\n   * @example { first_name: \"First Name\", organization_id: \"Organization\" }\n   */\n  fieldLabels?: Record<string, string>;\n  /**\n   * Whether to show the error summary banner\n   * @default true\n   */\n  showErrorSummary?: boolean;\n}\n\nexport const TabbedFormInputs = ({\n  tabs,\n  defaultTab,\n  className,\n  fieldLabels = {},\n  showErrorSummary = true,\n}: TabbedFormInputsProps) => {\n  const { errors } = useFormState();\n  const errorKeys = Object.keys(errors || {});\n\n  // Memoize error count calculations to avoid unnecessary re-renders\n  const errorCounts = useMemo(() => {\n    const counts: Record<string, number> = {};\n    for (const tab of tabs) {\n      counts[tab.key] = errorKeys.filter((key) => tab.fields.includes(key)).length;\n    }\n    return counts;\n  }, [errorKeys, tabs]);\n\n  const hasErrors = errorKeys.length > 0;\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      {/* Error summary banner - shows when form has validation errors */}\n      {showErrorSummary && hasErrors && (\n        <FormErrorSummary\n          errors={errors}\n          fieldLabels={fieldLabels}\n          defaultExpanded={errorKeys.length <= 3}\n        />\n      )}\n\n      <Tabs defaultValue={defaultTab || tabs[0]?.key} className={className}>\n        <TabsList className=\"h-auto min-h-0 inline-flex justify-start rounded-t-lg bg-muted p-[1px] gap-[1px] border-b-0\">\n          {tabs.map((tab) => (\n            <TabTriggerWithErrors\n              key={tab.key}\n              value={tab.key}\n              label={tab.label}\n              errorCount={errorCounts[tab.key] || 0}\n              dataTutorial={tab.dataTutorial}\n            />\n          ))}\n        </TabsList>\n\n        {tabs.map((tab) => (\n          <TabPanel key={tab.key} value={tab.key}>\n            {tab.content}\n          </TabPanel>\n        ))}\n      </Tabs>\n    </div>\n  );\n};\n"],"names":["TabTriggerWithErrors","__name","value","label","errorCount","dataTutorial","ariaLabel","jsxs","TabsTrigger","className","children","jsx","Badge","variant","TabPanel","TabsContent","cn","TabbedFormInputs","tabs","defaultTab","fieldLabels","showErrorSummary","errors","useFormState","errorKeys","Object","keys","errorCounts","useMemo","counts","tab","key","filter","fields","includes","length","hasErrors","FormErrorSummary","defaultExpanded","Tabs","defaultValue","TabsList","map","content"],"mappings":"+VAWO,MAAMA,EAAuBC,EAAA,EAClCC,QACAC,QACAC,aACAC,mBAEA,MAAMC,EACJF,EAAa,EACT,GAAGD,UAAcC,UAAmBA,EAAa,EAAI,IAAM,KAC3D,GAAGD,QAET,OACEI,EAAAA,KAACC,EAAA,CACCN,QACA,aAAYI,EACZ,gBAAeD,EACfI,UAAU,kOAETC,SAAA,CAAAP,EACAC,EAAa,GACZO,MAACC,EAAA,CAAMC,QAAQ,cAAcJ,UAAU,mCACpCC,SAAAN,QArByB,wBCFvBU,EAAWb,EAAA,EAAGC,QAAOQ,WAAUD,eAExCE,EAAAA,IAACI,EAAA,CACCb,QACAO,UAAWO,EAAG,oEAAqEP,GAElFC,aANiB,YCwBXO,EAAmBhB,EAAA,EAC9BiB,OACAC,aACAV,YACAW,cAAc,CAAA,EACdC,oBAAmB,MAEnB,MAAMC,OAAEA,GAAWC,IACbC,EAAYC,OAAOC,KAAKJ,GAAU,CAAA,GAGlCK,EAAcC,EAAAA,QAAQ,KAC1B,MAAMC,EAAiC,CAAA,EACvC,IAAA,MAAWC,KAAOZ,EAChBW,EAAOC,EAAIC,KAAOP,EAAUQ,OAAQD,GAAQD,EAAIG,OAAOC,SAASH,IAAMI,OAExE,OAAON,GACN,CAACL,EAAWN,IAETkB,EAAYZ,EAAUW,OAAS,EAErC,SACE5B,KAAC,MAAA,CAAIE,UAAU,sBAEZC,SAAA,CAAAW,GAAoBe,GACnBzB,EAAAA,IAAC0B,EAAA,CACCf,SACAF,cACAkB,gBAAiBd,EAAUW,QAAU,IAIzC5B,OAACgC,GAAKC,aAAcrB,GAAcD,EAAK,IAAIa,IAAKtB,YAC9CC,SAAA,CAAAC,MAAC8B,GAAShC,UAAU,8FACjBC,SAAAQ,EAAKwB,IAAKZ,GACTnB,EAAAA,IAACX,EAAA,CAECE,MAAO4B,EAAIC,IACX5B,MAAO2B,EAAI3B,MACXC,WAAYuB,EAAYG,EAAIC,MAAQ,EACpC1B,aAAcyB,EAAIzB,cAJbyB,EAAIC,QASdb,EAAKwB,IAAKZ,GACTnB,EAAAA,IAACG,EAAA,CAAuBZ,MAAO4B,EAAIC,IAChCrB,SAAAoB,EAAIa,SADQb,EAAIC,aA9CG"}