{"version":3,"file":"TasksKanbanPanel-dzEXbzZx.js","sources":["../../src/atomic-crm/dashboard/v3/utils/showFollowUpToast.tsx","../../src/atomic-crm/dashboard/v3/components/TaskKanbanCard.tsx","../../src/atomic-crm/dashboard/v3/components/TaskKanbanColumn.tsx","../../src/atomic-crm/dashboard/v3/components/TasksKanbanPanel.tsx"],"sourcesContent":["/**\n * Follow-up Toast Utility\n *\n * Shows a success toast when a task is completed with an action button\n * to quickly create a follow-up task. Auto-dismisses after 5 seconds.\n *\n * Uses Sonner's toast API directly for custom action support.\n */\nimport { toast } from \"sonner\";\nimport type { TaskItem } from \"../types\";\n\ninterface FollowUpToastOptions {\n  /** The completed task */\n  task: TaskItem;\n  /** Callback when user clicks \"Create Follow-up\" */\n  onCreateFollowUp: (task: TaskItem) => void;\n}\n\n/**\n * Shows a toast notification after task completion with a follow-up action.\n *\n * @example\n * ```tsx\n * showFollowUpToast({\n *   task: completedTask,\n *   onCreateFollowUp: (task) => {\n *     // Open follow-up creation dialog or navigate to create page\n *     navigate(`/tasks/create?followUp=${task.id}`);\n *   },\n * });\n * ```\n */\nexport function showFollowUpToast({ task, onCreateFollowUp }: FollowUpToastOptions): void {\n  toast.success(`Task completed: ${task.subject}`, {\n    description: \"Would you like to schedule a follow-up?\",\n    duration: 5000, // 5 second auto-dismiss\n    action: {\n      label: \"Create Follow-up\",\n      onClick: () => onCreateFollowUp(task),\n    },\n  });\n}\n","import React, { useState, memo } from \"react\";\nimport { Draggable } from \"@hello-pangea/dnd\";\nimport { useNotify } from \"react-admin\";\nimport { format } from \"date-fns\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  Phone,\n  Mail,\n  Users,\n  FileText,\n  CheckCircle2,\n  MoreHorizontal,\n  Loader2,\n  Eye,\n  Pencil,\n  Trash2,\n  AlarmClock,\n  Presentation,\n  FileSignature,\n} from \"lucide-react\";\nimport type { TaskItem } from \"../types\";\nimport { showFollowUpToast } from \"../utils/showFollowUpToast\";\n\ninterface TaskKanbanCardProps {\n  task: TaskItem;\n  index: number;\n  onComplete: (taskId: number) => Promise<void>;\n  onSnooze: (taskId: number) => Promise<void>;\n  onDelete: (taskId: number) => Promise<void>;\n  onView: (taskId: number) => void;\n}\n\n/**\n * Priority color mappings using semantic Tailwind classes\n */\nconst priorityColors = {\n  critical: \"bg-destructive text-destructive-foreground\",\n  high: \"bg-warning/10 text-warning\",\n  medium: \"bg-primary/10 text-primary\",\n  low: \"bg-muted text-muted-foreground\",\n} as const;\n\n/**\n * Task type icon mapping\n */\nconst getTaskIcon = (type: TaskItem[\"taskType\"]) => {\n  switch (type) {\n    case \"Call\":\n      return <Phone className=\"h-3.5 w-3.5\" />;\n    case \"Email\":\n      return <Mail className=\"h-3.5 w-3.5\" />;\n    case \"Meeting\":\n      return <Users className=\"h-3.5 w-3.5\" />;\n    case \"Follow-up\":\n      return <CheckCircle2 className=\"h-3.5 w-3.5\" />;\n    case \"Demo\":\n      return <Presentation className=\"h-3.5 w-3.5\" />;\n    case \"Proposal\":\n      return <FileSignature className=\"h-3.5 w-3.5\" />;\n    case \"Other\":\n    default:\n      return <FileText className=\"h-3.5 w-3.5\" />;\n  }\n};\n\n/**\n * Custom comparison function for React.memo optimization\n * Prevents re-renders when sibling cards change during drag-and-drop\n */\nfunction arePropsEqual(prevProps: TaskKanbanCardProps, nextProps: TaskKanbanCardProps): boolean {\n  // Check index (position changed)\n  if (prevProps.index !== nextProps.index) return false;\n\n  // Check callback references\n  if (prevProps.onComplete !== nextProps.onComplete) return false;\n  if (prevProps.onSnooze !== nextProps.onSnooze) return false;\n  if (prevProps.onDelete !== nextProps.onDelete) return false;\n  if (prevProps.onView !== nextProps.onView) return false;\n\n  // Deep comparison for task data\n  const prev = prevProps.task;\n  const next = nextProps.task;\n\n  return (\n    prev.id === next.id &&\n    prev.subject === next.subject &&\n    prev.status === next.status &&\n    prev.priority === next.priority &&\n    prev.taskType === next.taskType &&\n    prev.dueDate.getTime() === next.dueDate.getTime() &&\n    prev.relatedTo.name === next.relatedTo.name\n  );\n}\n\n/**\n * TaskKanbanCard - Draggable task card for the Kanban board\n *\n * Features:\n * - Draggable via @hello-pangea/dnd\n * - Click opens task details (but not action buttons)\n * - Checkbox completes task\n * - Dropdown menu for snooze/edit/delete\n * - Priority badge with semantic colors\n * - 44px minimum touch targets\n */\nexport const TaskKanbanCard = memo(function TaskKanbanCard({\n  task,\n  index,\n  onComplete,\n  onSnooze,\n  onDelete,\n  onView,\n}: TaskKanbanCardProps) {\n  const [isSnoozing, setIsSnoozing] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n  const notify = useNotify();\n\n  const handleCardClick = (e: React.MouseEvent) => {\n    // Don't open slide-over when clicking on action buttons or checkbox\n    if ((e.target as HTMLElement).closest(\"[data-action-button]\")) {\n      return;\n    }\n    e.preventDefault();\n    e.stopPropagation();\n    onView(task.id);\n  };\n\n  const handleSnooze = async (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setIsSnoozing(true);\n    try {\n      await onSnooze(task.id);\n      notify(\"Task snoozed for tomorrow\", { type: \"success\" });\n    } catch {\n      notify(\"Failed to snooze task\", { type: \"error\" });\n    } finally {\n      setIsSnoozing(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    setIsDeleting(true);\n    try {\n      await onDelete(task.id);\n      notify(\"Task deleted\", { type: \"success\" });\n    } catch {\n      notify(\"Failed to delete task\", { type: \"error\" });\n    } finally {\n      setIsDeleting(false);\n    }\n  };\n\n  const handleEdit = () => {\n    window.location.href = `/#/tasks/${task.id}`;\n  };\n\n  const priorityClass =\n    priorityColors[task.priority as keyof typeof priorityColors] || priorityColors.medium;\n\n  return (\n    <Draggable draggableId={String(task.id)} index={index}>\n      {(provided, snapshot) => (\n        <div\n          ref={provided.innerRef}\n          {...provided.draggableProps}\n          {...provided.dragHandleProps}\n          role=\"button\"\n          tabIndex={0}\n          onClick={handleCardClick}\n          onKeyDown={(e) => {\n            if (e.key === \"Enter\" || e.key === \" \") {\n              e.preventDefault();\n              handleCardClick(e as unknown as React.MouseEvent);\n            }\n          }}\n          className={`\n            bg-card rounded-lg border border-border\n            p-3\n            transition-all duration-200\n            hover:shadow-md hover:-translate-y-0.5\n            cursor-pointer\n            ${snapshot.isDragging ? \"opacity-60 rotate-1 shadow-lg\" : \"opacity-100\"}\n          `}\n          data-testid=\"task-kanban-card\"\n        >\n          {/* Header: Checkbox + Subject + Actions */}\n          <div className=\"flex items-start gap-2\">\n            {/* Checkbox - 44px touch target */}\n            <div\n              data-action-button\n              className=\"flex h-11 w-11 shrink-0 items-center justify-center -ml-2 -mt-1\"\n            >\n              <Checkbox\n                className=\"h-5 w-5\"\n                onCheckedChange={async (checked) => {\n                  if (checked) {\n                    try {\n                      await onComplete(task.id);\n                      // Show follow-up toast after successful completion\n                      showFollowUpToast({\n                        task,\n                        onCreateFollowUp: (completedTask) => {\n                          // Navigate to task create page with pre-filled follow-up context\n                          const params = new URLSearchParams();\n                          params.set(\"type\", \"follow_up\");\n                          params.set(\"title\", `Follow-up: ${completedTask.subject}`);\n                          if (completedTask.relatedTo.type === \"opportunity\") {\n                            params.set(\"opportunity_id\", String(completedTask.relatedTo.id));\n                          } else if (completedTask.relatedTo.type === \"contact\") {\n                            params.set(\"contact_id\", String(completedTask.relatedTo.id));\n                          }\n                          window.location.href = `/#/tasks/create?${params.toString()}`;\n                        },\n                      });\n                    } catch {\n                      notify(\"Failed to complete task\", { type: \"error\" });\n                    }\n                  }\n                }}\n                aria-label={`Complete task: ${task.subject}`}\n              />\n            </div>\n\n            {/* Subject + Related */}\n            <div className=\"flex-1 min-w-0\">\n              <div className=\"flex items-center gap-1.5 mb-1\">\n                {getTaskIcon(task.taskType)}\n                <h3 className=\"font-medium text-sm text-foreground line-clamp-2\">{task.subject}</h3>\n              </div>\n              <div className=\"flex items-center gap-1.5 text-xs text-muted-foreground\">\n                <span className=\"truncate\">→ {task.relatedTo.name}</span>\n              </div>\n            </div>\n\n            {/* Actions */}\n            <div data-action-button className=\"flex items-center gap-0.5 shrink-0 -mr-1\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"h-11 w-11 p-0\"\n                onClick={handleSnooze}\n                disabled={isSnoozing}\n                title=\"Snooze task by 1 day\"\n                aria-label={`Snooze \"${task.subject}\" by 1 day`}\n              >\n                {isSnoozing ? (\n                  <Loader2 className=\"h-4 w-4 animate-spin\" />\n                ) : (\n                  <AlarmClock className=\"h-4 w-4\" />\n                )}\n              </Button>\n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    className=\"h-11 w-11 p-0\"\n                    aria-label={`More actions for \"${task.subject}\"`}\n                    disabled={isDeleting}\n                  >\n                    {isDeleting ? (\n                      <Loader2 className=\"h-4 w-4 animate-spin\" />\n                    ) : (\n                      <MoreHorizontal className=\"h-4 w-4\" />\n                    )}\n                  </Button>\n                </DropdownMenuTrigger>\n                <DropdownMenuContent align=\"end\">\n                  <DropdownMenuItem onClick={() => onView(task.id)}>\n                    <Eye className=\"mr-2 h-4 w-4\" />\n                    View\n                  </DropdownMenuItem>\n                  <DropdownMenuItem onClick={handleEdit}>\n                    <Pencil className=\"mr-2 h-4 w-4\" />\n                    Edit\n                  </DropdownMenuItem>\n                  <DropdownMenuSeparator />\n                  <DropdownMenuItem onClick={handleDelete} className=\"text-destructive\">\n                    <Trash2 className=\"mr-2 h-4 w-4\" />\n                    Delete\n                  </DropdownMenuItem>\n                </DropdownMenuContent>\n              </DropdownMenu>\n            </div>\n          </div>\n\n          {/* Footer: Priority + Due Date */}\n          <div className=\"flex items-center justify-between mt-2 pt-2 border-t border-border/50\">\n            <Badge className={`text-xs ${priorityClass}`}>\n              {task.priority.charAt(0).toUpperCase() + task.priority.slice(1)}\n            </Badge>\n            <span className=\"text-xs text-muted-foreground\">{format(task.dueDate, \"MMM d\")}</span>\n          </div>\n        </div>\n      )}\n    </Draggable>\n  );\n}, arePropsEqual);\n","import React from \"react\";\nimport { Droppable } from \"@hello-pangea/dnd\";\nimport { TaskKanbanCard } from \"./TaskKanbanCard\";\nimport type { TaskItem } from \"../types\";\nimport { cn } from \"@/lib/utils\";\n\n/**\n * Time horizon column types for task kanban\n */\nexport type TaskColumnId = \"overdue\" | \"today\" | \"thisWeek\";\n\ninterface TaskKanbanColumnProps {\n  columnId: TaskColumnId;\n  title: string;\n  tasks: TaskItem[];\n  onComplete: (taskId: number) => Promise<void>;\n  onSnooze: (taskId: number) => Promise<void>;\n  onDelete: (taskId: number) => Promise<void>;\n  onView: (taskId: number) => void;\n}\n\n/**\n * Column styling configuration based on time horizon\n */\nconst columnConfig: Record<\n  TaskColumnId,\n  {\n    accentColor: string;\n    bgColor: string;\n    emptyText: string;\n    emptySubtext: string;\n  }\n> = {\n  overdue: {\n    accentColor: \"border-destructive\",\n    bgColor: \"bg-destructive/5\",\n    emptyText: \"No overdue tasks\",\n    emptySubtext: \"Great job staying on top of things!\",\n  },\n  today: {\n    accentColor: \"border-primary\",\n    bgColor: \"bg-primary/5\",\n    emptyText: \"No tasks due today\",\n    emptySubtext: \"Drag tasks here to focus on them today\",\n  },\n  thisWeek: {\n    accentColor: \"border-muted-foreground\",\n    bgColor: \"bg-muted/30\",\n    emptyText: \"No upcoming tasks\",\n    emptySubtext: \"Plan your week by adding tasks here\",\n  },\n};\n\n/**\n * Custom comparison function for React.memo optimization\n */\nfunction arePropsEqual(\n  prevProps: TaskKanbanColumnProps,\n  nextProps: TaskKanbanColumnProps\n): boolean {\n  if (prevProps.columnId !== nextProps.columnId) return false;\n  if (prevProps.title !== nextProps.title) return false;\n  if (prevProps.onComplete !== nextProps.onComplete) return false;\n  if (prevProps.onSnooze !== nextProps.onSnooze) return false;\n  if (prevProps.onDelete !== nextProps.onDelete) return false;\n  if (prevProps.onView !== nextProps.onView) return false;\n\n  // Compare tasks array\n  const prevTasks = prevProps.tasks;\n  const nextTasks = nextProps.tasks;\n\n  if (prevTasks.length !== nextTasks.length) return false;\n\n  for (let i = 0; i < prevTasks.length; i++) {\n    if (prevTasks[i].id !== nextTasks[i].id || prevTasks[i].status !== nextTasks[i].status) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * TaskKanbanColumn - A droppable column for the task kanban board\n *\n * Features:\n * - Droppable zone for drag-and-drop\n * - Time-horizon based styling (overdue/today/thisWeek)\n * - Empty state with encouraging placeholder\n * - Accent border color indicates urgency\n * - Memoized to prevent unnecessary re-renders\n */\nexport const TaskKanbanColumn = React.memo(function TaskKanbanColumn({\n  columnId,\n  title,\n  tasks,\n  onComplete,\n  onSnooze,\n  onDelete,\n  onView,\n}: TaskKanbanColumnProps) {\n  const config = columnConfig[columnId];\n\n  return (\n    <div\n      className={cn(\n        \"flex flex-col rounded-xl border-t-4 bg-card\",\n        \"w-full lg:min-w-0 lg:flex-1\",\n        \"shadow-sm\",\n        config.accentColor\n      )}\n      data-testid={`task-kanban-column-${columnId}`}\n    >\n      {/* Column Header */}\n      <div className=\"flex items-center justify-between px-4 py-3 border-b border-border\">\n        <h2 className=\"font-semibold text-foreground\">{title}</h2>\n        <span className=\"text-sm text-muted-foreground\">{tasks.length}</span>\n      </div>\n\n      {/* Droppable Area */}\n      <Droppable droppableId={columnId}>\n        {(provided, snapshot) => (\n          <div\n            ref={provided.innerRef}\n            {...provided.droppableProps}\n            className={cn(\n              \"flex-1 p-3 space-y-2 overflow-y-auto\",\n              \"min-h-[120px] transition-colors duration-200\",\n              snapshot.isDraggingOver && config.bgColor\n            )}\n          >\n            {tasks.length === 0 ? (\n              // Empty State\n              <div className=\"flex flex-col items-center justify-center h-full min-h-[100px] text-center p-4\">\n                <p className=\"text-sm font-medium text-muted-foreground\">{config.emptyText}</p>\n                <p className=\"text-xs text-muted-foreground/70 mt-1\">{config.emptySubtext}</p>\n              </div>\n            ) : (\n              // Task Cards\n              tasks.map((task, index) => (\n                <TaskKanbanCard\n                  key={task.id}\n                  task={task}\n                  index={index}\n                  onComplete={onComplete}\n                  onSnooze={onSnooze}\n                  onDelete={onDelete}\n                  onView={onView}\n                />\n              ))\n            )}\n            {provided.placeholder}\n          </div>\n        )}\n      </Droppable>\n    </div>\n  );\n}, arePropsEqual);\n","import { useMemo, useCallback } from \"react\";\nimport {\n  DragDropContext,\n  type DropResult,\n  type DragStart,\n  type DragUpdate,\n  type ResponderProvided,\n} from \"@hello-pangea/dnd\";\nimport { useNotify } from \"react-admin\";\nimport { startOfDay, addDays, setHours, setMinutes } from \"date-fns\";\n// Card wrapper removed - parent DashboardTabPanel provides container\nimport { Button } from \"@/components/ui/button\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Plus } from \"lucide-react\";\nimport { TaskKanbanColumn, type TaskColumnId } from \"./TaskKanbanColumn\";\nimport type { TaskItem } from \"../types\";\nimport { useMyTasks } from \"../hooks/useMyTasks\";\n\n/**\n * TasksKanbanPanel - Kanban board for tasks with time-horizon columns\n *\n * Provides a drag-and-drop kanban board for task management.\n *\n * Three Columns:\n * - Overdue: Tasks past due date (destructive accent)\n * - Today: Tasks due today (primary accent)\n * - This Week: Tasks due tomorrow through end of week (muted)\n *\n * Behavior:\n * - Drag-drop updates due_date based on target column\n * - Optimistic UI updates with rollback on error\n * - Click task opens TaskSlideOver (via onView)\n * - Mobile (<1024px): Stacked vertical layout\n * - Desktop (≥1024px): 3-column horizontal layout\n */\n\nconst columnLabels: Record<TaskColumnId, string> = {\n  overdue: \"Overdue\",\n  today: \"Today\",\n  thisWeek: \"This Week\",\n};\n\nfunction TasksKanbanPanel() {\n  const {\n    tasks,\n    loading,\n    error,\n    completeTask,\n    snoozeTask,\n    deleteTask,\n    viewTask,\n    updateTaskDueDate,\n  } = useMyTasks();\n  const notify = useNotify();\n\n  // Memoize filtered task lists by time horizon\n  const tasksByColumn = useMemo(() => {\n    const overdue: TaskItem[] = [];\n    const today: TaskItem[] = [];\n    const thisWeek: TaskItem[] = [];\n\n    for (const task of tasks) {\n      switch (task.status) {\n        case \"overdue\":\n          overdue.push(task);\n          break;\n        case \"today\":\n          today.push(task);\n          break;\n        case \"tomorrow\":\n        case \"upcoming\":\n          thisWeek.push(task);\n          break;\n        // 'later' tasks not shown in this view\n      }\n    }\n\n    return { overdue, today, thisWeek };\n  }, [tasks]);\n\n  /**\n   * Calculate target due date based on destination column\n   * - Overdue: Keep current date (can't make more overdue)\n   * - Today: Today at 5pm\n   * - This Week: 3 days from now at 5pm\n   */\n  const getTargetDueDate = useCallback((columnId: TaskColumnId, currentDueDate: Date): Date => {\n    const now = new Date();\n    const todayStart = startOfDay(now);\n\n    switch (columnId) {\n      case \"overdue\":\n        // Keep current date - user is acknowledging it's overdue\n        return currentDueDate;\n\n      case \"today\":\n        // Set to today at 5pm (end of business day)\n        return setMinutes(setHours(todayStart, 17), 0);\n\n      case \"thisWeek\":\n        // Set to 3 days from now at 5pm\n        return setMinutes(setHours(addDays(todayStart, 3), 17), 0);\n\n      default:\n        return currentDueDate;\n    }\n  }, []);\n\n  const handleDragStart = useCallback(\n    (start: DragStart, provided: ResponderProvided) => {\n      const taskId = parseInt(start.draggableId, 10);\n      const task = tasks.find((t) => t.id === taskId);\n\n      if (task) {\n        const columnLabel = columnLabels[start.source.droppableId as TaskColumnId];\n        provided.announce(`Picked up task: ${task.subject}. Currently in ${columnLabel}.`);\n      }\n    },\n    [tasks]\n  );\n\n  const handleDragUpdate = useCallback((update: DragUpdate, provided: ResponderProvided) => {\n    if (update.destination) {\n      const columnLabel = columnLabels[update.destination.droppableId as TaskColumnId];\n      provided.announce(`Moving to ${columnLabel}, position ${update.destination.index + 1}`);\n    }\n  }, []);\n\n  /**\n   * Handle drag end - update task due_date based on destination column\n   */\n  const handleDragEnd = useCallback(\n    async (result: DropResult, provided: ResponderProvided) => {\n      const { destination, source, draggableId } = result;\n\n      // Dropped outside a valid droppable\n      if (!destination) {\n        provided.announce(\"Drag cancelled. Task returned to original position.\");\n        return;\n      }\n\n      // Dropped in same position\n      if (destination.droppableId === source.droppableId && destination.index === source.index) {\n        provided.announce(\"Dropped in original position.\");\n        return;\n      }\n\n      const taskId = parseInt(draggableId, 10);\n      const task = tasks.find((t) => t.id === taskId);\n      if (!task) return;\n\n      const destColumnId = destination.droppableId as TaskColumnId;\n      const sourceColumnId = source.droppableId as TaskColumnId;\n\n      // Same column, different position - no date change needed\n      if (destColumnId === sourceColumnId) {\n        provided.announce(`Reordered within ${columnLabels[destColumnId]}.`);\n        return;\n      }\n\n      // Calculate new due date based on destination column\n      const newDueDate = getTargetDueDate(destColumnId, task.dueDate);\n\n      try {\n        await updateTaskDueDate(taskId, newDueDate);\n        provided.announce(\n          `Moved to ${columnLabels[destColumnId]} at position ${destination.index + 1}`\n        );\n        notify(`Moved to ${columnLabels[destColumnId]}`, { type: \"success\" });\n      } catch {\n        provided.announce(\"Failed to move task. Returned to original position.\");\n        notify(\"Failed to move task. Please try again.\", { type: \"error\" });\n      }\n    },\n    [tasks, getTargetDueDate, updateTaskDueDate, notify]\n  );\n\n  // Loading state - matches production flex layout\n  if (loading) {\n    return (\n      <div className=\"flex flex-col p-4\">\n        <div className=\"mb-4 flex items-start justify-between\">\n          <div>\n            <Skeleton className=\"mb-2 h-6 w-32\" />\n            <Skeleton className=\"h-4 w-64\" />\n          </div>\n          <Skeleton className=\"h-11 w-28\" />\n        </div>\n        <div className=\"flex gap-3 flex-col lg:flex-row\">\n          {/* Three column skeletons matching Overdue/Today/This Week */}\n          {[1, 2, 3].map((i) => (\n            <div\n              key={i}\n              className=\"flex flex-col rounded-xl border-t-4 border-muted bg-card w-full lg:min-w-0 lg:flex-1 shadow-sm\"\n            >\n              {/* Column header skeleton */}\n              <div className=\"flex items-center justify-between px-4 py-3 border-b border-border\">\n                <Skeleton className=\"h-5 w-20\" />\n                <Skeleton className=\"h-4 w-6\" />\n              </div>\n              {/* Column content skeleton */}\n              <div className=\"flex-1 p-3 space-y-2 min-h-[120px]\">\n                <Skeleton className=\"h-20 w-full rounded-lg\" />\n                <Skeleton className=\"h-20 w-full rounded-lg\" />\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  // Error state\n  if (error) {\n    return (\n      <div className=\"flex flex-col p-4\">\n        <h3 className=\"text-lg font-semibold\">My Tasks</h3>\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"text-center\">\n            <p className=\"text-destructive\">Failed to load tasks</p>\n            <p className=\"text-sm text-muted-foreground\">{error.message}</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const totalTasks =\n    tasksByColumn.overdue.length + tasksByColumn.today.length + tasksByColumn.thisWeek.length;\n\n  return (\n    <div className=\"flex flex-col\">\n      {/* Header */}\n      <div className=\"border-b border-border px-4 py-3 shrink-0\">\n        <div className=\"flex items-start justify-between\">\n          <div>\n            <h3 className=\"text-lg font-semibold\">My Tasks</h3>\n            <p className=\"text-sm text-muted-foreground\">\n              Drag tasks between columns to reschedule\n            </p>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            {tasksByColumn.overdue.length > 0 && (\n              <Badge variant=\"destructive\" className=\"text-xs\">\n                {tasksByColumn.overdue.length} overdue\n              </Badge>\n            )}\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              className=\"h-11 gap-1\"\n              onClick={() => {\n                window.location.href = \"/#/tasks/create\";\n              }}\n            >\n              <Plus className=\"h-4 w-4\" />\n              New Task\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      {/* Kanban Board */}\n      <div>\n        {totalTasks === 0 ? (\n          // Empty state\n          <div className=\"flex items-center justify-center p-8\">\n            <div className=\"text-center\">\n              <p className=\"text-muted-foreground\">No tasks to show</p>\n              <p className=\"text-sm text-muted-foreground/70 mt-1\">Create a task to get started</p>\n            </div>\n          </div>\n        ) : (\n          <DragDropContext\n            onDragStart={handleDragStart}\n            onDragUpdate={handleDragUpdate}\n            onDragEnd={handleDragEnd}\n          >\n            <div\n              className=\"\n                flex gap-3 p-4\n                flex-col lg:flex-row\n              \"\n              data-testid=\"task-kanban-board\"\n              data-tutorial=\"dashboard-tasks-kanban\"\n            >\n              <TaskKanbanColumn\n                columnId=\"overdue\"\n                title=\"Overdue\"\n                tasks={tasksByColumn.overdue}\n                onComplete={completeTask}\n                onSnooze={snoozeTask}\n                onDelete={deleteTask}\n                onView={viewTask}\n              />\n              <TaskKanbanColumn\n                columnId=\"today\"\n                title=\"Today\"\n                tasks={tasksByColumn.today}\n                onComplete={completeTask}\n                onSnooze={snoozeTask}\n                onDelete={deleteTask}\n                onView={viewTask}\n              />\n              <TaskKanbanColumn\n                columnId=\"thisWeek\"\n                title=\"This Week\"\n                tasks={tasksByColumn.thisWeek}\n                onComplete={completeTask}\n                onSnooze={snoozeTask}\n                onDelete={deleteTask}\n                onView={viewTask}\n              />\n            </div>\n          </DragDropContext>\n        )}\n      </div>\n    </div>\n  );\n}\n\n// Named export for barrel, default export for lazy loading\nexport { TasksKanbanPanel };\nexport default TasksKanbanPanel;\n"],"names":["showFollowUpToast","task","onCreateFollowUp","toast","success","subject","description","duration","action","label","onClick","__name","priorityColors","critical","high","medium","low","getTaskIcon","type","jsx","Phone","className","Mail","Users","CheckCircle2","Presentation","FileSignature","FileText","arePropsEqual","prevProps","nextProps","index","onComplete","onSnooze","onDelete","onView","prev","next","id","status","priority","taskType","dueDate","getTime","relatedTo","name","TaskKanbanCard","memo","isSnoozing","setIsSnoozing","useState","isDeleting","setIsDeleting","notify","useNotify","handleCardClick","e","target","closest","preventDefault","stopPropagation","handleSnooze","handleDelete","async","handleEdit","window","location","href","priorityClass","Draggable","draggableId","String","children","provided","snapshot","jsxs","ref","innerRef","draggableProps","dragHandleProps","role","tabIndex","onKeyDown","key","isDragging","Checkbox","onCheckedChange","checked","completedTask","params","URLSearchParams","set","toString","Button","variant","size","disabled","title","Loader2","AlarmClock","DropdownMenu","DropdownMenuTrigger","asChild","MoreHorizontal","DropdownMenuContent","align","DropdownMenuItem","Eye","Pencil","DropdownMenuSeparator","Trash2","Badge","charAt","toUpperCase","slice","columnConfig","overdue","accentColor","bgColor","emptyText","emptySubtext","today","thisWeek","columnId","prevTasks","tasks","nextTasks","length","i","TaskKanbanColumn","React","config","cn","Droppable","droppableId","droppableProps","isDraggingOver","map","placeholder","columnLabels","TasksKanbanPanel","loading","error","completeTask","snoozeTask","deleteTask","viewTask","updateTaskDueDate","useMyTasks","tasksByColumn","useMemo","push","getTargetDueDate","useCallback","currentDueDate","todayStart","startOfDay","Date","setMinutes","setHours","addDays","handleDragStart","start","taskId","parseInt","find","t","columnLabel","source","announce","handleDragUpdate","update","destination","handleDragEnd","result","destColumnId","newDueDate","Skeleton","message","totalTasks","Plus","DragDropContext","onDragStart","onDragUpdate","onDragEnd"],"mappings":"yvBAgCO,SAASA,GAAkBC,KAAEA,EAAAC,iBAAMA,IACxCC,EAAMC,QAAQ,mBAAmBH,EAAKI,UAAW,CAC/CC,YAAa,0CACbC,SAAU,IACVC,OAAQ,CACNC,MAAO,mBACPC,QAASC,EAAA,IAAMT,EAAiBD,GAAvB,aAGf,CATgBU,EAAAX,EAAA,qBCYhB,MAAMY,EAAiB,CACrBC,SAAU,6CACVC,KAAM,6BACNC,OAAQ,6BACRC,IAAK,kCAMDC,IAAeC,IACnB,OAAQA,GACN,IAAK,OACH,SAAOC,IAACC,EAAA,CAAMC,UAAU,gBAC1B,IAAK,QACH,SAAOF,IAACG,EAAA,CAAKD,UAAU,gBACzB,IAAK,UACH,SAAOF,IAACI,EAAA,CAAMF,UAAU,gBAC1B,IAAK,YACH,SAAOF,IAACK,EAAA,CAAaH,UAAU,gBACjC,IAAK,OACH,SAAOF,IAACM,EAAA,CAAaJ,UAAU,gBACjC,IAAK,WACH,SAAOF,IAACO,EAAA,CAAcL,UAAU,gBAElC,QACE,SAAOF,IAACQ,EAAA,CAASN,UAAU,kBAhBb,eAwBpB,SAASO,EAAcC,EAAgCC,GAErD,GAAID,EAAUE,QAAUD,EAAUC,MAAO,OAAO,EAGhD,GAAIF,EAAUG,aAAeF,EAAUE,WAAY,OAAO,EAC1D,GAAIH,EAAUI,WAAaH,EAAUG,SAAU,OAAO,EACtD,GAAIJ,EAAUK,WAAaJ,EAAUI,SAAU,OAAO,EACtD,GAAIL,EAAUM,SAAWL,EAAUK,OAAQ,OAAO,EAGlD,MAAMC,EAAOP,EAAU5B,KACjBoC,EAAOP,EAAU7B,KAEvB,OACEmC,EAAKE,KAAOD,EAAKC,IACjBF,EAAK/B,UAAYgC,EAAKhC,SACtB+B,EAAKG,SAAWF,EAAKE,QACrBH,EAAKI,WAAaH,EAAKG,UACvBJ,EAAKK,WAAaJ,EAAKI,UACvBL,EAAKM,QAAQC,YAAcN,EAAKK,QAAQC,WACxCP,EAAKQ,UAAUC,OAASR,EAAKO,UAAUC,IAE3C,CAvBSjB,EAAAA,EAAAA,mBAoCF,MAAMkB,EAAiBC,EAAAA,KAAKpC,EAAA,UAAwBV,KACzDA,EAAA8B,MACAA,EAAAC,WACAA,EAAAC,SACAA,EAAAC,SACAA,EAAAC,OACAA,IAEA,MAAOa,EAAYC,GAAiBC,EAAAA,UAAS,IACtCC,EAAYC,GAAiBF,EAAAA,UAAS,GACvCG,EAASC,IAETC,IAAmBC,IAElBA,EAAEC,OAAuBC,QAAQ,0BAGtCF,EAAEG,iBACFH,EAAEI,kBACFzB,EAAOlC,EAAKqC,MAPU,mBAUlBuB,UAAsBL,IAC1BA,EAAEI,kBACFX,GAAc,GACd,UACQhB,EAAShC,EAAKqC,IACpBe,EAAO,4BAA6B,CAAEnC,KAAM,WAC9C,CAAA,MACEmC,EAAO,wBAAyB,CAAEnC,KAAM,SAC1C,CAAA,QACE+B,GAAc,EAChB,GAVmB,gBAafa,EAAenD,EAAAoD,UACnBX,GAAc,GACd,UACQlB,EAASjC,EAAKqC,IACpBe,EAAO,eAAgB,CAAEnC,KAAM,WACjC,CAAA,MACEmC,EAAO,wBAAyB,CAAEnC,KAAM,SAC1C,CAAA,QACEkC,GAAc,EAChB,GATmB,gBAYfY,EAAarD,EAAA,KACjBsD,OAAOC,SAASC,KAAO,YAAYlE,EAAKqC,MADvB,cAIb8B,EACJxD,EAAeX,EAAKuC,WAA4C5B,EAAeG,OAEjF,OACEI,EAAAA,IAACkD,EAAA,CAAUC,YAAaC,OAAOtE,EAAKqC,IAAKP,QACtCyC,SAAA7D,EAAA,CAAC8D,EAAUC,IACVC,EAAAA,KAAC,MAAA,CACCC,IAAKH,EAASI,YACVJ,EAASK,kBACTL,EAASM,gBACbC,KAAK,SACLC,SAAU,EACVvE,QAAS6C,EACT2B,YAAY1B,IACI,UAAVA,EAAE2B,KAA6B,MAAV3B,EAAE2B,MACzB3B,EAAEG,iBACFJ,EAAgBC,KAHT,aAMXnC,UAAW,gNAMPqD,EAASU,WAAa,gCAAkC,4BAE5D,cAAY,mBAGZZ,SAAA,GAAAG,KAAC,MAAA,CAAItD,UAAU,yBAEbmD,SAAA,CAAArD,EAAAA,IAAC,MAAA,CACC,sBAAkB,EAClBE,UAAU,kEAEVmD,SAAArD,EAAAA,IAACkE,EAAA,CACChE,UAAU,UACViE,wBAAwBC,IACtB,GAAIA,EACF,UACQvD,EAAW/B,EAAKqC,IAEtBtC,EAAkB,CAChBC,OACAC,mBAAmBsF,IAEjB,MAAMC,EAAS,IAAIC,gBACnBD,EAAOE,IAAI,OAAQ,aACnBF,EAAOE,IAAI,QAAS,cAAcH,EAAcnF,WACX,gBAAjCmF,EAAc5C,UAAU1B,KAC1BuE,EAAOE,IAAI,iBAAkBpB,OAAOiB,EAAc5C,UAAUN,KAClB,YAAjCkD,EAAc5C,UAAU1B,MACjCuE,EAAOE,IAAI,aAAcpB,OAAOiB,EAAc5C,UAAUN,KAE1D2B,OAAOC,SAASC,KAAO,mBAAmBsB,EAAOG,cAVjC,qBAatB,CAAA,MACEvC,EAAO,0BAA2B,CAAEnC,KAAM,SAC5C,GAtBa,mBAyBjB,aAAY,kBAAkBjB,EAAKI,gBAKvCsE,KAAC,MAAA,CAAItD,UAAU,iBACbmD,SAAA,GAAAG,KAAC,MAAA,CAAItD,UAAU,iCACZmD,SAAA,CAAAvD,EAAYhB,EAAKwC,UAClBtB,EAAAA,IAAC,KAAA,CAAGE,UAAU,mDAAoDmD,WAAKnE,mBAExE,MAAA,CAAIgB,UAAU,0DACbmD,SAAAG,EAAAA,KAAC,OAAA,CAAKtD,UAAU,WAAWmD,SAAA,CAAA,KAAGvE,EAAK2C,UAAUC,aAKjD8B,EAAAA,KAAC,MAAA,CAAI,sBAAkB,EAACtD,UAAU,2CAChCmD,SAAA,CAAArD,EAAAA,IAAC0E,EAAA,CACCC,QAAQ,QACRC,KAAK,KACL1E,UAAU,gBACVX,QAASmD,EACTmC,SAAUhD,EACViD,MAAM,uBACN,aAAY,WAAWhG,EAAKI,oBAE3BmE,SAAAxB,QACEkD,EAAA,CAAQ7E,UAAU,2BAEnBF,IAACgF,EAAA,CAAW9E,UAAU,qBAGzB+E,EAAA,CACC5B,SAAA,GAAArD,IAACkF,EAAA,CAAoBC,SAAO,EAC1B9B,SAAArD,EAAAA,IAAC0E,EAAA,CACCC,QAAQ,QACRC,KAAK,KACL1E,UAAU,gBACV,aAAY,qBAAqBpB,EAAKI,WACtC2F,SAAU7C,EAETqB,SAAArB,QACE+C,EAAA,CAAQ7E,UAAU,2BAEnBF,IAACoF,EAAA,CAAelF,UAAU,kBAIhCsD,KAAC6B,EAAA,CAAoBC,MAAM,MACzBjC,SAAA,CAAAG,OAAC+B,GAAiBhG,QAASC,EAAA,IAAMwB,EAAOlC,EAAKqC,IAAlB,WACzBkC,SAAA,GAAArD,IAACwF,EAAA,CAAItF,UAAU,iBAAiB,YAGlCsD,KAAC+B,EAAA,CAAiBhG,QAASsD,EACzBQ,SAAA,GAAArD,IAACyF,EAAA,CAAOvF,UAAU,iBAAiB,gBAGpCwF,EAAA,IACDlC,EAAAA,KAAC+B,EAAA,CAAiBhG,QAASoD,EAAczC,UAAU,mBACjDmD,SAAA,GAAArD,IAAC2F,EAAA,CAAOzF,UAAU,iBAAiB,0BAS7CsD,KAAC,MAAA,CAAItD,UAAU,wEACbmD,SAAA,CAAArD,MAAC4F,GAAM1F,UAAW,WAAW+C,IAC1BI,WAAKhC,SAASwE,OAAO,GAAGC,cAAgBhH,EAAKuC,SAAS0E,MAAM,KAE/D/F,MAAC,QAAKE,UAAU,gCAAiCmD,WAAOvE,EAAKyC,QAAS,iBAlI3E,aAwIP,EAhMmC,mBAgMhCd,GC1RGuF,EAQF,CACFC,QAAS,CACPC,YAAa,qBACbC,QAAS,mBACTC,UAAW,mBACXC,aAAc,uCAEhBC,MAAO,CACLJ,YAAa,iBACbC,QAAS,eACTC,UAAW,qBACXC,aAAc,0CAEhBE,SAAU,CACRL,YAAa,0BACbC,QAAS,cACTC,UAAW,oBACXC,aAAc,wCAOlB,SAAS5F,EACPC,EACAC,GAEA,GAAID,EAAU8F,WAAa7F,EAAU6F,SAAU,OAAO,EACtD,GAAI9F,EAAUoE,QAAUnE,EAAUmE,MAAO,OAAO,EAChD,GAAIpE,EAAUG,aAAeF,EAAUE,WAAY,OAAO,EAC1D,GAAIH,EAAUI,WAAaH,EAAUG,SAAU,OAAO,EACtD,GAAIJ,EAAUK,WAAaJ,EAAUI,SAAU,OAAO,EACtD,GAAIL,EAAUM,SAAWL,EAAUK,OAAQ,OAAO,EAGlD,MAAMyF,EAAY/F,EAAUgG,MACtBC,EAAYhG,EAAU+F,MAE5B,GAAID,EAAUG,SAAWD,EAAUC,OAAQ,OAAO,EAElD,IAAA,IAASC,EAAI,EAAGA,EAAIJ,EAAUG,OAAQC,IACpC,GAAIJ,EAAUI,GAAG1F,KAAOwF,EAAUE,GAAG1F,IAAMsF,EAAUI,GAAGzF,SAAWuF,EAAUE,GAAGzF,OAC9E,OAAO,EAIX,OAAO,CACT,CAxBS5B,EAAAiB,EAAA,iBAoCF,MAAMqG,EAAmBC,EAAMnF,KAAKpC,EAAA,UAA0BgH,SACnEA,EAAA1B,MACAA,EAAA4B,MACAA,EAAA7F,WACAA,EAAAC,SACAA,EAAAC,SACAA,EAAAC,OACAA,IAEA,MAAMgG,EAAShB,EAAaQ,GAE5B,OACEhD,EAAAA,KAAC,MAAA,CACCtD,UAAW+G,EACT,8CACA,8BACA,YACAD,EAAOd,aAET,cAAa,sBAAsBM,IAGnCnD,SAAA,GAAAG,KAAC,MAAA,CAAItD,UAAU,qEACbmD,SAAA,CAAArD,EAAAA,IAAC,KAAA,CAAGE,UAAU,gCAAiCmD,SAAAyB,IAC/C9E,EAAAA,IAAC,OAAA,CAAKE,UAAU,gCAAiCmD,WAAMuD,kBAIxDM,EAAA,CAAUC,YAAaX,EACrBnD,SAAA7D,EAAA,CAAC8D,EAAUC,IACVC,EAAAA,KAAC,MAAA,CACCC,IAAKH,EAASI,YACVJ,EAAS8D,eACblH,UAAW+G,EACT,uCACA,+CACA1D,EAAS8D,gBAAkBL,EAAOb,SAGnC9C,SAAA,CAAiB,IAAjBqD,EAAME,SAELpD,KAAC,MAAA,CAAItD,UAAU,iFACbmD,SAAA,CAAArD,EAAAA,IAAC,IAAA,CAAEE,UAAU,4CAA6CmD,SAAA2D,EAAOZ,YACjEpG,EAAAA,IAAC,IAAA,CAAEE,UAAU,wCAAyCmD,WAAOgD,kBAI/DK,EAAMY,IAAI,CAACxI,EAAM8B,IACfZ,EAAAA,IAAC2B,EAAA,CAEC7C,OACA8B,QACAC,aACAC,WACAC,WACAC,UANKlC,EAAKqC,KAUfmC,EAASiE,eA9Bb,gBAoCT,EAjE2C,qBAiExC9G,GCxHG+G,EAA6C,CACjDvB,QAAS,UACTK,MAAO,QACPC,SAAU,aAGZ,SAASkB,IACP,MAAMf,MACJA,EAAAgB,QACAA,EAAAC,MACAA,EAAAC,aACAA,EAAAC,WACAA,EAAAC,WACAA,EAAAC,SACAA,EAAAC,kBACAA,GACEC,IACE/F,EAASC,IAGT+F,EAAgBC,EAAAA,QAAQ,KAC5B,MAAMlC,EAAsB,GACtBK,EAAoB,GACpBC,EAAuB,GAE7B,IAAA,MAAWzH,KAAQ4H,EACjB,OAAQ5H,EAAKsC,QACX,IAAK,UACH6E,EAAQmC,KAAKtJ,GACb,MACF,IAAK,QACHwH,EAAM8B,KAAKtJ,GACX,MACF,IAAK,WACL,IAAK,WACHyH,EAAS6B,KAAKtJ,GAMpB,MAAO,CAAEmH,UAASK,QAAOC,aACxB,CAACG,IAQE2B,EAAmBC,EAAAA,YAAY,CAAC9B,EAAwB+B,KAC5D,MACMC,EAAaC,MADHC,MAGhB,OAAQlC,GACN,IAAK,UAYL,QACE,OAAO+B,EATT,IAAK,QAEH,OAAOI,EAAWC,EAASJ,EAAY,IAAK,GAE9C,IAAK,WAEH,OAAOG,EAAWC,EAASC,EAAQL,EAAY,GAAI,IAAK,KAK3D,IAEGM,EAAkBR,EAAAA,YACtB,CAACS,EAAkBzF,KACjB,MAAM0F,EAASC,SAASF,EAAM5F,YAAa,IACrCrE,EAAO4H,EAAMwC,KAAMC,GAAMA,EAAEhI,KAAO6H,GAExC,GAAIlK,EAAM,CACR,MAAMsK,EAAc5B,EAAauB,EAAMM,OAAOlC,aAC9C7D,EAASgG,SAAS,mBAAmBxK,EAAKI,yBAAyBkK,KACrE,GAEF,CAAC1C,IAGG6C,EAAmBjB,EAAAA,YAAY,CAACkB,EAAoBlG,KACxD,GAAIkG,EAAOC,YAAa,CACtB,MAAML,EAAc5B,EAAagC,EAAOC,YAAYtC,aACpD7D,EAASgG,SAAS,aAAaF,eAAyBI,EAAOC,YAAY7I,MAAQ,IACrF,GACC,IAKG8I,EAAgBpB,EAAAA,YACpB1F,MAAO+G,EAAoBrG,KACzB,MAAMmG,YAAEA,EAAAJ,OAAaA,EAAAlG,YAAQA,GAAgBwG,EAG7C,IAAKF,EAEH,YADAnG,EAASgG,SAAS,uDAKpB,GAAIG,EAAYtC,cAAgBkC,EAAOlC,aAAesC,EAAY7I,QAAUyI,EAAOzI,MAEjF,YADA0C,EAASgG,SAAS,iCAIpB,MAAMN,EAASC,SAAS9F,EAAa,IAC/BrE,EAAO4H,EAAMwC,KAAMC,GAAMA,EAAEhI,KAAO6H,GACxC,IAAKlK,EAAM,OAEX,MAAM8K,EAAeH,EAAYtC,YAIjC,GAAIyC,IAHmBP,EAAOlC,YAK5B,YADA7D,EAASgG,SAAS,oBAAoB9B,EAAaoC,OAKrD,MAAMC,EAAaxB,EAAiBuB,EAAc9K,EAAKyC,SAEvD,UACQyG,EAAkBgB,EAAQa,GAChCvG,EAASgG,SACP,YAAY9B,EAAaoC,kBAA6BH,EAAY7I,MAAQ,KAE5EsB,EAAO,YAAYsF,EAAaoC,KAAiB,CAAE7J,KAAM,WAC3D,CAAA,MACEuD,EAASgG,SAAS,uDAClBpH,EAAO,yCAA0C,CAAEnC,KAAM,SAC3D,GAEF,CAAC2G,EAAO2B,EAAkBL,EAAmB9F,IAI/C,GAAIwF,EACF,SACElE,KAAC,MAAA,CAAItD,UAAU,oBACbmD,SAAA,GAAAG,KAAC,MAAA,CAAItD,UAAU,wCACbmD,SAAA,CAAAG,OAAC,MAAA,CACCH,SAAA,GAAArD,IAAC8J,EAAA,CAAS5J,UAAU,oBACpBF,IAAC8J,EAAA,CAAS5J,UAAU,kBAEtBF,IAAC8J,EAAA,CAAS5J,UAAU,iBAEtBF,EAAAA,IAAC,MAAA,CAAIE,UAAU,kCAEZmD,SAAA,CAAC,EAAG,EAAG,GAAGiE,IAAKT,GACdrD,EAAAA,KAAC,MAAA,CAECtD,UAAU,iGAGVmD,SAAA,GAAAG,KAAC,MAAA,CAAItD,UAAU,qEACbmD,SAAA,GAAArD,IAAC8J,EAAA,CAAS5J,UAAU,eACpBF,IAAC8J,EAAA,CAAS5J,UAAU,iBAGtBsD,KAAC,MAAA,CAAItD,UAAU,qCACbmD,SAAA,GAAArD,IAAC8J,EAAA,CAAS5J,UAAU,6BACpBF,IAAC8J,EAAA,CAAS5J,UAAU,gCAXjB2G,SAqBjB,GAAIc,EACF,SACEnE,KAAC,MAAA,CAAItD,UAAU,oBACbmD,SAAA,CAAArD,EAAAA,IAAC,KAAA,CAAGE,UAAU,wBAAwBmD,SAAA,mBACrC,MAAA,CAAInD,UAAU,wCACbmD,SAAAG,EAAAA,KAAC,MAAA,CAAItD,UAAU,cACbmD,SAAA,CAAArD,EAAAA,IAAC,IAAA,CAAEE,UAAU,mBAAmBmD,SAAA,yBAChCrD,EAAAA,IAAC,IAAA,CAAEE,UAAU,gCAAiCmD,WAAM0G,kBAO9D,MAAMC,EACJ9B,EAAcjC,QAAQW,OAASsB,EAAc5B,MAAMM,OAASsB,EAAc3B,SAASK,OAErF,SACEpD,KAAC,MAAA,CAAItD,UAAU,gBAEbmD,SAAA,CAAArD,EAAAA,IAAC,OAAIE,UAAU,4CACbmD,SAAAG,EAAAA,KAAC,MAAA,CAAItD,UAAU,mCACbmD,SAAA,CAAAG,OAAC,MAAA,CACCH,SAAA,CAAArD,EAAAA,IAAC,KAAA,CAAGE,UAAU,wBAAwBmD,SAAA,aACtCrD,EAAAA,IAAC,IAAA,CAAEE,UAAU,gCAAgCmD,SAAA,kDAI/CG,KAAC,MAAA,CAAItD,UAAU,0BACZmD,SAAA,CAAA6E,EAAcjC,QAAQW,OAAS,GAC9BpD,EAAAA,KAACoC,GAAMjB,QAAQ,cAAczE,UAAU,UACpCmD,SAAA,CAAA6E,EAAcjC,QAAQW,OAAO,cAGlCpD,EAAAA,KAACkB,EAAA,CACCC,QAAQ,UACRC,KAAK,KACL1E,UAAU,aACVX,QAASC,EAAA,KACPsD,OAAOC,SAASC,KAAO,mBADhB,WAITK,SAAA,GAAArD,IAACiK,EAAA,CAAK/J,UAAU,YAAY,sBAQpCF,EAAAA,IAAC,OACEqD,SAAe,IAAf2G,QAEE,MAAA,CAAI9J,UAAU,uCACbmD,SAAAG,EAAAA,KAAC,MAAA,CAAItD,UAAU,cACbmD,SAAA,CAAArD,EAAAA,IAAC,IAAA,CAAEE,UAAU,wBAAwBmD,SAAA,qBACrCrD,EAAAA,IAAC,IAAA,CAAEE,UAAU,wCAAwCmD,SAAA,sCAIzDrD,EAAAA,IAACkK,EAAA,CACCC,YAAarB,EACbsB,aAAcb,EACdc,UAAWX,EAEXrG,SAAAG,EAAAA,KAAC,MAAA,CACCtD,UAAU,yFAIV,cAAY,oBACZ,gBAAc,yBAEdmD,SAAA,CAAArD,EAAAA,IAAC8G,EAAA,CACCN,SAAS,UACT1B,MAAM,UACN4B,MAAOwB,EAAcjC,QACrBpF,WAAY+G,EACZ9G,SAAU+G,EACV9G,SAAU+G,EACV9G,OAAQ+G,IAEV/H,EAAAA,IAAC8G,EAAA,CACCN,SAAS,QACT1B,MAAM,QACN4B,MAAOwB,EAAc5B,MACrBzF,WAAY+G,EACZ9G,SAAU+G,EACV9G,SAAU+G,EACV9G,OAAQ+G,IAEV/H,EAAAA,IAAC8G,EAAA,CACCN,SAAS,WACT1B,MAAM,YACN4B,MAAOwB,EAAc3B,SACrB1F,WAAY+G,EACZ9G,SAAU+G,EACV9G,SAAU+G,EACV9G,OAAQ+G,aAQxB,CArRSvI,EAAAiI,EAAA"}